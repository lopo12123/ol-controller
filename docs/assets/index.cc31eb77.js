var Ws=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var Rt=(r,e,t)=>(Ws(r,e,"read from private field"),t?t.call(r):e.get(r)),mi=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Mr=(r,e,t,n)=>(Ws(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);const Dc=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}};Dc();function Ba(r,e){const t=Object.create(null),n=r.split(",");for(let i=0;i<n.length;i++)t[n[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}const bc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nc=Ba(bc);function fu(r){return!!r||r===""}function ja(r){if(it(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],i=Ut(n)?jc(n):ja(n);if(i)for(const o in i)e[o]=i[o]}return e}else{if(Ut(r))return r;if(Wt(r))return r}}const Gc=/;(?![^(]*\))/g,Bc=/:(.+)/;function jc(r){const e={};return r.split(Gc).forEach(t=>{if(t){const n=t.split(Bc);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ya(r){let e="";if(Ut(r))e=r;else if(it(r))for(let t=0;t<r.length;t++){const n=Ya(r[t]);n&&(e+=n+" ")}else if(Wt(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const zs=r=>Ut(r)?r:r==null?"":it(r)||Wt(r)&&(r.toString===gu||!ot(r.toString))?JSON.stringify(r,du,2):String(r),du=(r,e)=>e&&e.__v_isRef?du(r,e.value):ur(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,i])=>(t[`${n} =>`]=i,t),{})}:pu(e)?{[`Set(${e.size})`]:[...e.values()]}:Wt(e)&&!it(e)&&!_u(e)?String(e):e,mt={},lr=[],Te=()=>{},Yc=()=>!1,kc=/^on[^a-z]/,io=r=>kc.test(r),ka=r=>r.startsWith("onUpdate:"),Kt=Object.assign,Ua=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},Uc=Object.prototype.hasOwnProperty,ct=(r,e)=>Uc.call(r,e),it=Array.isArray,ur=r=>oo(r)==="[object Map]",pu=r=>oo(r)==="[object Set]",ot=r=>typeof r=="function",Ut=r=>typeof r=="string",Wa=r=>typeof r=="symbol",Wt=r=>r!==null&&typeof r=="object",vu=r=>Wt(r)&&ot(r.then)&&ot(r.catch),gu=Object.prototype.toString,oo=r=>gu.call(r),Wc=r=>oo(r).slice(8,-1),_u=r=>oo(r)==="[object Object]",za=r=>Ut(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Gi=Ba(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ao=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},zc=/-(\w)/g,vr=ao(r=>r.replace(zc,(e,t)=>t?t.toUpperCase():"")),Xc=/\B([A-Z])/g,Ar=ao(r=>r.replace(Xc,"-$1").toLowerCase()),yu=ao(r=>r.charAt(0).toUpperCase()+r.slice(1)),Do=ao(r=>r?`on${yu(r)}`:""),Hr=(r,e)=>!Object.is(r,e),Bi=(r,e)=>{for(let t=0;t<r.length;t++)r[t](e)},Ui=(r,e,t)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:t})},ea=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let Xs;const Hc=()=>Xs||(Xs=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let we;class Zc{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&we&&(this.parent=we,this.index=(we.scopes||(we.scopes=[])).push(this)-1)}run(e){if(this.active){const t=we;try{return we=this,e()}finally{we=t}}}on(){we=this}off(){we=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Kc(r,e=we){e&&e.active&&e.effects.push(r)}const Xa=r=>{const e=new Set(r);return e.w=0,e.n=0,e},mu=r=>(r.w&gn)>0,Au=r=>(r.n&gn)>0,Vc=({deps:r})=>{if(r.length)for(let e=0;e<r.length;e++)r[e].w|=gn},Qc=r=>{const{deps:e}=r;if(e.length){let t=0;for(let n=0;n<e.length;n++){const i=e[n];mu(i)&&!Au(i)?i.delete(r):e[t++]=i,i.w&=~gn,i.n&=~gn}e.length=t}},na=new WeakMap;let br=0,gn=1;const ra=30;let ye;const Dn=Symbol(""),ia=Symbol("");class Ha{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Kc(this,n)}run(){if(!this.active)return this.fn();let e=ye,t=dn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ye,ye=this,dn=!0,gn=1<<++br,br<=ra?Vc(this):Hs(this),this.fn()}finally{br<=ra&&Qc(this),gn=1<<--br,ye=this.parent,dn=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ye===this?this.deferStop=!0:this.active&&(Hs(this),this.onStop&&this.onStop(),this.active=!1)}}function Hs(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}let dn=!0;const Eu=[];function Er(){Eu.push(dn),dn=!1}function Tr(){const r=Eu.pop();dn=r===void 0?!0:r}function ae(r,e,t){if(dn&&ye){let n=na.get(r);n||na.set(r,n=new Map);let i=n.get(t);i||n.set(t,i=Xa()),Tu(i)}}function Tu(r,e){let t=!1;br<=ra?Au(r)||(r.n|=gn,t=!mu(r)):t=!r.has(ye),t&&(r.add(ye),ye.deps.push(r))}function He(r,e,t,n,i,o){const a=na.get(r);if(!a)return;let s=[];if(e==="clear")s=[...a.values()];else if(t==="length"&&it(r))a.forEach((l,u)=>{(u==="length"||u>=n)&&s.push(l)});else switch(t!==void 0&&s.push(a.get(t)),e){case"add":it(r)?za(t)&&s.push(a.get("length")):(s.push(a.get(Dn)),ur(r)&&s.push(a.get(ia)));break;case"delete":it(r)||(s.push(a.get(Dn)),ur(r)&&s.push(a.get(ia)));break;case"set":ur(r)&&s.push(a.get(Dn));break}if(s.length===1)s[0]&&oa(s[0]);else{const l=[];for(const u of s)u&&l.push(...u);oa(Xa(l))}}function oa(r,e){const t=it(r)?r:[...r];for(const n of t)n.computed&&Zs(n);for(const n of t)n.computed||Zs(n)}function Zs(r,e){(r!==ye||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const Jc=Ba("__proto__,__v_isRef,__isVue"),xu=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Wa)),$c=Za(),qc=Za(!1,!0),tf=Za(!0),Ks=ef();function ef(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...t){const n=gt(this);for(let o=0,a=this.length;o<a;o++)ae(n,"get",o+"");const i=n[e](...t);return i===-1||i===!1?n[e](...t.map(gt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...t){Er();const n=gt(this)[e].apply(this,t);return Tr(),n}}),r}function Za(r=!1,e=!1){return function(n,i,o){if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(r?e?yf:Ru:e?Ou:Iu).get(n))return n;const a=it(n);if(!r&&a&&ct(Ks,i))return Reflect.get(Ks,i,o);const s=Reflect.get(n,i,o);return(Wa(i)?xu.has(i):Jc(i))||(r||ae(n,"get",i),e)?s:Zt(s)?a&&za(i)?s:s.value:Wt(s)?r?Su(s):Qa(s):s}}const nf=Cu(),rf=Cu(!0);function Cu(r=!1){return function(t,n,i,o){let a=t[n];if(Zr(a)&&Zt(a)&&!Zt(i))return!1;if(!r&&!Zr(i)&&(aa(i)||(i=gt(i),a=gt(a)),!it(t)&&Zt(a)&&!Zt(i)))return a.value=i,!0;const s=it(t)&&za(n)?Number(n)<t.length:ct(t,n),l=Reflect.set(t,n,i,o);return t===gt(o)&&(s?Hr(i,a)&&He(t,"set",n,i):He(t,"add",n,i)),l}}function of(r,e){const t=ct(r,e);r[e];const n=Reflect.deleteProperty(r,e);return n&&t&&He(r,"delete",e,void 0),n}function af(r,e){const t=Reflect.has(r,e);return(!Wa(e)||!xu.has(e))&&ae(r,"has",e),t}function sf(r){return ae(r,"iterate",it(r)?"length":Dn),Reflect.ownKeys(r)}const wu={get:$c,set:nf,deleteProperty:of,has:af,ownKeys:sf},lf={get:tf,set(r,e){return!0},deleteProperty(r,e){return!0}},uf=Kt({},wu,{get:qc,set:rf}),Ka=r=>r,so=r=>Reflect.getPrototypeOf(r);function Ai(r,e,t=!1,n=!1){r=r.__v_raw;const i=gt(r),o=gt(e);t||(e!==o&&ae(i,"get",e),ae(i,"get",o));const{has:a}=so(i),s=n?Ka:t?$a:Kr;if(a.call(i,e))return s(r.get(e));if(a.call(i,o))return s(r.get(o));r!==i&&r.get(e)}function Ei(r,e=!1){const t=this.__v_raw,n=gt(t),i=gt(r);return e||(r!==i&&ae(n,"has",r),ae(n,"has",i)),r===i?t.has(r):t.has(r)||t.has(i)}function Ti(r,e=!1){return r=r.__v_raw,!e&&ae(gt(r),"iterate",Dn),Reflect.get(r,"size",r)}function Vs(r){r=gt(r);const e=gt(this);return so(e).has.call(e,r)||(e.add(r),He(e,"add",r,r)),this}function Qs(r,e){e=gt(e);const t=gt(this),{has:n,get:i}=so(t);let o=n.call(t,r);o||(r=gt(r),o=n.call(t,r));const a=i.call(t,r);return t.set(r,e),o?Hr(e,a)&&He(t,"set",r,e):He(t,"add",r,e),this}function Js(r){const e=gt(this),{has:t,get:n}=so(e);let i=t.call(e,r);i||(r=gt(r),i=t.call(e,r)),n&&n.call(e,r);const o=e.delete(r);return i&&He(e,"delete",r,void 0),o}function $s(){const r=gt(this),e=r.size!==0,t=r.clear();return e&&He(r,"clear",void 0,void 0),t}function xi(r,e){return function(n,i){const o=this,a=o.__v_raw,s=gt(a),l=e?Ka:r?$a:Kr;return!r&&ae(s,"iterate",Dn),a.forEach((u,h)=>n.call(i,l(u),l(h),o))}}function Ci(r,e,t){return function(...n){const i=this.__v_raw,o=gt(i),a=ur(o),s=r==="entries"||r===Symbol.iterator&&a,l=r==="keys"&&a,u=i[r](...n),h=t?Ka:e?$a:Kr;return!e&&ae(o,"iterate",l?ia:Dn),{next(){const{value:f,done:c}=u.next();return c?{value:f,done:c}:{value:s?[h(f[0]),h(f[1])]:h(f),done:c}},[Symbol.iterator](){return this}}}}function $e(r){return function(...e){return r==="delete"?!1:this}}function hf(){const r={get(o){return Ai(this,o)},get size(){return Ti(this)},has:Ei,add:Vs,set:Qs,delete:Js,clear:$s,forEach:xi(!1,!1)},e={get(o){return Ai(this,o,!1,!0)},get size(){return Ti(this)},has:Ei,add:Vs,set:Qs,delete:Js,clear:$s,forEach:xi(!1,!0)},t={get(o){return Ai(this,o,!0)},get size(){return Ti(this,!0)},has(o){return Ei.call(this,o,!0)},add:$e("add"),set:$e("set"),delete:$e("delete"),clear:$e("clear"),forEach:xi(!0,!1)},n={get(o){return Ai(this,o,!0,!0)},get size(){return Ti(this,!0)},has(o){return Ei.call(this,o,!0)},add:$e("add"),set:$e("set"),delete:$e("delete"),clear:$e("clear"),forEach:xi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{r[o]=Ci(o,!1,!1),t[o]=Ci(o,!0,!1),e[o]=Ci(o,!1,!0),n[o]=Ci(o,!0,!0)}),[r,t,e,n]}const[cf,ff,df,pf]=hf();function Va(r,e){const t=e?r?pf:df:r?ff:cf;return(n,i,o)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(ct(t,i)&&i in n?t:n,i,o)}const vf={get:Va(!1,!1)},gf={get:Va(!1,!0)},_f={get:Va(!0,!1)},Iu=new WeakMap,Ou=new WeakMap,Ru=new WeakMap,yf=new WeakMap;function mf(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Af(r){return r.__v_skip||!Object.isExtensible(r)?0:mf(Wc(r))}function Qa(r){return Zr(r)?r:Ja(r,!1,wu,vf,Iu)}function Ef(r){return Ja(r,!1,uf,gf,Ou)}function Su(r){return Ja(r,!0,lf,_f,Ru)}function Ja(r,e,t,n,i){if(!Wt(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const o=i.get(r);if(o)return o;const a=Af(r);if(a===0)return r;const s=new Proxy(r,a===2?n:t);return i.set(r,s),s}function hr(r){return Zr(r)?hr(r.__v_raw):!!(r&&r.__v_isReactive)}function Zr(r){return!!(r&&r.__v_isReadonly)}function aa(r){return!!(r&&r.__v_isShallow)}function Pu(r){return hr(r)||Zr(r)}function gt(r){const e=r&&r.__v_raw;return e?gt(e):r}function Lu(r){return Ui(r,"__v_skip",!0),r}const Kr=r=>Wt(r)?Qa(r):r,$a=r=>Wt(r)?Su(r):r;function Mu(r){dn&&ye&&(r=gt(r),Tu(r.dep||(r.dep=Xa())))}function Fu(r,e){r=gt(r),r.dep&&oa(r.dep)}function Zt(r){return!!(r&&r.__v_isRef===!0)}function De(r){return Du(r,!1)}function Tf(r){return Du(r,!0)}function Du(r,e){return Zt(r)?r:new xf(r,e)}class xf{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:gt(e),this._value=t?e:Kr(e)}get value(){return Mu(this),this._value}set value(e){e=this.__v_isShallow?e:gt(e),Hr(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Kr(e),Fu(this))}}function Cf(r){return Zt(r)?r.value:r}const wf={get:(r,e,t)=>Cf(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const i=r[e];return Zt(i)&&!Zt(t)?(i.value=t,!0):Reflect.set(r,e,t,n)}};function bu(r){return hr(r)?r:new Proxy(r,wf)}class If{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Ha(e,()=>{this._dirty||(this._dirty=!0,Fu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=gt(this);return Mu(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Of(r,e,t=!1){let n,i;const o=ot(r);return o?(n=r,i=Te):(n=r.get,i=r.set),new If(n,i,o||!i,t)}function pn(r,e,t,n){let i;try{i=n?r(...n):r()}catch(o){lo(o,e,t)}return i}function ce(r,e,t,n){if(ot(r)){const o=pn(r,e,t,n);return o&&vu(o)&&o.catch(a=>{lo(a,e,t)}),o}const i=[];for(let o=0;o<r.length;o++)i.push(ce(r[o],e,t,n));return i}function lo(r,e,t,n=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const a=e.proxy,s=t;for(;o;){const u=o.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](r,a,s)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){pn(l,null,10,[r,a,s]);return}}Rf(r,t,i,n)}function Rf(r,e,t,n=!0){console.error(r)}let Wi=!1,sa=!1;const oe=[];let ke=0;const kr=[];let Nr=null,qn=0;const Ur=[];let rn=null,tr=0;const Nu=Promise.resolve();let qa=null,la=null;function Sf(r){const e=qa||Nu;return r?e.then(this?r.bind(this):r):e}function Pf(r){let e=ke+1,t=oe.length;for(;e<t;){const n=e+t>>>1;Vr(oe[n])<r?e=n+1:t=n}return e}function Gu(r){(!oe.length||!oe.includes(r,Wi&&r.allowRecurse?ke+1:ke))&&r!==la&&(r.id==null?oe.push(r):oe.splice(Pf(r.id),0,r),Bu())}function Bu(){!Wi&&!sa&&(sa=!0,qa=Nu.then(ku))}function Lf(r){const e=oe.indexOf(r);e>ke&&oe.splice(e,1)}function ju(r,e,t,n){it(r)?t.push(...r):(!e||!e.includes(r,r.allowRecurse?n+1:n))&&t.push(r),Bu()}function Mf(r){ju(r,Nr,kr,qn)}function Ff(r){ju(r,rn,Ur,tr)}function uo(r,e=null){if(kr.length){for(la=e,Nr=[...new Set(kr)],kr.length=0,qn=0;qn<Nr.length;qn++)Nr[qn]();Nr=null,qn=0,la=null,uo(r,e)}}function Yu(r){if(uo(),Ur.length){const e=[...new Set(Ur)];if(Ur.length=0,rn){rn.push(...e);return}for(rn=e,rn.sort((t,n)=>Vr(t)-Vr(n)),tr=0;tr<rn.length;tr++)rn[tr]();rn=null,tr=0}}const Vr=r=>r.id==null?1/0:r.id;function ku(r){sa=!1,Wi=!0,uo(r),oe.sort((t,n)=>Vr(t)-Vr(n));const e=Te;try{for(ke=0;ke<oe.length;ke++){const t=oe[ke];t&&t.active!==!1&&pn(t,null,14)}}finally{ke=0,oe.length=0,Yu(),Wi=!1,qa=null,(oe.length||kr.length||Ur.length)&&ku(r)}}function Df(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||mt;let i=t;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in n){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:c}=n[h]||mt;c&&(i=t.map(d=>d.trim())),f&&(i=t.map(ea))}let s,l=n[s=Do(e)]||n[s=Do(vr(e))];!l&&o&&(l=n[s=Do(Ar(e))]),l&&ce(l,r,6,i);const u=n[s+"Once"];if(u){if(!r.emitted)r.emitted={};else if(r.emitted[s])return;r.emitted[s]=!0,ce(u,r,6,i)}}function Uu(r,e,t=!1){const n=e.emitsCache,i=n.get(r);if(i!==void 0)return i;const o=r.emits;let a={},s=!1;if(!ot(r)){const l=u=>{const h=Uu(u,e,!0);h&&(s=!0,Kt(a,h))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!o&&!s?(n.set(r,null),null):(it(o)?o.forEach(l=>a[l]=null):Kt(a,o),n.set(r,a),a)}function ho(r,e){return!r||!io(e)?!1:(e=e.slice(2).replace(/Once$/,""),ct(r,e[0].toLowerCase()+e.slice(1))||ct(r,Ar(e))||ct(r,e))}let Ae=null,co=null;function zi(r){const e=Ae;return Ae=r,co=r&&r.type.__scopeId||null,e}function bf(r){co=r}function Nf(){co=null}function Gf(r,e=Ae,t){if(!e||r._n)return r;const n=(...i)=>{n._d&&ll(-1);const o=zi(e),a=r(...i);return zi(o),n._d&&ll(1),a};return n._n=!0,n._c=!0,n._d=!0,n}function bo(r){const{type:e,vnode:t,proxy:n,withProxy:i,props:o,propsOptions:[a],slots:s,attrs:l,emit:u,render:h,renderCache:f,data:c,setupState:d,ctx:p,inheritAttrs:v}=r;let _,m;const T=zi(r);try{if(t.shapeFlag&4){const A=i||n;_=Oe(h.call(A,A,f,o,d,c,p)),m=l}else{const A=e;_=Oe(A.length>1?A(o,{attrs:l,slots:s,emit:u}):A(o,null)),m=e.props?l:Bf(l)}}catch(A){Wr.length=0,lo(A,r,1),_=bn(Ue)}let E=_;if(m&&v!==!1){const A=Object.keys(m),{shapeFlag:x}=E;A.length&&x&7&&(a&&A.some(ka)&&(m=jf(m,a)),E=_n(E,m))}return t.dirs&&(E=_n(E),E.dirs=E.dirs?E.dirs.concat(t.dirs):t.dirs),t.transition&&(E.transition=t.transition),_=E,zi(T),_}const Bf=r=>{let e;for(const t in r)(t==="class"||t==="style"||io(t))&&((e||(e={}))[t]=r[t]);return e},jf=(r,e)=>{const t={};for(const n in r)(!ka(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t};function Yf(r,e,t){const{props:n,children:i,component:o}=r,{props:a,children:s,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?qs(n,a,u):!!a;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const c=h[f];if(a[c]!==n[c]&&!ho(u,c))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?qs(n,a,u):!0:!!a;return!1}function qs(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==r[o]&&!ho(t,o))return!0}return!1}function kf({vnode:r,parent:e},t){for(;e&&e.subTree===r;)(r=e.vnode).el=t,e=e.parent}const Uf=r=>r.__isSuspense;function Wf(r,e){e&&e.pendingBranch?it(r)?e.effects.push(...r):e.effects.push(r):Ff(r)}function zf(r,e){if(kt){let t=kt.provides;const n=kt.parent&&kt.parent.provides;n===t&&(t=kt.provides=Object.create(n)),t[r]=e}}function No(r,e,t=!1){const n=kt||Ae;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&r in i)return i[r];if(arguments.length>1)return t&&ot(e)?e.call(n.proxy):e}}const tl={};function Go(r,e,t){return Wu(r,e,t)}function Wu(r,e,{immediate:t,deep:n,flush:i,onTrack:o,onTrigger:a}=mt){const s=kt;let l,u=!1,h=!1;if(Zt(r)?(l=()=>r.value,u=aa(r)):hr(r)?(l=()=>r,n=!0):it(r)?(h=!0,u=r.some(m=>hr(m)||aa(m)),l=()=>r.map(m=>{if(Zt(m))return m.value;if(hr(m))return Sn(m);if(ot(m))return pn(m,s,2)})):ot(r)?e?l=()=>pn(r,s,2):l=()=>{if(!(s&&s.isUnmounted))return f&&f(),ce(r,s,3,[c])}:l=Te,e&&n){const m=l;l=()=>Sn(m())}let f,c=m=>{f=_.onStop=()=>{pn(m,s,4)}};if(Jr)return c=Te,e?t&&ce(e,s,3,[l(),h?[]:void 0,c]):l(),Te;let d=h?[]:tl;const p=()=>{if(!!_.active)if(e){const m=_.run();(n||u||(h?m.some((T,E)=>Hr(T,d[E])):Hr(m,d)))&&(f&&f(),ce(e,s,3,[m,d===tl?void 0:d,c]),d=m)}else _.run()};p.allowRecurse=!!e;let v;i==="sync"?v=p:i==="post"?v=()=>qt(p,s&&s.suspense):v=()=>Mf(p);const _=new Ha(l,v);return e?t?p():d=_.run():i==="post"?qt(_.run.bind(_),s&&s.suspense):_.run(),()=>{_.stop(),s&&s.scope&&Ua(s.scope.effects,_)}}function Xf(r,e,t){const n=this.proxy,i=Ut(r)?r.includes(".")?zu(n,r):()=>n[r]:r.bind(n,n);let o;ot(e)?o=e:(o=e.handler,t=e);const a=kt;gr(this);const s=Wu(i,o.bind(n),t);return a?gr(a):Nn(),s}function zu(r,e){const t=e.split(".");return()=>{let n=r;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n}}function Sn(r,e){if(!Wt(r)||r.__v_skip||(e=e||new Set,e.has(r)))return r;if(e.add(r),Zt(r))Sn(r.value,e);else if(it(r))for(let t=0;t<r.length;t++)Sn(r[t],e);else if(pu(r)||ur(r))r.forEach(t=>{Sn(t,e)});else if(_u(r))for(const t in r)Sn(r[t],e);return r}function Hf(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ku(()=>{r.isMounted=!0}),ts(()=>{r.isUnmounting=!0}),r}const le=[Function,Array],Zf={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:le,onEnter:le,onAfterEnter:le,onEnterCancelled:le,onBeforeLeave:le,onLeave:le,onAfterLeave:le,onLeaveCancelled:le,onBeforeAppear:le,onAppear:le,onAfterAppear:le,onAppearCancelled:le},setup(r,{slots:e}){const t=Nd(),n=Hf();let i;return()=>{const o=e.default&&Hu(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const v of o)if(v.type!==Ue){a=v;break}}const s=gt(r),{mode:l}=s;if(n.isLeaving)return Bo(a);const u=el(a);if(!u)return Bo(a);const h=ua(u,s,n,t);ha(u,h);const f=t.subTree,c=f&&el(f);let d=!1;const{getTransitionKey:p}=u.type;if(p){const v=p();i===void 0?i=v:v!==i&&(i=v,d=!0)}if(c&&c.type!==Ue&&(!In(u,c)||d)){const v=ua(c,s,n,t);if(ha(c,v),l==="out-in")return n.isLeaving=!0,v.afterLeave=()=>{n.isLeaving=!1,t.update()},Bo(a);l==="in-out"&&u.type!==Ue&&(v.delayLeave=(_,m,T)=>{const E=Xu(n,c);E[String(c.key)]=c,_._leaveCb=()=>{m(),_._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=T})}return a}}},Kf=Zf;function Xu(r,e){const{leavingVNodes:t}=r;let n=t.get(e.type);return n||(n=Object.create(null),t.set(e.type,n)),n}function ua(r,e,t,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:c,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:v,onAppear:_,onAfterAppear:m,onAppearCancelled:T}=e,E=String(r.key),A=Xu(t,r),x=(w,L)=>{w&&ce(w,n,9,L)},I=(w,L)=>{const N=L[1];x(w,L),it(w)?w.every(Y=>Y.length<=1)&&N():w.length<=1&&N()},M={mode:o,persisted:a,beforeEnter(w){let L=s;if(!t.isMounted)if(i)L=v||s;else return;w._leaveCb&&w._leaveCb(!0);const N=A[E];N&&In(r,N)&&N.el._leaveCb&&N.el._leaveCb(),x(L,[w])},enter(w){let L=l,N=u,Y=h;if(!t.isMounted)if(i)L=_||l,N=m||u,Y=T||h;else return;let H=!1;const k=w._enterCb=tt=>{H||(H=!0,tt?x(Y,[w]):x(N,[w]),M.delayedLeave&&M.delayedLeave(),w._enterCb=void 0)};L?I(L,[w,k]):k()},leave(w,L){const N=String(r.key);if(w._enterCb&&w._enterCb(!0),t.isUnmounting)return L();x(f,[w]);let Y=!1;const H=w._leaveCb=k=>{Y||(Y=!0,L(),k?x(p,[w]):x(d,[w]),w._leaveCb=void 0,A[N]===r&&delete A[N])};A[N]=r,c?I(c,[w,H]):H()},clone(w){return ua(w,e,t,n)}};return M}function Bo(r){if(fo(r))return r=_n(r),r.children=null,r}function el(r){return fo(r)?r.children?r.children[0]:void 0:r}function ha(r,e){r.shapeFlag&6&&r.component?ha(r.component.subTree,e):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function Hu(r,e=!1,t){let n=[],i=0;for(let o=0;o<r.length;o++){let a=r[o];const s=t==null?a.key:String(t)+String(a.key!=null?a.key:o);a.type===Ie?(a.patchFlag&128&&i++,n=n.concat(Hu(a.children,e,s))):(e||a.type!==Ue)&&n.push(s!=null?_n(a,{key:s}):a)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function Vf(r){return ot(r)?{setup:r,name:r.name}:r}const ji=r=>!!r.type.__asyncLoader,fo=r=>r.type.__isKeepAlive;function Qf(r,e){Zu(r,"a",e)}function Jf(r,e){Zu(r,"da",e)}function Zu(r,e,t=kt){const n=r.__wdc||(r.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(po(e,n,t),t){let i=t.parent;for(;i&&i.parent;)fo(i.parent.vnode)&&$f(n,e,t,i),i=i.parent}}function $f(r,e,t,n){const i=po(e,r,n,!0);Vu(()=>{Ua(n[e],i)},t)}function po(r,e,t=kt,n=!1){if(t){const i=t[r]||(t[r]=[]),o=e.__weh||(e.__weh=(...a)=>{if(t.isUnmounted)return;Er(),gr(t);const s=ce(e,t,r,a);return Nn(),Tr(),s});return n?i.unshift(o):i.push(o),o}}const Ke=r=>(e,t=kt)=>(!Jr||r==="sp")&&po(r,e,t),qf=Ke("bm"),Ku=Ke("m"),td=Ke("bu"),ed=Ke("u"),ts=Ke("bum"),Vu=Ke("um"),nd=Ke("sp"),rd=Ke("rtg"),id=Ke("rtc");function od(r,e=kt){po("ec",r,e)}function Zn(r,e){const t=Ae;if(t===null)return r;const n=go(t)||t.proxy,i=r.dirs||(r.dirs=[]);for(let o=0;o<e.length;o++){let[a,s,l,u=mt]=e[o];ot(a)&&(a={mounted:a,updated:a}),a.deep&&Sn(s),i.push({dir:a,instance:n,value:s,oldValue:void 0,arg:l,modifiers:u})}return r}function An(r,e,t,n){const i=r.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[n];l&&(Er(),ce(l,t,8,[r.el,s,r,e]),Tr())}}const ad=Symbol(),ca=r=>r?ah(r)?go(r)||r.proxy:ca(r.parent):null,Xi=Kt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>ca(r.parent),$root:r=>ca(r.root),$emit:r=>r.emit,$options:r=>Ju(r),$forceUpdate:r=>r.f||(r.f=()=>Gu(r.update)),$nextTick:r=>r.n||(r.n=Sf.bind(r.proxy)),$watch:r=>Xf.bind(r)}),sd={get({_:r},e){const{ctx:t,setupState:n,data:i,props:o,accessCache:a,type:s,appContext:l}=r;let u;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return n[e];case 2:return i[e];case 4:return t[e];case 3:return o[e]}else{if(n!==mt&&ct(n,e))return a[e]=1,n[e];if(i!==mt&&ct(i,e))return a[e]=2,i[e];if((u=r.propsOptions[0])&&ct(u,e))return a[e]=3,o[e];if(t!==mt&&ct(t,e))return a[e]=4,t[e];fa&&(a[e]=0)}}const h=Xi[e];let f,c;if(h)return e==="$attrs"&&ae(r,"get",e),h(r);if((f=s.__cssModules)&&(f=f[e]))return f;if(t!==mt&&ct(t,e))return a[e]=4,t[e];if(c=l.config.globalProperties,ct(c,e))return c[e]},set({_:r},e,t){const{data:n,setupState:i,ctx:o}=r;return i!==mt&&ct(i,e)?(i[e]=t,!0):n!==mt&&ct(n,e)?(n[e]=t,!0):ct(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(o[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:i,propsOptions:o}},a){let s;return!!t[a]||r!==mt&&ct(r,a)||e!==mt&&ct(e,a)||(s=o[0])&&ct(s,a)||ct(n,a)||ct(Xi,a)||ct(i.config.globalProperties,a)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:ct(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};let fa=!0;function ld(r){const e=Ju(r),t=r.proxy,n=r.ctx;fa=!1,e.beforeCreate&&nl(e.beforeCreate,r,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:u,created:h,beforeMount:f,mounted:c,beforeUpdate:d,updated:p,activated:v,deactivated:_,beforeDestroy:m,beforeUnmount:T,destroyed:E,unmounted:A,render:x,renderTracked:I,renderTriggered:M,errorCaptured:w,serverPrefetch:L,expose:N,inheritAttrs:Y,components:H,directives:k,filters:tt}=e;if(u&&ud(u,n,null,r.appContext.config.unwrapInjectedRef),a)for(const B in a){const X=a[B];ot(X)&&(n[B]=X.bind(t))}if(i){const B=i.call(t,t);Wt(B)&&(r.data=Qa(B))}if(fa=!0,o)for(const B in o){const X=o[B],et=ot(X)?X.bind(t,t):ot(X.get)?X.get.bind(t,t):Te,st=!ot(X)&&ot(X.set)?X.set.bind(t):Te,_t=Ud({get:et,set:st});Object.defineProperty(n,B,{enumerable:!0,configurable:!0,get:()=>_t.value,set:P=>_t.value=P})}if(s)for(const B in s)Qu(s[B],n,t,B);if(l){const B=ot(l)?l.call(t):l;Reflect.ownKeys(B).forEach(X=>{zf(X,B[X])})}h&&nl(h,r,"c");function U(B,X){it(X)?X.forEach(et=>B(et.bind(t))):X&&B(X.bind(t))}if(U(qf,f),U(Ku,c),U(td,d),U(ed,p),U(Qf,v),U(Jf,_),U(od,w),U(id,I),U(rd,M),U(ts,T),U(Vu,A),U(nd,L),it(N))if(N.length){const B=r.exposed||(r.exposed={});N.forEach(X=>{Object.defineProperty(B,X,{get:()=>t[X],set:et=>t[X]=et})})}else r.exposed||(r.exposed={});x&&r.render===Te&&(r.render=x),Y!=null&&(r.inheritAttrs=Y),H&&(r.components=H),k&&(r.directives=k)}function ud(r,e,t=Te,n=!1){it(r)&&(r=da(r));for(const i in r){const o=r[i];let a;Wt(o)?"default"in o?a=No(o.from||i,o.default,!0):a=No(o.from||i):a=No(o),Zt(a)&&n?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[i]=a}}function nl(r,e,t){ce(it(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function Qu(r,e,t,n){const i=n.includes(".")?zu(t,n):()=>t[n];if(Ut(r)){const o=e[r];ot(o)&&Go(i,o)}else if(ot(r))Go(i,r.bind(t));else if(Wt(r))if(it(r))r.forEach(o=>Qu(o,e,t,n));else{const o=ot(r.handler)?r.handler.bind(t):e[r.handler];ot(o)&&Go(i,o,r)}}function Ju(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=r.appContext,s=o.get(e);let l;return s?l=s:!i.length&&!t&&!n?l=e:(l={},i.length&&i.forEach(u=>Hi(l,u,a,!0)),Hi(l,e,a)),o.set(e,l),l}function Hi(r,e,t,n=!1){const{mixins:i,extends:o}=e;o&&Hi(r,o,t,!0),i&&i.forEach(a=>Hi(r,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const s=hd[a]||t&&t[a];r[a]=s?s(r[a],e[a]):e[a]}return r}const hd={data:rl,props:Cn,emits:Cn,methods:Cn,computed:Cn,beforeCreate:Vt,created:Vt,beforeMount:Vt,mounted:Vt,beforeUpdate:Vt,updated:Vt,beforeDestroy:Vt,beforeUnmount:Vt,destroyed:Vt,unmounted:Vt,activated:Vt,deactivated:Vt,errorCaptured:Vt,serverPrefetch:Vt,components:Cn,directives:Cn,watch:fd,provide:rl,inject:cd};function rl(r,e){return e?r?function(){return Kt(ot(r)?r.call(this,this):r,ot(e)?e.call(this,this):e)}:e:r}function cd(r,e){return Cn(da(r),da(e))}function da(r){if(it(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function Vt(r,e){return r?[...new Set([].concat(r,e))]:e}function Cn(r,e){return r?Kt(Kt(Object.create(null),r),e):e}function fd(r,e){if(!r)return e;if(!e)return r;const t=Kt(Object.create(null),r);for(const n in e)t[n]=Vt(r[n],e[n]);return t}function dd(r,e,t,n=!1){const i={},o={};Ui(o,vo,1),r.propsDefaults=Object.create(null),$u(r,e,i,o);for(const a in r.propsOptions[0])a in i||(i[a]=void 0);t?r.props=n?i:Ef(i):r.type.props?r.props=i:r.props=o,r.attrs=o}function pd(r,e,t,n){const{props:i,attrs:o,vnode:{patchFlag:a}}=r,s=gt(i),[l]=r.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const h=r.vnode.dynamicProps;for(let f=0;f<h.length;f++){let c=h[f];if(ho(r.emitsOptions,c))continue;const d=e[c];if(l)if(ct(o,c))d!==o[c]&&(o[c]=d,u=!0);else{const p=vr(c);i[p]=pa(l,s,p,d,r,!1)}else d!==o[c]&&(o[c]=d,u=!0)}}}else{$u(r,e,i,o)&&(u=!0);let h;for(const f in s)(!e||!ct(e,f)&&((h=Ar(f))===f||!ct(e,h)))&&(l?t&&(t[f]!==void 0||t[h]!==void 0)&&(i[f]=pa(l,s,f,void 0,r,!0)):delete i[f]);if(o!==s)for(const f in o)(!e||!ct(e,f)&&!0)&&(delete o[f],u=!0)}u&&He(r,"set","$attrs")}function $u(r,e,t,n){const[i,o]=r.propsOptions;let a=!1,s;if(e)for(let l in e){if(Gi(l))continue;const u=e[l];let h;i&&ct(i,h=vr(l))?!o||!o.includes(h)?t[h]=u:(s||(s={}))[h]=u:ho(r.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(o){const l=gt(t),u=s||mt;for(let h=0;h<o.length;h++){const f=o[h];t[f]=pa(i,l,f,u[f],r,!ct(u,f))}}return a}function pa(r,e,t,n,i,o){const a=r[t];if(a!=null){const s=ct(a,"default");if(s&&n===void 0){const l=a.default;if(a.type!==Function&&ot(l)){const{propsDefaults:u}=i;t in u?n=u[t]:(gr(i),n=u[t]=l.call(null,e),Nn())}else n=l}a[0]&&(o&&!s?n=!1:a[1]&&(n===""||n===Ar(t))&&(n=!0))}return n}function qu(r,e,t=!1){const n=e.propsCache,i=n.get(r);if(i)return i;const o=r.props,a={},s=[];let l=!1;if(!ot(r)){const h=f=>{l=!0;const[c,d]=qu(f,e,!0);Kt(a,c),d&&s.push(...d)};!t&&e.mixins.length&&e.mixins.forEach(h),r.extends&&h(r.extends),r.mixins&&r.mixins.forEach(h)}if(!o&&!l)return n.set(r,lr),lr;if(it(o))for(let h=0;h<o.length;h++){const f=vr(o[h]);il(f)&&(a[f]=mt)}else if(o)for(const h in o){const f=vr(h);if(il(f)){const c=o[h],d=a[f]=it(c)||ot(c)?{type:c}:c;if(d){const p=sl(Boolean,d.type),v=sl(String,d.type);d[0]=p>-1,d[1]=v<0||p<v,(p>-1||ct(d,"default"))&&s.push(f)}}}const u=[a,s];return n.set(r,u),u}function il(r){return r[0]!=="$"}function ol(r){const e=r&&r.toString().match(/^\s*function (\w+)/);return e?e[1]:r===null?"null":""}function al(r,e){return ol(r)===ol(e)}function sl(r,e){return it(e)?e.findIndex(t=>al(t,r)):ot(e)&&al(e,r)?0:-1}const th=r=>r[0]==="_"||r==="$stable",es=r=>it(r)?r.map(Oe):[Oe(r)],vd=(r,e,t)=>{if(e._n)return e;const n=Gf((...i)=>es(e(...i)),t);return n._c=!1,n},eh=(r,e,t)=>{const n=r._ctx;for(const i in r){if(th(i))continue;const o=r[i];if(ot(o))e[i]=vd(i,o,n);else if(o!=null){const a=es(o);e[i]=()=>a}}},nh=(r,e)=>{const t=es(e);r.slots.default=()=>t},gd=(r,e)=>{if(r.vnode.shapeFlag&32){const t=e._;t?(r.slots=gt(e),Ui(e,"_",t)):eh(e,r.slots={})}else r.slots={},e&&nh(r,e);Ui(r.slots,vo,1)},_d=(r,e,t)=>{const{vnode:n,slots:i}=r;let o=!0,a=mt;if(n.shapeFlag&32){const s=e._;s?t&&s===1?o=!1:(Kt(i,e),!t&&s===1&&delete i._):(o=!e.$stable,eh(e,i)),a=e}else e&&(nh(r,e),a={default:1});if(o)for(const s in i)!th(s)&&!(s in a)&&delete i[s]};function rh(){return{app:null,config:{isNativeTag:Yc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yd=0;function md(r,e){return function(n,i=null){ot(n)||(n=Object.assign({},n)),i!=null&&!Wt(i)&&(i=null);const o=rh(),a=new Set;let s=!1;const l=o.app={_uid:yd++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Wd,get config(){return o.config},set config(u){},use(u,...h){return a.has(u)||(u&&ot(u.install)?(a.add(u),u.install(l,...h)):ot(u)&&(a.add(u),u(l,...h))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,h){return h?(o.components[u]=h,l):o.components[u]},directive(u,h){return h?(o.directives[u]=h,l):o.directives[u]},mount(u,h,f){if(!s){const c=bn(n,i);return c.appContext=o,h&&e?e(c,u):r(c,u,f),s=!0,l._container=u,u.__vue_app__=l,go(c.component)||c.component.proxy}},unmount(){s&&(r(null,l._container),delete l._container.__vue_app__)},provide(u,h){return o.provides[u]=h,l}};return l}}function va(r,e,t,n,i=!1){if(it(r)){r.forEach((c,d)=>va(c,e&&(it(e)?e[d]:e),t,n,i));return}if(ji(n)&&!i)return;const o=n.shapeFlag&4?go(n.component)||n.component.proxy:n.el,a=i?null:o,{i:s,r:l}=r,u=e&&e.r,h=s.refs===mt?s.refs={}:s.refs,f=s.setupState;if(u!=null&&u!==l&&(Ut(u)?(h[u]=null,ct(f,u)&&(f[u]=null)):Zt(u)&&(u.value=null)),ot(l))pn(l,s,12,[a,h]);else{const c=Ut(l),d=Zt(l);if(c||d){const p=()=>{if(r.f){const v=c?h[l]:l.value;i?it(v)&&Ua(v,o):it(v)?v.includes(o)||v.push(o):c?(h[l]=[o],ct(f,l)&&(f[l]=h[l])):(l.value=[o],r.k&&(h[r.k]=l.value))}else c?(h[l]=a,ct(f,l)&&(f[l]=a)):d&&(l.value=a,r.k&&(h[r.k]=a))};a?(p.id=-1,qt(p,t)):p()}}}const qt=Wf;function Ad(r){return Ed(r)}function Ed(r,e){const t=Hc();t.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:u,setElementText:h,parentNode:f,nextSibling:c,setScopeId:d=Te,cloneNode:p,insertStaticContent:v}=r,_=(g,y,C,R=null,O=null,D=null,G=!1,F=null,b=!!y.dynamicChildren)=>{if(g===y)return;g&&!In(g,y)&&(R=Gt(g),pt(g,O,D,!0),g=null),y.patchFlag===-2&&(b=!1,y.dynamicChildren=null);const{type:S,ref:W,shapeFlag:j}=y;switch(S){case ns:m(g,y,C,R);break;case Ue:T(g,y,C,R);break;case jo:g==null&&E(y,C,R,G);break;case Ie:k(g,y,C,R,O,D,G,F,b);break;default:j&1?I(g,y,C,R,O,D,G,F,b):j&6?tt(g,y,C,R,O,D,G,F,b):(j&64||j&128)&&S.process(g,y,C,R,O,D,G,F,b,ne)}W!=null&&O&&va(W,g&&g.ref,D,y||g,!y)},m=(g,y,C,R)=>{if(g==null)n(y.el=s(y.children),C,R);else{const O=y.el=g.el;y.children!==g.children&&u(O,y.children)}},T=(g,y,C,R)=>{g==null?n(y.el=l(y.children||""),C,R):y.el=g.el},E=(g,y,C,R)=>{[g.el,g.anchor]=v(g.children,y,C,R,g.el,g.anchor)},A=({el:g,anchor:y},C,R)=>{let O;for(;g&&g!==y;)O=c(g),n(g,C,R),g=O;n(y,C,R)},x=({el:g,anchor:y})=>{let C;for(;g&&g!==y;)C=c(g),i(g),g=C;i(y)},I=(g,y,C,R,O,D,G,F,b)=>{G=G||y.type==="svg",g==null?M(y,C,R,O,D,G,F,b):N(g,y,O,D,G,F,b)},M=(g,y,C,R,O,D,G,F)=>{let b,S;const{type:W,props:j,shapeFlag:V,transition:J,patchFlag:at,dirs:ut}=g;if(g.el&&p!==void 0&&at===-1)b=g.el=p(g.el);else{if(b=g.el=a(g.type,D,j&&j.is,j),V&8?h(b,g.children):V&16&&L(g.children,b,null,R,O,D&&W!=="foreignObject",G,F),ut&&An(g,null,R,"created"),j){for(const dt in j)dt!=="value"&&!Gi(dt)&&o(b,dt,null,j[dt],D,g.children,R,O,wt);"value"in j&&o(b,"value",null,j.value),(S=j.onVnodeBeforeMount)&&Ce(S,R,g)}w(b,g,g.scopeId,G,R)}ut&&An(g,null,R,"beforeMount");const lt=(!O||O&&!O.pendingBranch)&&J&&!J.persisted;lt&&J.beforeEnter(b),n(b,y,C),((S=j&&j.onVnodeMounted)||lt||ut)&&qt(()=>{S&&Ce(S,R,g),lt&&J.enter(b),ut&&An(g,null,R,"mounted")},O)},w=(g,y,C,R,O)=>{if(C&&d(g,C),R)for(let D=0;D<R.length;D++)d(g,R[D]);if(O){let D=O.subTree;if(y===D){const G=O.vnode;w(g,G,G.scopeId,G.slotScopeIds,O.parent)}}},L=(g,y,C,R,O,D,G,F,b=0)=>{for(let S=b;S<g.length;S++){const W=g[S]=F?sn(g[S]):Oe(g[S]);_(null,W,y,C,R,O,D,G,F)}},N=(g,y,C,R,O,D,G)=>{const F=y.el=g.el;let{patchFlag:b,dynamicChildren:S,dirs:W}=y;b|=g.patchFlag&16;const j=g.props||mt,V=y.props||mt;let J;C&&En(C,!1),(J=V.onVnodeBeforeUpdate)&&Ce(J,C,y,g),W&&An(y,g,C,"beforeUpdate"),C&&En(C,!0);const at=O&&y.type!=="foreignObject";if(S?Y(g.dynamicChildren,S,F,C,R,at,D):G||et(g,y,F,null,C,R,at,D,!1),b>0){if(b&16)H(F,y,j,V,C,R,O);else if(b&2&&j.class!==V.class&&o(F,"class",null,V.class,O),b&4&&o(F,"style",j.style,V.style,O),b&8){const ut=y.dynamicProps;for(let lt=0;lt<ut.length;lt++){const dt=ut[lt],Yt=j[dt],Pt=V[dt];(Pt!==Yt||dt==="value")&&o(F,dt,Yt,Pt,O,g.children,C,R,wt)}}b&1&&g.children!==y.children&&h(F,y.children)}else!G&&S==null&&H(F,y,j,V,C,R,O);((J=V.onVnodeUpdated)||W)&&qt(()=>{J&&Ce(J,C,y,g),W&&An(y,g,C,"updated")},R)},Y=(g,y,C,R,O,D,G)=>{for(let F=0;F<y.length;F++){const b=g[F],S=y[F],W=b.el&&(b.type===Ie||!In(b,S)||b.shapeFlag&70)?f(b.el):C;_(b,S,W,null,R,O,D,G,!0)}},H=(g,y,C,R,O,D,G)=>{if(C!==R){for(const F in R){if(Gi(F))continue;const b=R[F],S=C[F];b!==S&&F!=="value"&&o(g,F,S,b,G,y.children,O,D,wt)}if(C!==mt)for(const F in C)!Gi(F)&&!(F in R)&&o(g,F,C[F],null,G,y.children,O,D,wt);"value"in R&&o(g,"value",C.value,R.value)}},k=(g,y,C,R,O,D,G,F,b)=>{const S=y.el=g?g.el:s(""),W=y.anchor=g?g.anchor:s("");let{patchFlag:j,dynamicChildren:V,slotScopeIds:J}=y;J&&(F=F?F.concat(J):J),g==null?(n(S,C,R),n(W,C,R),L(y.children,C,W,O,D,G,F,b)):j>0&&j&64&&V&&g.dynamicChildren?(Y(g.dynamicChildren,V,C,O,D,G,F),(y.key!=null||O&&y===O.subTree)&&ih(g,y,!0)):et(g,y,C,W,O,D,G,F,b)},tt=(g,y,C,R,O,D,G,F,b)=>{y.slotScopeIds=F,g==null?y.shapeFlag&512?O.ctx.activate(y,C,R,G,b):K(y,C,R,O,D,G,b):U(g,y,b)},K=(g,y,C,R,O,D,G)=>{const F=g.component=bd(g,R,O);if(fo(g)&&(F.ctx.renderer=ne),Gd(F),F.asyncDep){if(O&&O.registerDep(F,B),!g.el){const b=F.subTree=bn(Ue);T(null,b,y,C)}return}B(F,g,y,C,O,D,G)},U=(g,y,C)=>{const R=y.component=g.component;if(Yf(g,y,C))if(R.asyncDep&&!R.asyncResolved){X(R,y,C);return}else R.next=y,Lf(R.update),R.update();else y.el=g.el,R.vnode=y},B=(g,y,C,R,O,D,G)=>{const F=()=>{if(g.isMounted){let{next:W,bu:j,u:V,parent:J,vnode:at}=g,ut=W,lt;En(g,!1),W?(W.el=at.el,X(g,W,G)):W=at,j&&Bi(j),(lt=W.props&&W.props.onVnodeBeforeUpdate)&&Ce(lt,J,W,at),En(g,!0);const dt=bo(g),Yt=g.subTree;g.subTree=dt,_(Yt,dt,f(Yt.el),Gt(Yt),g,O,D),W.el=dt.el,ut===null&&kf(g,dt.el),V&&qt(V,O),(lt=W.props&&W.props.onVnodeUpdated)&&qt(()=>Ce(lt,J,W,at),O)}else{let W;const{el:j,props:V}=y,{bm:J,m:at,parent:ut}=g,lt=ji(y);if(En(g,!1),J&&Bi(J),!lt&&(W=V&&V.onVnodeBeforeMount)&&Ce(W,ut,y),En(g,!0),j&&Qe){const dt=()=>{g.subTree=bo(g),Qe(j,g.subTree,g,O,null)};lt?y.type.__asyncLoader().then(()=>!g.isUnmounted&&dt()):dt()}else{const dt=g.subTree=bo(g);_(null,dt,C,R,g,O,D),y.el=dt.el}if(at&&qt(at,O),!lt&&(W=V&&V.onVnodeMounted)){const dt=y;qt(()=>Ce(W,ut,dt),O)}(y.shapeFlag&256||ut&&ji(ut.vnode)&&ut.vnode.shapeFlag&256)&&g.a&&qt(g.a,O),g.isMounted=!0,y=C=R=null}},b=g.effect=new Ha(F,()=>Gu(S),g.scope),S=g.update=()=>b.run();S.id=g.uid,En(g,!0),S()},X=(g,y,C)=>{y.component=g;const R=g.vnode.props;g.vnode=y,g.next=null,pd(g,y.props,R,C),_d(g,y.children,C),Er(),uo(void 0,g.update),Tr()},et=(g,y,C,R,O,D,G,F,b=!1)=>{const S=g&&g.children,W=g?g.shapeFlag:0,j=y.children,{patchFlag:V,shapeFlag:J}=y;if(V>0){if(V&128){_t(S,j,C,R,O,D,G,F,b);return}else if(V&256){st(S,j,C,R,O,D,G,F,b);return}}J&8?(W&16&&wt(S,O,D),j!==S&&h(C,j)):W&16?J&16?_t(S,j,C,R,O,D,G,F,b):wt(S,O,D,!0):(W&8&&h(C,""),J&16&&L(j,C,R,O,D,G,F,b))},st=(g,y,C,R,O,D,G,F,b)=>{g=g||lr,y=y||lr;const S=g.length,W=y.length,j=Math.min(S,W);let V;for(V=0;V<j;V++){const J=y[V]=b?sn(y[V]):Oe(y[V]);_(g[V],J,C,null,O,D,G,F,b)}S>W?wt(g,O,D,!0,!1,j):L(y,C,R,O,D,G,F,b,j)},_t=(g,y,C,R,O,D,G,F,b)=>{let S=0;const W=y.length;let j=g.length-1,V=W-1;for(;S<=j&&S<=V;){const J=g[S],at=y[S]=b?sn(y[S]):Oe(y[S]);if(In(J,at))_(J,at,C,null,O,D,G,F,b);else break;S++}for(;S<=j&&S<=V;){const J=g[j],at=y[V]=b?sn(y[V]):Oe(y[V]);if(In(J,at))_(J,at,C,null,O,D,G,F,b);else break;j--,V--}if(S>j){if(S<=V){const J=V+1,at=J<W?y[J].el:R;for(;S<=V;)_(null,y[S]=b?sn(y[S]):Oe(y[S]),C,at,O,D,G,F,b),S++}}else if(S>V)for(;S<=j;)pt(g[S],O,D,!0),S++;else{const J=S,at=S,ut=new Map;for(S=at;S<=V;S++){const Lt=y[S]=b?sn(y[S]):Oe(y[S]);Lt.key!=null&&ut.set(Lt.key,S)}let lt,dt=0;const Yt=V-at+1;let Pt=!1,mn=0;const It=new Array(Yt);for(S=0;S<Yt;S++)It[S]=0;for(S=J;S<=j;S++){const Lt=g[S];if(dt>=Yt){pt(Lt,O,D,!0);continue}let re;if(Lt.key!=null)re=ut.get(Lt.key);else for(lt=at;lt<=V;lt++)if(It[lt-at]===0&&In(Lt,y[lt])){re=lt;break}re===void 0?pt(Lt,O,D,!0):(It[re-at]=S+1,re>=mn?mn=re:Pt=!0,_(Lt,y[re],C,null,O,D,G,F,b),dt++)}const Fe=Pt?Td(It):lr;for(lt=Fe.length-1,S=Yt-1;S>=0;S--){const Lt=at+S,re=y[Lt],Ir=Lt+1<W?y[Lt+1].el:R;It[S]===0?_(null,re,C,Ir,O,D,G,F,b):Pt&&(lt<0||S!==Fe[lt]?P(re,C,Ir,2):lt--)}}},P=(g,y,C,R,O=null)=>{const{el:D,type:G,transition:F,children:b,shapeFlag:S}=g;if(S&6){P(g.component.subTree,y,C,R);return}if(S&128){g.suspense.move(y,C,R);return}if(S&64){G.move(g,y,C,ne);return}if(G===Ie){n(D,y,C);for(let j=0;j<b.length;j++)P(b[j],y,C,R);n(g.anchor,y,C);return}if(G===jo){A(g,y,C);return}if(R!==2&&S&1&&F)if(R===0)F.beforeEnter(D),n(D,y,C),qt(()=>F.enter(D),O);else{const{leave:j,delayLeave:V,afterLeave:J}=F,at=()=>n(D,y,C),ut=()=>{j(D,()=>{at(),J&&J()})};V?V(D,at,ut):ut()}else n(D,y,C)},pt=(g,y,C,R=!1,O=!1)=>{const{type:D,props:G,ref:F,children:b,dynamicChildren:S,shapeFlag:W,patchFlag:j,dirs:V}=g;if(F!=null&&va(F,null,C,g,!0),W&256){y.ctx.deactivate(g);return}const J=W&1&&V,at=!ji(g);let ut;if(at&&(ut=G&&G.onVnodeBeforeUnmount)&&Ce(ut,y,g),W&6)jt(g.component,C,R);else{if(W&128){g.suspense.unmount(C,R);return}J&&An(g,null,y,"beforeUnmount"),W&64?g.type.remove(g,y,C,O,ne,R):S&&(D!==Ie||j>0&&j&64)?wt(S,y,C,!1,!0):(D===Ie&&j&384||!O&&W&16)&&wt(b,y,C),R&&nt(g)}(at&&(ut=G&&G.onVnodeUnmounted)||J)&&qt(()=>{ut&&Ce(ut,y,g),J&&An(g,null,y,"unmounted")},C)},nt=g=>{const{type:y,el:C,anchor:R,transition:O}=g;if(y===Ie){Ct(C,R);return}if(y===jo){x(g);return}const D=()=>{i(C),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(g.shapeFlag&1&&O&&!O.persisted){const{leave:G,delayLeave:F}=O,b=()=>G(C,D);F?F(g.el,D,b):b()}else D()},Ct=(g,y)=>{let C;for(;g!==y;)C=c(g),i(g),g=C;i(y)},jt=(g,y,C)=>{const{bum:R,scope:O,update:D,subTree:G,um:F}=g;R&&Bi(R),O.stop(),D&&(D.active=!1,pt(G,g,y,C)),F&&qt(F,y),qt(()=>{g.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},wt=(g,y,C,R=!1,O=!1,D=0)=>{for(let G=D;G<g.length;G++)pt(g[G],y,C,R,O)},Gt=g=>g.shapeFlag&6?Gt(g.component.subTree):g.shapeFlag&128?g.suspense.next():c(g.anchor||g.el),zt=(g,y,C)=>{g==null?y._vnode&&pt(y._vnode,null,null,!0):_(y._vnode||null,g,y,null,null,null,C),Yu(),y._vnode=g},ne={p:_,um:pt,m:P,r:nt,mt:K,mc:L,pc:et,pbc:Y,n:Gt,o:r};let Jt,Qe;return e&&([Jt,Qe]=e(ne)),{render:zt,hydrate:Jt,createApp:md(zt,Jt)}}function En({effect:r,update:e},t){r.allowRecurse=e.allowRecurse=t}function ih(r,e,t=!1){const n=r.children,i=e.children;if(it(n)&&it(i))for(let o=0;o<n.length;o++){const a=n[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=sn(i[o]),s.el=a.el),t||ih(a,s))}}function Td(r){const e=r.slice(),t=[0];let n,i,o,a,s;const l=r.length;for(n=0;n<l;n++){const u=r[n];if(u!==0){if(i=t[t.length-1],r[i]<u){e[n]=i,t.push(n);continue}for(o=0,a=t.length-1;o<a;)s=o+a>>1,r[t[s]]<u?o=s+1:a=s;u<r[t[o]]&&(o>0&&(e[n]=t[o-1]),t[o]=n)}}for(o=t.length,a=t[o-1];o-- >0;)t[o]=a,a=e[a];return t}const xd=r=>r.__isTeleport,Ie=Symbol(void 0),ns=Symbol(void 0),Ue=Symbol(void 0),jo=Symbol(void 0),Wr=[];let Ee=null;function Cd(r=!1){Wr.push(Ee=r?null:[])}function wd(){Wr.pop(),Ee=Wr[Wr.length-1]||null}let Qr=1;function ll(r){Qr+=r}function Id(r){return r.dynamicChildren=Qr>0?Ee||lr:null,wd(),Qr>0&&Ee&&Ee.push(r),r}function Od(r,e,t,n,i,o){return Id(z(r,e,t,n,i,o,!0))}function Rd(r){return r?r.__v_isVNode===!0:!1}function In(r,e){return r.type===e.type&&r.key===e.key}const vo="__vInternal",oh=({key:r})=>r!=null?r:null,Yi=({ref:r,ref_key:e,ref_for:t})=>r!=null?Ut(r)||Zt(r)||ot(r)?{i:Ae,r,k:e,f:!!t}:r:null;function z(r,e=null,t=null,n=0,i=null,o=r===Ie?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&oh(e),ref:e&&Yi(e),scopeId:co,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return s?(rs(l,t),o&128&&r.normalize(l)):t&&(l.shapeFlag|=Ut(t)?8:16),Qr>0&&!a&&Ee&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ee.push(l),l}const bn=Sd;function Sd(r,e=null,t=null,n=0,i=null,o=!1){if((!r||r===ad)&&(r=Ue),Rd(r)){const s=_n(r,e,!0);return t&&rs(s,t),Qr>0&&!o&&Ee&&(s.shapeFlag&6?Ee[Ee.indexOf(r)]=s:Ee.push(s)),s.patchFlag|=-2,s}if(kd(r)&&(r=r.__vccOpts),e){e=Pd(e);let{class:s,style:l}=e;s&&!Ut(s)&&(e.class=Ya(s)),Wt(l)&&(Pu(l)&&!it(l)&&(l=Kt({},l)),e.style=ja(l))}const a=Ut(r)?1:Uf(r)?128:xd(r)?64:Wt(r)?4:ot(r)?2:0;return z(r,e,t,n,i,a,o,!0)}function Pd(r){return r?Pu(r)||vo in r?Kt({},r):r:null}function _n(r,e,t=!1){const{props:n,ref:i,patchFlag:o,children:a}=r,s=e?Md(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:s,key:s&&oh(s),ref:e&&e.ref?t&&i?it(i)?i.concat(Yi(e)):[i,Yi(e)]:Yi(e):i,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:a,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==Ie?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&_n(r.ssContent),ssFallback:r.ssFallback&&_n(r.ssFallback),el:r.el,anchor:r.anchor}}function Ld(r=" ",e=0){return bn(ns,null,r,e)}function Oe(r){return r==null||typeof r=="boolean"?bn(Ue):it(r)?bn(Ie,null,r.slice()):typeof r=="object"?sn(r):bn(ns,null,String(r))}function sn(r){return r.el===null||r.memo?r:_n(r)}function rs(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(it(e))t=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),rs(r,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!(vo in e)?e._ctx=Ae:i===3&&Ae&&(Ae.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else ot(e)?(e={default:e,_ctx:Ae},t=32):(e=String(e),n&64?(t=16,e=[Ld(e)]):t=8);r.children=e,r.shapeFlag|=t}function Md(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Ya([e.class,n.class]));else if(i==="style")e.style=ja([e.style,n.style]);else if(io(i)){const o=e[i],a=n[i];a&&o!==a&&!(it(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=n[i])}return e}function Ce(r,e,t,n=null){ce(r,e,7,[t,n])}const Fd=rh();let Dd=0;function bd(r,e,t){const n=r.type,i=(e?e.appContext:r.appContext)||Fd,o={uid:Dd++,vnode:r,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qu(n,i),emitsOptions:Uu(n,i),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:n.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Df.bind(null,o),r.ce&&r.ce(o),o}let kt=null;const Nd=()=>kt||Ae,gr=r=>{kt=r,r.scope.on()},Nn=()=>{kt&&kt.scope.off(),kt=null};function ah(r){return r.vnode.shapeFlag&4}let Jr=!1;function Gd(r,e=!1){Jr=e;const{props:t,children:n}=r.vnode,i=ah(r);dd(r,t,i,e),gd(r,n);const o=i?Bd(r,e):void 0;return Jr=!1,o}function Bd(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=Lu(new Proxy(r.ctx,sd));const{setup:n}=t;if(n){const i=r.setupContext=n.length>1?Yd(r):null;gr(r),Er();const o=pn(n,r,0,[r.props,i]);if(Tr(),Nn(),vu(o)){if(o.then(Nn,Nn),e)return o.then(a=>{ul(r,a,e)}).catch(a=>{lo(a,r,0)});r.asyncDep=o}else ul(r,o,e)}else sh(r,e)}function ul(r,e,t){ot(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Wt(e)&&(r.setupState=bu(e)),sh(r,t)}let hl;function sh(r,e,t){const n=r.type;if(!r.render){if(!e&&hl&&!n.render){const i=n.template;if(i){const{isCustomElement:o,compilerOptions:a}=r.appContext.config,{delimiters:s,compilerOptions:l}=n,u=Kt(Kt({isCustomElement:o,delimiters:s},a),l);n.render=hl(i,u)}}r.render=n.render||Te}gr(r),Er(),ld(r),Tr(),Nn()}function jd(r){return new Proxy(r.attrs,{get(e,t){return ae(r,"get","$attrs"),e[t]}})}function Yd(r){const e=n=>{r.exposed=n||{}};let t;return{get attrs(){return t||(t=jd(r))},slots:r.slots,emit:r.emit,expose:e}}function go(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(bu(Lu(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in Xi)return Xi[t](r)}}))}function kd(r){return ot(r)&&"__vccOpts"in r}const Ud=(r,e)=>Of(r,e,Jr),Wd="3.2.37",zd="http://www.w3.org/2000/svg",On=typeof document!="undefined"?document:null,cl=On&&On.createElement("template"),Xd={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,n)=>{const i=e?On.createElementNS(zd,r):On.createElement(r,t?{is:t}:void 0);return r==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:r=>On.createTextNode(r),createComment:r=>On.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>On.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},cloneNode(r){const e=r.cloneNode(!0);return"_value"in r&&(e._value=r._value),e},insertStaticContent(r,e,t,n,i,o){const a=t?t.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===o||!(i=i.nextSibling)););else{cl.innerHTML=n?`<svg>${r}</svg>`:r;const s=cl.content;if(n){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function Hd(r,e,t){const n=r._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}function Zd(r,e,t){const n=r.style,i=Ut(t);if(t&&!i){for(const o in t)ga(n,o,t[o]);if(e&&!Ut(e))for(const o in e)t[o]==null&&ga(n,o,"")}else{const o=n.display;i?e!==t&&(n.cssText=t):e&&r.removeAttribute("style"),"_vod"in r&&(n.display=o)}}const fl=/\s*!important$/;function ga(r,e,t){if(it(t))t.forEach(n=>ga(r,e,n));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const n=Kd(r,e);fl.test(t)?r.setProperty(Ar(n),t.replace(fl,""),"important"):r[n]=t}}const dl=["Webkit","Moz","ms"],Yo={};function Kd(r,e){const t=Yo[e];if(t)return t;let n=vr(e);if(n!=="filter"&&n in r)return Yo[e]=n;n=yu(n);for(let i=0;i<dl.length;i++){const o=dl[i]+n;if(o in r)return Yo[e]=o}return e}const pl="http://www.w3.org/1999/xlink";function Vd(r,e,t,n,i){if(n&&e.startsWith("xlink:"))t==null?r.removeAttributeNS(pl,e.slice(6,e.length)):r.setAttributeNS(pl,e,t);else{const o=Nc(e);t==null||o&&!fu(t)?r.removeAttribute(e):r.setAttribute(e,o?"":t)}}function Qd(r,e,t,n,i,o,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,i,o),r[e]=t==null?"":t;return}if(e==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=t;const l=t==null?"":t;(r.value!==l||r.tagName==="OPTION")&&(r.value=l),t==null&&r.removeAttribute(e);return}let s=!1;if(t===""||t==null){const l=typeof r[e];l==="boolean"?t=fu(t):t==null&&l==="string"?(t="",s=!0):l==="number"&&(t=0,s=!0)}try{r[e]=t}catch{}s&&r.removeAttribute(e)}const[lh,Jd]=(()=>{let r=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(r=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[r,e]})();let _a=0;const $d=Promise.resolve(),qd=()=>{_a=0},tp=()=>_a||($d.then(qd),_a=lh());function er(r,e,t,n){r.addEventListener(e,t,n)}function ep(r,e,t,n){r.removeEventListener(e,t,n)}function np(r,e,t,n,i=null){const o=r._vei||(r._vei={}),a=o[e];if(n&&a)a.value=n;else{const[s,l]=rp(e);if(n){const u=o[e]=ip(n,i);er(r,s,u,l)}else a&&(ep(r,s,a,l),o[e]=void 0)}}const vl=/(?:Once|Passive|Capture)$/;function rp(r){let e;if(vl.test(r)){e={};let t;for(;t=r.match(vl);)r=r.slice(0,r.length-t[0].length),e[t[0].toLowerCase()]=!0}return[Ar(r.slice(2)),e]}function ip(r,e){const t=n=>{const i=n.timeStamp||lh();(Jd||i>=t.attached-1)&&ce(op(n,t.value),e,5,[n])};return t.value=r,t.attached=tp(),t}function op(r,e){if(it(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const gl=/^on[a-z]/,ap=(r,e,t,n,i=!1,o,a,s,l)=>{e==="class"?Hd(r,n,i):e==="style"?Zd(r,t,n):io(e)?ka(e)||np(r,e,t,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sp(r,e,n,i))?Qd(r,e,n,o,a,s,l):(e==="true-value"?r._trueValue=n:e==="false-value"&&(r._falseValue=n),Vd(r,e,n,i))};function sp(r,e,t,n){return n?!!(e==="innerHTML"||e==="textContent"||e in r&&gl.test(e)&&ot(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA"||gl.test(e)&&Ut(t)?!1:e in r}const lp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Kf.props;const _l=r=>{const e=r.props["onUpdate:modelValue"]||!1;return it(e)?t=>Bi(e,t):e};function up(r){r.target.composing=!0}function yl(r){const e=r.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Kn={created(r,{modifiers:{lazy:e,trim:t,number:n}},i){r._assign=_l(i);const o=n||i.props&&i.props.type==="number";er(r,e?"change":"input",a=>{if(a.target.composing)return;let s=r.value;t&&(s=s.trim()),o&&(s=ea(s)),r._assign(s)}),t&&er(r,"change",()=>{r.value=r.value.trim()}),e||(er(r,"compositionstart",up),er(r,"compositionend",yl),er(r,"change",yl))},mounted(r,{value:e}){r.value=e==null?"":e},beforeUpdate(r,{value:e,modifiers:{lazy:t,trim:n,number:i}},o){if(r._assign=_l(o),r.composing||document.activeElement===r&&r.type!=="range"&&(t||n&&r.value.trim()===e||(i||r.type==="number")&&ea(r.value)===e))return;const a=e==null?"":e;r.value!==a&&(r.value=a)}},hp=Kt({patchProp:ap},Xd);let ml;function cp(){return ml||(ml=Ad(hp))}const fp=(...r)=>{const e=cp().createApp(...r),{mount:t}=e;return e.mount=n=>{const i=dp(n);if(!i)return;const o=e._component;!ot(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=t(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function dp(r){return Ut(r)?document.querySelector(r):r}function Q(){return function(){throw new Error("Unimplemented abstract method.")}()}var pp=0;function vt(r){return r.ol_uid||(r.ol_uid=String(++pp))}var vp="6.14.1",gp=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_p=function(r){gp(e,r);function e(t){var n=this,i="v"+vp.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return n=r.call(this,o)||this,n.code=t,n.name="AssertionError",n.message=o,n}return e}(Error),uh=_p,yp=function(){function r(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return r.prototype.preventDefault=function(){this.defaultPrevented=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r}(),Ve=yp,_r={PROPERTYCHANGE:"propertychange"},mp=function(){function r(){this.disposed=!1}return r.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},r}(),is=mp;function Ap(r,e,t){for(var n,i,o=t||jn,a=0,s=r.length,l=!1;a<s;)n=a+(s-a>>1),i=+o(r[n],e),i<0?a=n+1:(s=n,l=!i);return l?a:~a}function jn(r,e){return r>e?1:r<e?-1:0}function os(r,e,t){var n=r.length;if(r[0]<=e)return 0;if(e<=r[n-1])return n-1;var i=void 0;if(t>0){for(i=1;i<n;++i)if(r[i]<e)return i-1}else if(t<0){for(i=1;i<n;++i)if(r[i]<=e)return i}else for(i=1;i<n;++i){if(r[i]==e)return i;if(r[i]<e)return typeof t=="function"?t(e,r[i-1],r[i])>0?i-1:i:r[i-1]-e<e-r[i]?i-1:i}return n-1}function Ep(r,e,t){for(;e<t;){var n=r[e];r[e]=r[t],r[t]=n,++e,--t}}function We(r,e){for(var t=Array.isArray(e)?e:[e],n=t.length,i=0;i<n;i++)r[r.length]=t[i]}function Wn(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}function Tp(r,e,t){var n=e||jn;return r.every(function(i,o){if(o===0)return!0;var a=n(r[o-1],i);return!(a>0||t&&a===0)})}function cr(){return!0}function _o(){return!1}function Yn(){}function xp(r){var e=!1,t,n,i;return function(){var o=Array.prototype.slice.call(arguments);return(!e||this!==i||!Wn(o,n))&&(e=!0,i=this,n=o,t=r.apply(this,arguments)),t}}var bt=typeof Object.assign=="function"?Object.assign:function(r,e){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])}return t};function ui(r){for(var e in r)delete r[e]}var hh=typeof Object.values=="function"?Object.values:function(r){var e=[];for(var t in r)e.push(r[t]);return e};function yr(r){var e;for(e in r)return!1;return!e}var Cp=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wp=function(r){Cp(e,r);function e(t){var n=r.call(this)||this;return n.eventTarget_=t,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return e.prototype.addEventListener=function(t,n){if(!(!t||!n)){var i=this.listeners_||(this.listeners_={}),o=i[t]||(i[t]=[]);o.indexOf(n)===-1&&o.push(n)}},e.prototype.dispatchEvent=function(t){var n=typeof t=="string",i=n?t:t.type,o=this.listeners_&&this.listeners_[i];if(!!o){var a=n?new Ve(t):t;a.target||(a.target=this.eventTarget_||this);var s=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,l[i]=0),++s[i];for(var u,h=0,f=o.length;h<f;++h)if("handleEvent"in o[h]?u=o[h].handleEvent(a):u=o[h].call(this,a),u===!1||a.propagationStopped){u=!1;break}if(--s[i]===0){var c=l[i];for(delete l[i];c--;)this.removeEventListener(i,Yn);delete s[i]}return u}},e.prototype.disposeInternal=function(){this.listeners_&&ui(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,n){var i=this.listeners_&&this.listeners_[t];if(i){var o=i.indexOf(n);o!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[o]=Yn,++this.pendingRemovals_[t]):(i.splice(o,1),i.length===0&&delete this.listeners_[t]))}},e}(is),xr=wp,rt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ft(r,e,t,n,i){if(n&&n!==r&&(t=t.bind(n)),i){var o=t;t=function(){r.removeEventListener(e,t),o.apply(this,arguments)}}var a={target:r,type:e,listener:t};return r.addEventListener(e,t),a}function Zi(r,e,t,n){return ft(r,e,t,n,!0)}function xt(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),ui(r))}var Ip=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yo=function(r){Ip(e,r);function e(){var t=r.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(rt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,n){if(Array.isArray(t)){for(var i=t.length,o=new Array(i),a=0;a<i;++a)o[a]=ft(this,t[a],n);return o}else return ft(this,t,n)},e.prototype.onceInternal=function(t,n){var i;if(Array.isArray(t)){var o=t.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=Zi(this,t[a],n)}else i=Zi(this,t,n);return n.ol_key=i,i},e.prototype.unInternal=function(t,n){var i=n.ol_key;if(i)Op(i);else if(Array.isArray(t))for(var o=0,a=t.length;o<a;++o)this.removeEventListener(t[o],n);else this.removeEventListener(t,n)},e}(xr);yo.prototype.on;yo.prototype.once;yo.prototype.un;function Op(r){if(Array.isArray(r))for(var e=0,t=r.length;e<t;++e)xt(r[e]);else xt(r)}var ch=yo,fh=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Al=function(r){fh(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.key=n,o.oldValue=i,o}return e}(Ve),Rp=function(r){fh(e,r);function e(t){var n=r.call(this)||this;return n.on,n.once,n.un,vt(n),n.values_=null,t!==void 0&&n.setProperties(t),n}return e.prototype.get=function(t){var n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&bt({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,n){var i;i="change:".concat(t),this.hasListener(i)&&this.dispatchEvent(new Al(i,t,n)),i=_r.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Al(i,t,n))},e.prototype.addChangeListener=function(t,n){this.addEventListener("change:".concat(t),n)},e.prototype.removeChangeListener=function(t,n){this.removeEventListener("change:".concat(t),n)},e.prototype.set=function(t,n,i){var o=this.values_||(this.values_={});if(i)o[t]=n;else{var a=o[t];o[t]=n,a!==n&&this.notify(t,a)}},e.prototype.setProperties=function(t,n){for(var i in t)this.set(i,t[i],n)},e.prototype.applyProperties=function(t){!t.values_||bt(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,n){if(this.values_&&t in this.values_){var i=this.values_[t];delete this.values_[t],yr(this.values_)&&(this.values_=null),n||this.notify(t,i)}},e}(ch),Me=Rp,te={ADD:"add",REMOVE:"remove"},dh=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),El={LENGTH:"length"},wi=function(r){dh(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.element=n,o.index=i,o}return e}(Ve),Sp=function(r){dh(e,r);function e(t,n){var i=r.call(this)||this;i.on,i.once,i.un;var o=n||{};if(i.unique_=!!o.unique,i.array_=t||[],i.unique_)for(var a=0,s=i.array_.length;a<s;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var n=0,i=t.length;n<i;++n)this.push(t[n]);return this},e.prototype.forEach=function(t){for(var n=this.array_,i=0,o=n.length;i<o;++i)t(n[i],i,n)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(El.LENGTH)},e.prototype.insertAt=function(t,n){this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new wi(te.ADD,n,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var n=this.getLength();return this.insertAt(n,t),this.getLength()},e.prototype.remove=function(t){for(var n=this.array_,i=0,o=n.length;i<o;++i)if(n[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new wi(te.REMOVE,n,t)),n},e.prototype.setAt=function(t,n){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(n,t);var o=this.array_[t];this.array_[t]=n,this.dispatchEvent(new wi(te.REMOVE,o,t)),this.dispatchEvent(new wi(te.ADD,n,t))}else{for(var a=i;a<t;++a)this.insertAt(a,void 0);this.insertAt(t,n)}},e.prototype.updateLength_=function(){this.set(El.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,n){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==n)throw new uh(58)},e}(Me),he=Sp;function ht(r,e){if(!r)throw new uh(e)}var Pp=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lp=function(r){Pp(e,r);function e(t){var n=r.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;n.setGeometry(i)}else{var o=t;n.setProperties(o)}return n}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(xt(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=ft(t,rt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?Mp(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(Me);function Mp(r){if(typeof r=="function")return r;var e;if(Array.isArray(r))e=r;else{ht(typeof r.getZIndex=="function",41);var t=r;e=[t]}return function(){return e}}var as=Lp,Mt={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},Z={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Cr={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},fe={};fe[Cr.RADIANS]=6370997/(2*Math.PI);fe[Cr.DEGREES]=2*Math.PI*6370997/360;fe[Cr.FEET]=.3048;fe[Cr.METERS]=1;fe[Cr.USFEET]=1200/3937;var ze=Cr,yn=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",Fp=yn.indexOf("firefox")!==-1,Dp=yn.indexOf("safari")!==-1&&yn.indexOf("chrom")==-1;Dp&&(yn.indexOf("version/15.4")>=0||yn.match(/cpu (os|iphone os) 15_4 like mac os x/));var bp=yn.indexOf("webkit")!==-1&&yn.indexOf("edge")==-1,Np=yn.indexOf("macintosh")!==-1,ph=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,mo=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,Gp=typeof Image!="undefined"&&Image.prototype.decode,vh=function(){var r=!1;try{var e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return r}();new Array(6);function Pe(){return[1,0,0,1,0,0]}function Bp(r,e,t,n,i,o,a){return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r[4]=o,r[5]=a,r}function jp(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Dt(r,e){var t=e[0],n=e[1];return e[0]=r[0]*t+r[2]*n+r[4],e[1]=r[1]*t+r[3]*n+r[5],e}function Yp(r,e,t){return Bp(r,e,0,0,t,0,0)}function Ze(r,e,t,n,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return r[0]=n*u,r[1]=i*l,r[2]=-n*l,r[3]=i*u,r[4]=a*n*u-s*n*l+e,r[5]=a*i*l+s*i*u+t,r}function ss(r,e){var t=kp(e);ht(t!==0,32);var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5];return r[0]=a/t,r[1]=-i/t,r[2]=-o/t,r[3]=n/t,r[4]=(o*l-a*s)/t,r[5]=-(n*l-i*s)/t,r}function kp(r){return r[0]*r[3]-r[1]*r[2]}var Tl;function gh(r){var e="matrix("+r.join(", ")+")";if(mo)return e;var t=Tl||(Tl=document.createElement("div"));return t.style.transform=e,t.style.transform}var Gr={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Bt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function xl(r){for(var e=de(),t=0,n=r.length;t<n;++t)zr(e,r[t]);return e}function Up(r,e,t){var n=Math.min.apply(null,r),i=Math.min.apply(null,e),o=Math.max.apply(null,r),a=Math.max.apply(null,e);return Le(n,i,o,a,t)}function ls(r,e,t){return t?(t[0]=r[0]-e,t[1]=r[1]-e,t[2]=r[2]+e,t[3]=r[3]+e,t):[r[0]-e,r[1]-e,r[2]+e,r[3]+e]}function _h(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r.slice()}function zn(r,e,t){var n,i;return e<r[0]?n=r[0]-e:r[2]<e?n=e-r[2]:n=0,t<r[1]?i=r[1]-t:r[3]<t?i=t-r[3]:i=0,n*n+i*i}function hi(r,e){return us(r,e[0],e[1])}function ar(r,e){return r[0]<=e[0]&&e[2]<=r[2]&&r[1]<=e[1]&&e[3]<=r[3]}function us(r,e,t){return r[0]<=e&&e<=r[2]&&r[1]<=t&&t<=r[3]}function ya(r,e){var t=r[0],n=r[1],i=r[2],o=r[3],a=e[0],s=e[1],l=Bt.UNKNOWN;return a<t?l=l|Bt.LEFT:a>i&&(l=l|Bt.RIGHT),s<n?l=l|Bt.BELOW:s>o&&(l=l|Bt.ABOVE),l===Bt.UNKNOWN&&(l=Bt.INTERSECTING),l}function de(){return[1/0,1/0,-1/0,-1/0]}function Le(r,e,t,n,i){return i?(i[0]=r,i[1]=e,i[2]=t,i[3]=n,i):[r,e,t,n]}function ci(r){return Le(1/0,1/0,-1/0,-1/0,r)}function Wp(r,e){var t=r[0],n=r[1];return Le(t,n,t,n,e)}function yh(r,e,t,n,i){var o=ci(i);return Ah(o,r,e,t,n)}function $r(r,e){return r[0]==e[0]&&r[2]==e[2]&&r[1]==e[1]&&r[3]==e[3]}function mh(r,e){return e[0]<r[0]&&(r[0]=e[0]),e[2]>r[2]&&(r[2]=e[2]),e[1]<r[1]&&(r[1]=e[1]),e[3]>r[3]&&(r[3]=e[3]),r}function zr(r,e){e[0]<r[0]&&(r[0]=e[0]),e[0]>r[2]&&(r[2]=e[0]),e[1]<r[1]&&(r[1]=e[1]),e[1]>r[3]&&(r[3]=e[1])}function Ah(r,e,t,n,i){for(;t<n;t+=i)zp(r,e[t],e[t+1]);return r}function zp(r,e,t){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}function Eh(r,e){var t;return t=e(Ao(r)),t||(t=e(Eo(r)),t)||(t=e(To(r)),t)||(t=e(Xn(r)),t)?t:!1}function ma(r){var e=0;return hs(r)||(e=St(r)*xe(r)),e}function Ao(r){return[r[0],r[1]]}function Eo(r){return[r[2],r[1]]}function kn(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function Xp(r,e){var t;return e===Gr.BOTTOM_LEFT?t=Ao(r):e===Gr.BOTTOM_RIGHT?t=Eo(r):e===Gr.TOP_LEFT?t=Xn(r):e===Gr.TOP_RIGHT?t=To(r):ht(!1,13),t}function Aa(r,e,t,n,i){var o=e*n[0]/2,a=e*n[1]/2,s=Math.cos(t),l=Math.sin(t),u=o*s,h=o*l,f=a*s,c=a*l,d=r[0],p=r[1],v=d-u+c,_=d-u-c,m=d+u-c,T=d+u+c,E=p-h-f,A=p-h+f,x=p+h+f,I=p+h-f;return Le(Math.min(v,_,m,T),Math.min(E,A,x,I),Math.max(v,_,m,T),Math.max(E,A,x,I),i)}function xe(r){return r[3]-r[1]}function Xr(r,e,t){var n=t||de();return ee(r,e)?(r[0]>e[0]?n[0]=r[0]:n[0]=e[0],r[1]>e[1]?n[1]=r[1]:n[1]=e[1],r[2]<e[2]?n[2]=r[2]:n[2]=e[2],r[3]<e[3]?n[3]=r[3]:n[3]=e[3]):ci(n),n}function Xn(r){return[r[0],r[3]]}function To(r){return[r[2],r[3]]}function St(r){return r[2]-r[0]}function ee(r,e){return r[0]<=e[2]&&r[2]>=e[0]&&r[1]<=e[3]&&r[3]>=e[1]}function hs(r){return r[2]<r[0]||r[3]<r[1]}function Hp(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r}function Zp(r,e,t){var n=!1,i=ya(r,e),o=ya(r,t);if(i===Bt.INTERSECTING||o===Bt.INTERSECTING)n=!0;else{var a=r[0],s=r[1],l=r[2],u=r[3],h=e[0],f=e[1],c=t[0],d=t[1],p=(d-f)/(c-h),v=void 0,_=void 0;!!(o&Bt.ABOVE)&&!(i&Bt.ABOVE)&&(v=c-(d-u)/p,n=v>=a&&v<=l),!n&&!!(o&Bt.RIGHT)&&!(i&Bt.RIGHT)&&(_=d-(c-l)*p,n=_>=s&&_<=u),!n&&!!(o&Bt.BELOW)&&!(i&Bt.BELOW)&&(v=c-(d-s)/p,n=v>=a&&v<=l),!n&&!!(o&Bt.LEFT)&&!(i&Bt.LEFT)&&(_=d-(c-a)*p,n=_>=s&&_<=u)}return n}function Kp(r,e,t,n){var i=[];if(n>1)for(var o=r[2]-r[0],a=r[3]-r[1],s=0;s<n;++s)i.push(r[0]+o*s/n,r[1],r[2],r[1]+a*s/n,r[2]-o*s/n,r[3],r[0],r[3]-a*s/n);else i=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];e(i,i,2);for(var l=[],u=[],s=0,h=i.length;s<h;s+=2)l.push(i[s]),u.push(i[s+1]);return Up(l,u,t)}function Vp(r,e){var t=e.getExtent(),n=kn(r);if(e.canWrapX()&&(n[0]<t[0]||n[0]>=t[2])){var i=St(t),o=Math.floor((n[0]-t[0])/i),a=o*i;r[0]-=a,r[2]-=a}return r}var Qp=function(){function r(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||fe[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},r.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},r.prototype.setWorldExtent=function(e){this.worldExtent_=e},r.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},r}(),Th=Qp;function Nt(r,e,t){return Math.min(Math.max(r,e),t)}var Jp=function(){var r;return"cosh"in Math?r=Math.cosh:r=function(e){var t=Math.exp(e);return(t+1/t)/2},r}(),$p=function(){var r;return"log2"in Math?r=Math.log2:r=function(e){return Math.log(e)*Math.LOG2E},r}();function qp(r,e,t,n,i,o){var a=i-t,s=o-n;if(a!==0||s!==0){var l=((r-t)*a+(e-n)*s)/(a*a+s*s);l>1?(t=i,n=o):l>0&&(t+=a*l,n+=s*l)}return Gn(r,e,t,n)}function Gn(r,e,t,n){var i=t-r,o=n-e;return i*i+o*o}function tv(r){for(var e=r.length,t=0;t<e;t++){for(var n=t,i=Math.abs(r[t][t]),o=t+1;o<e;o++){var a=Math.abs(r[o][t]);a>i&&(i=a,n=o)}if(i===0)return null;var s=r[n];r[n]=r[t],r[t]=s;for(var l=t+1;l<e;l++)for(var u=-r[l][t]/r[t][t],h=t;h<e+1;h++)t==h?r[l][h]=0:r[l][h]+=u*r[t][h]}for(var f=new Array(e),c=e-1;c>=0;c--){f[c]=r[c][e]/r[c][c];for(var d=c-1;d>=0;d--)r[d][e]-=r[d][c]*f[c]}return f}function ki(r){return r*Math.PI/180}function fr(r,e){var t=r%e;return t*e<0?t+e:t}function Ye(r,e,t){return r+t*(e-r)}function xh(r,e){var t=Math.pow(10,e);return Math.round(r*t)/t}function Ii(r,e){return Math.floor(xh(r,e))}function Oi(r,e){return Math.ceil(xh(r,e))}var ev=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fi=6378137,sr=Math.PI*fi,nv=[-sr,-sr,sr,sr],rv=[-180,-85,180,85],Ri=fi*Math.log(Math.tan(Math.PI/2)),Vn=function(r){ev(e,r);function e(t){return r.call(this,{code:t,units:ze.METERS,extent:nv,global:!0,worldExtent:rv,getPointResolution:function(n,i){return n/Jp(i[1]/fi)}})||this}return e}(Th),Cl=[new Vn("EPSG:3857"),new Vn("EPSG:102100"),new Vn("EPSG:102113"),new Vn("EPSG:900913"),new Vn("http://www.opengis.net/def/crs/EPSG/0/3857"),new Vn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function iv(r,e,t){var n=r.length,i=t>1?t:2,o=e;o===void 0&&(i>2?o=r.slice():o=new Array(n));for(var a=0;a<n;a+=i){o[a]=sr*r[a]/180;var s=fi*Math.log(Math.tan(Math.PI*(+r[a+1]+90)/360));s>Ri?s=Ri:s<-Ri&&(s=-Ri),o[a+1]=s}return o}function ov(r,e,t){var n=r.length,i=t>1?t:2,o=e;o===void 0&&(i>2?o=r.slice():o=new Array(n));for(var a=0;a<n;a+=i)o[a]=180*r[a]/sr,o[a+1]=360*Math.atan(Math.exp(r[a+1]/fi))/Math.PI-90;return o}var av=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sv=6378137,wl=[-180,-90,180,90],lv=Math.PI*sv/180,Tn=function(r){av(e,r);function e(t,n){return r.call(this,{code:t,units:ze.DEGREES,extent:wl,axisOrientation:n,global:!0,metersPerUnit:lv,worldExtent:wl})||this}return e}(Th),Il=[new Tn("CRS:84"),new Tn("EPSG:4326","neu"),new Tn("urn:ogc:def:crs:OGC:1.3:CRS84"),new Tn("urn:ogc:def:crs:OGC:2:84"),new Tn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Tn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Tn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Ea={};function uv(r){return Ea[r]||Ea[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function hv(r,e){Ea[r]=e}var dr={};function Ki(r,e,t){var n=r.getCode(),i=e.getCode();n in dr||(dr[n]={}),dr[n][i]=t}function cv(r,e){var t;return r in dr&&e in dr[r]&&(t=dr[r][e]),t}function fv(r,e){return r[0]+=+e[0],r[1]+=+e[1],r}function Vi(r,e){for(var t=!0,n=r.length-1;n>=0;--n)if(r[n]!=e[n]){t=!1;break}return t}function cs(r,e){var t=Math.cos(e),n=Math.sin(e),i=r[0]*t-r[1]*n,o=r[1]*t+r[0]*n;return r[0]=i,r[1]=o,r}function dv(r,e){return r[0]*=e,r[1]*=e,r}function Ch(r,e){if(e.canWrapX()){var t=St(e.getExtent()),n=pv(r,e,t);n&&(r[0]-=n*t)}return r}function pv(r,e,t){var n=e.getExtent(),i=0;if(e.canWrapX()&&(r[0]<n[0]||r[0]>n[2])){var o=t||St(n);i=Math.floor((r[0]-n[0])/o)}return i}var vv=63710088e-1;function Ol(r,e,t){var n=t||vv,i=ki(r[1]),o=ki(e[1]),a=(o-i)/2,s=ki(e[0]-r[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var Ta=!0;function gv(r){var e=r===void 0?!0:r;Ta=!e}function fs(r,e,t){var n;if(e!==void 0){for(var i=0,o=r.length;i<o;++i)e[i]=r[i];n=e}else n=r.slice();return n}function wh(r,e,t){if(e!==void 0&&r!==e){for(var n=0,i=r.length;n<i;++n)e[n]=r[n];r=e}return r}function _v(r){hv(r.getCode(),r),Ki(r,r,fs)}function yv(r){r.forEach(_v)}function Ft(r){return typeof r=="string"?uv(r):r||null}function Rl(r,e,t,n){r=Ft(r);var i,o=r.getPointResolutionFunc();if(o){if(i=o(e,t),n&&n!==r.getUnits()){var a=r.getMetersPerUnit();a&&(i=i*a/fe[n])}}else{var s=r.getUnits();if(s==ze.DEGREES&&!n||n==ze.DEGREES)i=e;else{var l=xo(r,Ft("EPSG:4326"));if(l===wh&&s!==ze.DEGREES)i=e*r.getMetersPerUnit();else{var u=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];u=l(u,u,2);var h=Ol(u.slice(0,2),u.slice(2,4)),f=Ol(u.slice(4,6),u.slice(6,8));i=(h+f)/2}var a=n?fe[n]:r.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function Sl(r){yv(r),r.forEach(function(e){r.forEach(function(t){e!==t&&Ki(e,t,fs)})})}function mv(r,e,t,n){r.forEach(function(i){e.forEach(function(o){Ki(i,o,t),Ki(o,i,n)})})}function ds(r,e){return r?typeof r=="string"?Ft(r):r:Ft(e)}function Rn(r,e){if(r===e)return!0;var t=r.getUnits()===e.getUnits();if(r.getCode()===e.getCode())return t;var n=xo(r,e);return n===fs&&t}function xo(r,e){var t=r.getCode(),n=e.getCode(),i=cv(t,n);return i||(i=wh),i}function qr(r,e){var t=Ft(r),n=Ft(e);return xo(t,n)}function ps(r,e,t){var n=qr(e,t);return n(r,void 0,r.length)}function Ih(r,e,t,n){var i=qr(e,t);return Kp(r,i,void 0,n)}var pe=null;function Av(r){pe=Ft(r)}function Oh(){return pe}function Ev(){Av("EPSG:4326")}function xa(r,e){return pe?ps(r,e,pe):r}function Be(r,e){return pe?ps(r,pe,e):(Ta&&!Vi(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(Ta=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r)}function Ca(r,e){return pe?Ih(r,e,pe):r}function Pn(r,e){return pe?Ih(r,pe,e):r}function Tv(r,e){if(!pe)return r;var t=Ft(e).getUnits(),n=pe.getUnits();return t&&n?r*fe[t]/fe[n]:r}function xv(){Sl(Cl),Sl(Il),mv(Il,Cl,iv,ov)}xv();function Bn(r,e,t,n,i,o){for(var a=o||[],s=0,l=e;l<t;l+=n){var u=r[l],h=r[l+1];a[s++]=i[0]*u+i[2]*h+i[4],a[s++]=i[1]*u+i[3]*h+i[5]}return o&&a.length!=s&&(a.length=s),a}function Rh(r,e,t,n,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),h=o[0],f=o[1],c=0,d=e;d<t;d+=n){var p=r[d]-h,v=r[d+1]-f;s[c++]=h+p*l-v*u,s[c++]=f+p*u+v*l;for(var _=d+2;_<d+n;++_)s[c++]=r[_]}return a&&s.length!=c&&(s.length=c),s}function Cv(r,e,t,n,i,o,a,s){for(var l=s||[],u=a[0],h=a[1],f=0,c=e;c<t;c+=n){var d=r[c]-u,p=r[c+1]-h;l[f++]=u+i*d,l[f++]=h+o*p;for(var v=c+2;v<c+n;++v)l[f++]=r[v]}return s&&l.length!=f&&(l.length=f),l}function wv(r,e,t,n,i,o,a){for(var s=a||[],l=0,u=e;u<t;u+=n){s[l++]=r[u]+i,s[l++]=r[u+1]+o;for(var h=u+2;h<u+n;++h)s[l++]=r[h]}return a&&s.length!=l&&(s.length=l),s}var Iv=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pl=Pe(),Ov=function(r){Iv(e,r);function e(){var t=r.call(this)||this;return t.extent_=de(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=xp(function(n,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),t}return e.prototype.simplifyTransformed=function(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)},e.prototype.clone=function(){return Q()},e.prototype.closestPointXY=function(t,n,i,o){return Q()},e.prototype.containsXY=function(t,n){var i=this.getClosestPoint([t,n]);return i[0]===t&&i[1]===n},e.prototype.getClosestPoint=function(t,n){var i=n||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Q()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&ci(n),this.extentRevision_=this.getRevision()}return Hp(this.extent_,t)},e.prototype.rotate=function(t,n){Q()},e.prototype.scale=function(t,n,i){Q()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Q()},e.prototype.getType=function(){return Q()},e.prototype.applyTransform=function(t){Q()},e.prototype.intersectsExtent=function(t){return Q()},e.prototype.translate=function(t,n){Q()},e.prototype.transform=function(t,n){var i=Ft(t),o=i.getUnits()==ze.TILE_PIXELS?function(a,s,l){var u=i.getExtent(),h=i.getWorldExtent(),f=xe(h)/xe(u);return Ze(Pl,h[0],h[3],f,-f,0,0,0),Bn(a,0,a.length,l,Pl,s),qr(i,n)(a,s,l)}:qr(i,n);return this.applyTransform(o),this},e}(Me),Sh=Ov,Rv=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sv=function(r){Rv(e,r);function e(){var t=r.call(this)||this;return t.layout=Mt.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return yh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Q()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(t),i=n.getFlatCoordinates();return i.length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,n){this.stride=Ll(t),this.layout=t,this.flatCoordinates=n},e.prototype.setCoordinates=function(t,n){Q()},e.prototype.setLayout=function(t,n,i){var o;if(t)o=Ll(t);else{for(var a=0;a<i;++a)if(n.length===0){this.layout=Mt.XY,this.stride=2;return}else n=n[0];o=n.length,t=Pv(o)}this.layout=t,this.stride=o},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,n){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Rh(i,0,i.length,o,t,n,i),this.changed()}},e.prototype.scale=function(t,n,i){var o=n;o===void 0&&(o=t);var a=i;a||(a=kn(this.getExtent()));var s=this.getFlatCoordinates();if(s){var l=this.getStride();Cv(s,0,s.length,l,t,o,a,s),this.changed()}},e.prototype.translate=function(t,n){var i=this.getFlatCoordinates();if(i){var o=this.getStride();wv(i,0,i.length,o,t,n,i),this.changed()}},e}(Sh);function Pv(r){var e;return r==2?e=Mt.XY:r==3?e=Mt.XYZ:r==4&&(e=Mt.XYZM),e}function Ll(r){var e;return r==Mt.XY?e=2:r==Mt.XYZ||r==Mt.XYM?e=3:r==Mt.XYZM&&(e=4),e}function Lv(r,e,t){var n=r.getFlatCoordinates();if(n){var i=r.getStride();return Bn(n,0,n.length,i,e,t)}else return null}var Hn=Sv;function Ml(r,e,t,n,i,o,a){var s=r[e],l=r[e+1],u=r[t]-s,h=r[t+1]-l,f;if(u===0&&h===0)f=e;else{var c=((i-s)*u+(o-l)*h)/(u*u+h*h);if(c>1)f=t;else if(c>0){for(var d=0;d<n;++d)a[d]=Ye(r[e+d],r[t+d],c);a.length=n;return}else f=e}for(var d=0;d<n;++d)a[d]=r[f+d];a.length=n}function vs(r,e,t,n,i){var o=r[e],a=r[e+1];for(e+=n;e<t;e+=n){var s=r[e],l=r[e+1],u=Gn(o,a,s,l);u>i&&(i=u),o=s,a=l}return i}function gs(r,e,t,n,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];i=vs(r,e,s,n,i),e=s}return i}function Mv(r,e,t,n,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];i=gs(r,e,s,n,i),e=s[s.length-1]}return i}function _s(r,e,t,n,i,o,a,s,l,u,h){if(e==t)return u;var f,c;if(i===0)if(c=Gn(a,s,r[e],r[e+1]),c<u){for(f=0;f<n;++f)l[f]=r[e+f];return l.length=n,c}else return u;for(var d=h||[NaN,NaN],p=e+n;p<t;)if(Ml(r,p-n,p,n,a,s,d),c=Gn(a,s,d[0],d[1]),c<u){for(u=c,f=0;f<n;++f)l[f]=d[f];l.length=n,p+=n}else p+=n*Math.max((Math.sqrt(c)-Math.sqrt(u))/i|0,1);if(o&&(Ml(r,t-n,e,n,a,s,d),c=Gn(a,s,d[0],d[1]),c<u)){for(u=c,f=0;f<n;++f)l[f]=d[f];l.length=n}return u}function ys(r,e,t,n,i,o,a,s,l,u,h){for(var f=h||[NaN,NaN],c=0,d=t.length;c<d;++c){var p=t[c];u=_s(r,e,p,n,i,o,a,s,l,u,f),e=p}return u}function Fv(r,e,t,n,i,o,a,s,l,u,h){for(var f=h||[NaN,NaN],c=0,d=t.length;c<d;++c){var p=t[c];u=ys(r,e,p,n,i,o,a,s,l,u,f),e=p[p.length-1]}return u}function Dv(r,e,t,n){for(var i=0,o=t.length;i<o;++i)r[e++]=t[i];return e}function Co(r,e,t,n){for(var i=0,o=t.length;i<o;++i)for(var a=t[i],s=0;s<n;++s)r[e++]=a[s];return e}function ms(r,e,t,n,i){for(var o=i||[],a=0,s=0,l=t.length;s<l;++s){var u=Co(r,e,t[s],n);o[a++]=u,e=u}return o.length=a,o}function bv(r,e,t,n,i){for(var o=i||[],a=0,s=0,l=t.length;s<l;++s){var u=ms(r,e,t[s],n,o[a]);o[a++]=u,e=u[u.length-1]}return o.length=a,o}function As(r,e,t,n,i,o,a){var s=(t-e)/n;if(s<3){for(;e<t;e+=n)o[a++]=r[e],o[a++]=r[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[e,t-n],h=0;u.length>0;){for(var f=u.pop(),c=u.pop(),d=0,p=r[c],v=r[c+1],_=r[f],m=r[f+1],T=c+n;T<f;T+=n){var E=r[T],A=r[T+1],x=qp(E,A,p,v,_,m);x>d&&(h=T,d=x)}d>i&&(l[(h-e)/n]=1,c+n<h&&u.push(c,h),h+n<f&&u.push(h,f))}for(var T=0;T<s;++T)l[T]&&(o[a++]=r[e+T*n],o[a++]=r[e+T*n+1]);return a}function Nv(r,e,t,n,i,o,a,s){for(var l=0,u=t.length;l<u;++l){var h=t[l];a=As(r,e,h,n,i,o,a),s.push(a),e=h}return a}function wn(r,e){return e*Math.round(r/e)}function Gv(r,e,t,n,i,o,a){if(e==t)return a;var s=wn(r[e],i),l=wn(r[e+1],i);e+=n,o[a++]=s,o[a++]=l;var u,h;do if(u=wn(r[e],i),h=wn(r[e+1],i),e+=n,e==t)return o[a++]=u,o[a++]=h,a;while(u==s&&h==l);for(;e<t;){var f=wn(r[e],i),c=wn(r[e+1],i);if(e+=n,!(f==u&&c==h)){var d=u-s,p=h-l,v=f-s,_=c-l;if(d*_==p*v&&(d<0&&v<d||d==v||d>0&&v>d)&&(p<0&&_<p||p==_||p>0&&_>p)){u=f,h=c;continue}o[a++]=u,o[a++]=h,s=u,l=h,u=f,h=c}}return o[a++]=u,o[a++]=h,a}function Ph(r,e,t,n,i,o,a,s){for(var l=0,u=t.length;l<u;++l){var h=t[l];a=Gv(r,e,h,n,i,o,a),s.push(a),e=h}return a}function Bv(r,e,t,n,i,o,a,s){for(var l=0,u=t.length;l<u;++l){var h=t[l],f=[];a=Ph(r,e,h,n,i,o,a,f),s.push(f),e=h[h.length-1]}return a}function cn(r,e,t,n,i){for(var o=i!==void 0?i:[],a=0,s=e;s<t;s+=n)o[a++]=r.slice(s,s+n);return o.length=a,o}function ti(r,e,t,n,i){for(var o=i!==void 0?i:[],a=0,s=0,l=t.length;s<l;++s){var u=t[s];o[a++]=cn(r,e,u,n,o[a]),e=u}return o.length=a,o}function wa(r,e,t,n,i){for(var o=i!==void 0?i:[],a=0,s=0,l=t.length;s<l;++s){var u=t[s];o[a++]=ti(r,e,u,n,o[a]),e=u[u.length-1]}return o.length=a,o}function Lh(r,e,t,n){for(var i=0,o=r[t-n],a=r[t-n+1];e<t;e+=n){var s=r[e],l=r[e+1];i+=a*s-o*l,o=s,a=l}return i/2}function Mh(r,e,t,n){for(var i=0,o=0,a=t.length;o<a;++o){var s=t[o];i+=Lh(r,e,s,n),e=s}return i}function jv(r,e,t,n){for(var i=0,o=0,a=t.length;o<a;++o){var s=t[o];i+=Mh(r,e,s,n),e=s[s.length-1]}return i}var Yv=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kv=function(r){Yv(e,r);function e(t,n){var i=r.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(n,t):i.setCoordinates(t,n),i}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,n,i,o){return o<zn(this.getExtent(),t,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_s(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,o))},e.prototype.getArea=function(){return Lh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return cn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=As(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Mt.XY)},e.prototype.getType=function(){return Z.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Co(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Hn),Fl=kv,Uv=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wv=function(r){Uv(e,r);function e(t,n){var i=r.call(this)||this;return i.setCoordinates(t,n),i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,n,i,o){var a=this.flatCoordinates,s=Gn(t,n,a[0],a[1]);if(s<o){for(var l=this.stride,u=0;u<l;++u)i[u]=a[u];return i.length=l,s}else return o},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Wp(this.flatCoordinates,t)},e.prototype.getType=function(){return Z.POINT},e.prototype.intersectsExtent=function(t){return us(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Dv(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Hn),ei=Wv;function zv(r,e,t,n,i){var o=Eh(i,function(a){return!Ln(r,e,t,n,a[0],a[1])});return!o}function Ln(r,e,t,n,i,o){for(var a=0,s=r[t-n],l=r[t-n+1];e<t;e+=n){var u=r[e],h=r[e+1];l<=o?h>o&&(u-s)*(o-l)-(i-s)*(h-l)>0&&a++:h<=o&&(u-s)*(o-l)-(i-s)*(h-l)<0&&a--,s=u,l=h}return a!==0}function Es(r,e,t,n,i,o){if(t.length===0||!Ln(r,e,t[0],n,i,o))return!1;for(var a=1,s=t.length;a<s;++a)if(Ln(r,t[a-1],t[a],n,i,o))return!1;return!0}function Xv(r,e,t,n,i,o){if(t.length===0)return!1;for(var a=0,s=t.length;a<s;++a){var l=t[a];if(Es(r,e,l,n,i,o))return!0;e=l[l.length-1]}return!1}function Fh(r,e,t,n,i,o,a){for(var s,l,u,h,f,c,d,p=i[o+1],v=[],_=0,m=t.length;_<m;++_){var T=t[_];for(h=r[T-n],c=r[T-n+1],s=e;s<T;s+=n)f=r[s],d=r[s+1],(p<=c&&d<=p||c<=p&&p<=d)&&(u=(p-c)/(d-c)*(f-h)+h,v.push(u)),h=f,c=d}var E=NaN,A=-1/0;for(v.sort(jn),h=v[0],s=1,l=v.length;s<l;++s){f=v[s];var x=Math.abs(f-h);x>A&&(u=(h+f)/2,Es(r,e,t,n,u,p)&&(E=u,A=x)),h=f}return isNaN(E)&&(E=i[o]),a?(a.push(E,p,A),a):[E,p,A]}function Hv(r,e,t,n,i){for(var o=[],a=0,s=t.length;a<s;++a){var l=t[a];o=Fh(r,e,l,n,i,2*a,o),e=l[l.length-1]}return o}function Dh(r,e,t,n,i){var o;for(e+=n;e<t;e+=n)if(o=i(r.slice(e-n,e),r.slice(e,e+n)),o)return o;return!1}function wo(r,e,t,n,i){var o=Ah(de(),r,e,t,n);return ee(i,o)?ar(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:Dh(r,e,t,n,function(a,s){return Zp(i,a,s)}):!1}function Zv(r,e,t,n,i){for(var o=0,a=t.length;o<a;++o){if(wo(r,e,t[o],n,i))return!0;e=t[o]}return!1}function Kv(r,e,t,n,i){return!!(wo(r,e,t,n,i)||Ln(r,e,t,n,i[0],i[1])||Ln(r,e,t,n,i[0],i[3])||Ln(r,e,t,n,i[2],i[1])||Ln(r,e,t,n,i[2],i[3]))}function bh(r,e,t,n,i){if(!Kv(r,e,t[0],n,i))return!1;if(t.length===1)return!0;for(var o=1,a=t.length;o<a;++o)if(zv(r,t[o-1],t[o],n,i)&&!wo(r,t[o-1],t[o],n,i))return!1;return!0}function Vv(r,e,t,n,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];if(bh(r,e,s,n,i))return!0;e=s[s.length-1]}return!1}function Qv(r,e,t,n){for(;e<t-n;){for(var i=0;i<n;++i){var o=r[e+i];r[e+i]=r[t-n+i],r[t-n+i]=o}e+=n,t-=n}}function Nh(r,e,t,n){for(var i=0,o=r[t-n],a=r[t-n+1];e<t;e+=n){var s=r[e],l=r[e+1];i+=(s-o)*(l+a),o=s,a=l}return i===0?void 0:i>0}function Gh(r,e,t,n,i){for(var o=i!==void 0?i:!1,a=0,s=t.length;a<s;++a){var l=t[a],u=Nh(r,e,l,n);if(a===0){if(o&&u||!o&&!u)return!1}else if(o&&!u||!o&&u)return!1;e=l}return!0}function Jv(r,e,t,n,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];if(!Gh(r,e,s,n,i))return!1;s.length&&(e=s[s.length-1])}return!0}function Ia(r,e,t,n,i){for(var o=i!==void 0?i:!1,a=0,s=t.length;a<s;++a){var l=t[a],u=Nh(r,e,l,n),h=a===0?o&&u||!o&&!u:o&&!u||!o&&u;h&&Qv(r,e,l,n),e=l}return e}function Dl(r,e,t,n,i){for(var o=0,a=t.length;o<a;++o)e=Ia(r,e,t[o],n,i);return e}var $v=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bh=function(r){$v(e,r);function e(t,n,i){var o=r.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,n!==void 0&&i?(o.setFlatCoordinates(n,t),o.ends_=i):o.setCoordinates(t,n),o}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?We(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,n,i,o){return o<zn(this.getExtent(),t,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gs(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ys(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,o))},e.prototype.containsXY=function(t,n){return Es(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)},e.prototype.getArea=function(){return Mh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Ia(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,ti(n,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=kn(this.getExtent());this.flatInteriorPoint_=Fh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new ei(this.getFlatInteriorPoint(),Mt.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Fl(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,n=this.flatCoordinates,i=this.ends_,o=[],a=0,s=0,l=i.length;s<l;++s){var u=i[s],h=new Fl(n.slice(a,u),t);o.push(h),a=u}return o},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Gh(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ia(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Ph(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,Mt.XY,i)},e.prototype.getType=function(){return Z.POLYGON},e.prototype.intersectsExtent=function(t){return bh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=ms(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},e}(Hn),ni=Bh;function bl(r){var e=r[0],t=r[1],n=r[2],i=r[3],o=[e,t,e,i,n,i,n,t,e,t];return new Bh(o,Mt.XY,[o.length])}var vn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},qv=function(){function r(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return r.prototype.clone=function(){var e=this.getColor();return new r({color:Array.isArray(e)?e.slice():e||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(e){this.color_=e},r}(),Ts=qv;function jh(r,e,t,n,i,o,a){var s,l,u=(t-e)/n;if(u===1)s=e;else if(u===2)s=e,l=i;else if(u!==0){for(var h=r[e],f=r[e+1],c=0,d=[0],p=e+n;p<t;p+=n){var v=r[p],_=r[p+1];c+=Math.sqrt((v-h)*(v-h)+(_-f)*(_-f)),d.push(c),h=v,f=_}var m=i*c,T=Ap(d,m);T<0?(l=(m-d[-T-2])/(d[-T-1]-d[-T-2]),s=e+(-T-2)*n):s=e+T*n}for(var E=a>1?a:2,A=o||new Array(E),p=0;p<E;++p)A[p]=s===void 0?NaN:l===void 0?r[s+p]:Ye(r[s+p],r[s+n+p],l);return A}function Oa(r,e,t,n,i,o){if(t==e)return null;var a;if(i<r[e+n-1])return o?(a=r.slice(e,e+n),a[n-1]=i,a):null;if(r[t-1]<i)return o?(a=r.slice(t-n,t),a[n-1]=i,a):null;if(i==r[e+n-1])return r.slice(e,e+n);for(var s=e/n,l=t/n;s<l;){var u=s+l>>1;i<r[(u+1)*n-1]?l=u:s=u+1}var h=r[s*n-1];if(i==h)return r.slice((s-1)*n,(s-1)*n+n);var f=r[(s+1)*n-1],c=(i-h)/(f-h);a=[];for(var d=0;d<n-1;++d)a.push(Ye(r[(s-1)*n+d],r[s*n+d],c));return a.push(i),a}function tg(r,e,t,n,i,o,a){if(a)return Oa(r,e,t[t.length-1],n,i,o);var s;if(i<r[n-1])return o?(s=r.slice(0,n),s[n-1]=i,s):null;if(r[r.length-1]<i)return o?(s=r.slice(r.length-n),s[n-1]=i,s):null;for(var l=0,u=t.length;l<u;++l){var h=t[l];if(e!=h){if(i<r[e+n-1])return null;if(i<=r[h-1])return Oa(r,e,h,n,i,!1);e=h}}return null}function Yh(r,e,t,n){for(var i=r[e],o=r[e+1],a=0,s=e+n;s<t;s+=n){var l=r[s],u=r[s+1];a+=Math.sqrt((l-i)*(l-i)+(u-o)*(u-o)),i=l,o=u}return a}var eg=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ng=function(r){eg(e,r);function e(t,n){var i=r.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(n,t):i.setCoordinates(t,n),i}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?We(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,n,i,o){return o<zn(this.getExtent(),t,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_s(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,i,o))},e.prototype.forEachSegment=function(t){return Dh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,n){if(this.layout!=Mt.XYM&&this.layout!=Mt.XYZM)return null;var i=n!==void 0?n:!1;return Oa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return cn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,n){return jh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)},e.prototype.getLength=function(){return Yh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=As(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Mt.XY)},e.prototype.getType=function(){return Z.LINE_STRING},e.prototype.intersectsExtent=function(t){return wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Co(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Hn),Ra=ng,rg=function(){function r(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return r.prototype.clone=function(){var e=this.getColor();return new r({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(e){this.color_=e},r.prototype.setLineCap=function(e){this.lineCap_=e},r.prototype.setLineDash=function(e){this.lineDash_=e},r.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},r.prototype.setLineJoin=function(e){this.lineJoin_=e},r.prototype.setMiterLimit=function(e){this.miterLimit_=e},r.prototype.setWidth=function(e){this.width_=e},r}(),xs=rg,At={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Nl(r){return r[0]>0&&r[1]>0}function ig(r,e,t){return t===void 0&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function me(r,e){return Array.isArray(r)?r:(e===void 0?e=[r,r]:(e[0]=r,e[1]=r),e)}var og=function(){function r(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=me(e.scale),this.displacement_=e.displacement}return r.prototype.clone=function(){var e=this.getScale();return new r({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getScaleArray=function(){return this.scaleArray_},r.prototype.getDisplacement=function(){return this.displacement_},r.prototype.getAnchor=function(){return Q()},r.prototype.getImage=function(e){return Q()},r.prototype.getHitDetectionImage=function(){return Q()},r.prototype.getPixelRatio=function(e){return 1},r.prototype.getImageState=function(){return Q()},r.prototype.getImageSize=function(){return Q()},r.prototype.getOrigin=function(){return Q()},r.prototype.getSize=function(){return Q()},r.prototype.setDisplacement=function(e){this.displacement_=e},r.prototype.setOpacity=function(e){this.opacity_=e},r.prototype.setRotateWithView=function(e){this.rotateWithView_=e},r.prototype.setRotation=function(e){this.rotation_=e},r.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=me(e)},r.prototype.listenImageChange=function(e){Q()},r.prototype.load=function(){Q()},r.prototype.unlistenImageChange=function(e){Q()},r}(),kh=og,ag=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,sg=/^([a-z]*)$|^hsla?\(.*\)$/i;function Uh(r){return typeof r=="string"?r:Wh(r)}function lg(r){var e=document.createElement("div");if(e.style.color=r,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var ug=function(){var r=1024,e={},t=0;return function(n){var i;if(e.hasOwnProperty(n))i=e[n];else{if(t>=r){var o=0;for(var a in e)(o++&3)===0&&(delete e[a],--t)}i=hg(n),e[n]=i,++t}return i}}();function Qi(r){return Array.isArray(r)?r:ug(r)}function hg(r){var e,t,n,i,o;if(sg.exec(r)&&(r=lg(r)),ag.exec(r)){var a=r.length-1,s=void 0;a<=4?s=1:s=2;var l=a===4||a===8;e=parseInt(r.substr(1+0*s,s),16),t=parseInt(r.substr(1+1*s,s),16),n=parseInt(r.substr(1+2*s,s),16),l?i=parseInt(r.substr(1+3*s,s),16):i=255,s==1&&(e=(e<<4)+e,t=(t<<4)+t,n=(n<<4)+n,l&&(i=(i<<4)+i)),o=[e,t,n,i/255]}else r.indexOf("rgba(")==0?(o=r.slice(5,-1).split(",").map(Number),Gl(o)):r.indexOf("rgb(")==0?(o=r.slice(4,-1).split(",").map(Number),o.push(1),Gl(o)):ht(!1,14);return o}function Gl(r){return r[0]=Nt(r[0]+.5|0,0,255),r[1]=Nt(r[1]+.5|0,0,255),r[2]=Nt(r[2]+.5|0,0,255),r[3]=Nt(r[3],0,1),r}function Wh(r){var e=r[0];e!=(e|0)&&(e=e+.5|0);var t=r[1];t!=(t|0)&&(t=t+.5|0);var n=r[2];n!=(n|0)&&(n=n+.5|0);var i=r[3]===void 0?1:Math.round(r[3]*100)/100;return"rgba("+e+","+t+","+n+","+i+")"}function Se(r){return Array.isArray(r)?Wh(r):r}function ve(r,e,t,n){var i;return t&&t.length?i=t.shift():mo?i=new OffscreenCanvas(r||300,e||300):i=document.createElement("canvas"),r&&(i.width=r),e&&(i.height=e),i.getContext("2d",n)}function Bl(r,e){var t=e.parentNode;t&&t.replaceChild(r,e)}function Sa(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function cg(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function fg(r,e){for(var t=r.childNodes,n=0;;++n){var i=t[n],o=e[n];if(!i&&!o)break;if(i!==o){if(!i){r.appendChild(o);continue}if(!o){r.removeChild(i),--n;continue}r.insertBefore(o,i)}}}var Si="ol-hidden",Io="ol-unselectable",Cs="ol-control",jl="ol-collapsed",dg=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Yl=["style","variant","weight","size","lineHeight","family"],zh=function(r){var e=r.match(dg);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,i=Yl.length;n<i;++n){var o=e[n+1];o!==void 0&&(t[Yl[n]]=o)}return t.families=t.family.split(/,\s?/),t};function Xh(r){return r===1?"":String(Math.round(r*100)/100)}var Hh="10px sans-serif",Xe="#000",Ji="round",ri=[],ii=0,mr="round",oi=10,ai="#000",si="center",$i="middle",Mn=[0,0,0,0],li=1,je=new Me,pg=new xr;pg.setSize=function(){console.warn("labelCache is deprecated.")};var nr=null,Pa,La={},vg=function(){var r=100,e="32px ",t=["monospace","serif"],n=t.length,i="wmytzilWMYTZIL@#/&?$%10\uF013",o,a;function s(u,h,f){for(var c=!0,d=0;d<n;++d){var p=t[d];if(a=qi(u+" "+h+" "+e+p,i),f!=p){var v=qi(u+" "+h+" "+e+f+","+p,i);c=c&&v!=a}}return!!c}function l(){for(var u=!0,h=je.getKeys(),f=0,c=h.length;f<c;++f){var d=h[f];je.get(d)<r&&(s.apply(this,d.split(`
`))?(ui(La),nr=null,Pa=void 0,je.set(d,r)):(je.set(d,je.get(d)+1,!0),u=!1))}u&&(clearInterval(o),o=void 0)}return function(u){var h=zh(u);if(!!h)for(var f=h.families,c=0,d=f.length;c<d;++c){var p=f[c],v=h.style+`
`+h.weight+`
`+p;je.get(v)===void 0&&(je.set(v,r,!0),s(h.style,h.weight,p)||(je.set(v,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),gg=function(){var r;return function(e){var t=La[e];if(t==null){if(mo){var n=zh(e),i=Zh(e,"\u017Dg"),o=isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight);t=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=e,document.body.appendChild(r),t=r.offsetHeight,document.body.removeChild(r);La[e]=t}return t}}();function Zh(r,e){return nr||(nr=ve(1,1)),r!=Pa&&(nr.font=r,Pa=nr.font),nr.measureText(e)}function qi(r,e){return Zh(r,e).width}function kl(r,e,t){if(e in t)return t[e];var n=qi(r,e);return t[e]=n,n}function _g(r,e){for(var t=[],n=[],i=[],o=0,a=0,s=0,l=0,u=0,h=e.length;u<=h;u+=2){var f=e[u];if(f===`
`||u===h){o=Math.max(o,a),i.push(a),a=0,s+=l;continue}var c=e[u+1]||r.font,d=qi(c,f);t.push(d),a+=d;var p=gg(c);n.push(p),l=Math.max(l,p)}return{width:o,height:s,widths:t,heights:n,lineWidths:i}}function yg(r,e,t,n,i,o,a,s,l,u,h){r.save(),t!==1&&(r.globalAlpha*=t),e&&r.setTransform.apply(r,e),n.contextInstructions?(r.translate(l,u),r.scale(h[0],h[1]),mg(n,r)):h[0]<0||h[1]<0?(r.translate(l,u),r.scale(h[0],h[1]),r.drawImage(n,i,o,a,s,0,0,a,s)):r.drawImage(n,i,o,a,s,l,u,a*h[0],s*h[1]),r.restore()}function mg(r,e){for(var t=r.contextInstructions,n=0,i=t.length;n<i;n+=2)Array.isArray(t[n+1])?e[t[n]].apply(e,t[n+1]):e[t[n]]=t[n+1]}var Ag=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Eg=function(r){Ag(e,r);function e(t){var n=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return n=r.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,n.canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=t.fill!==void 0?t.fill:null,n.origin_=[0,0],n.points_=t.points,n.radius_=t.radius!==void 0?t.radius:t.radius1,n.radius2_=t.radius2,n.angle_=t.angle!==void 0?t.angle:0,n.stroke_=t.stroke!==void 0?t.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var n=this.getDisplacement();return[t[0]/2-n[0],t[1]/2+n[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var n=this.canvas_[t];if(!n){var i=this.renderOptions_,o=ve(i.size*t,i.size*t);this.draw_(i,o,t),n=o.canvas,this.canvas_[t]=n}return n},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return At.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,n,i){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var l=this.radius2_===void 0?this.points_:this.points_*2,u=2*Math.PI/l,h=a*Math.sin(u),f=Math.sqrt(a*a-h*h),c=o-f,d=Math.sqrt(h*h+c*c),p=d/h;if(t==="miter"&&p<=i)return p*n;var v=n/2/p,_=n/2*(c/d),m=Math.sqrt((o+v)*(o+v)+_*_),T=m-o;if(this.radius2_===void 0||t==="bevel")return T*2;var E=o*Math.sin(u),A=Math.sqrt(o*o-E*E),x=a-A,I=Math.sqrt(E*E+x*x),M=I/E;if(M<=i){var w=M*n/2-a-o;return 2*Math.max(T,w)}return T*2},e.prototype.createRenderOptions=function(){var t=mr,n=0,i=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=ai),a=Se(a),s=this.stroke_.getWidth(),s===void 0&&(s=li),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=mr),n=this.stroke_.getMiterLimit(),n===void 0&&(n=oi));var l=this.calculateLineJoinSize_(t,s,n),u=Math.max(this.radius_,this.radius2_||0),h=Math.ceil(2*u+l);return{strokeStyle:a,strokeWidth:s,size:h,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,n,i){if(n.scale(i,i),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){var o=this.fill_.getColor();o===null&&(o=Xe),n.fillStyle=Se(o),n.fill()}this.stroke_&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,n.setLineDash&&t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var n=this.fill_.getColor(),i=0;if(typeof n=="string"&&(n=Qi(n)),n===null?i=1:Array.isArray(n)&&(i=n.length===4?n[3]:1),i===0){var o=ve(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var n=this.points_,i=this.radius_;if(n===1/0)t.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/n,l=0;l<n;l++){var u=a+l*s,h=l%2===0?i:o;t.lineTo(h*Math.cos(u),h*Math.sin(u))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=Xe,n.fill(),this.stroke_&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())},e}(kh),Tg=Eg,xg=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cg=function(r){xg(e,r);function e(t){var n=t||{};return r.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:n.scale!==void 0?n.scale:1,rotation:n.rotation!==void 0?n.rotation:0,rotateWithView:n.rotateWithView!==void 0?n.rotateWithView:!1,displacement:n.displacement!==void 0?n.displacement:[0,0]})||this}return e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(Tg),wg=Cg,Kh=function(){function r(e){var t=e||{};this.geometry_=null,this.geometryFunction_=Ul,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return r.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new r({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.setRenderer=function(e){this.renderer_=e},r.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},r.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},r.prototype.getGeometry=function(){return this.geometry_},r.prototype.getGeometryFunction=function(){return this.geometryFunction_},r.prototype.getFill=function(){return this.fill_},r.prototype.setFill=function(e){this.fill_=e},r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(e){this.image_=e},r.prototype.getStroke=function(){return this.stroke_},r.prototype.setStroke=function(e){this.stroke_=e},r.prototype.getText=function(){return this.text_},r.prototype.setText=function(e){this.text_=e},r.prototype.getZIndex=function(){return this.zIndex_},r.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Ul,this.geometry_=e},r.prototype.setZIndex=function(e){this.zIndex_=e},r}();function Ig(r){var e;if(typeof r=="function")e=r;else{var t;if(Array.isArray(r))t=r;else{ht(typeof r.getZIndex=="function",41);var n=r;t=[n]}e=function(){return t}}return e}var ko=null;function Og(r,e){if(!ko){var t=new Ts({color:"rgba(255,255,255,0.4)"}),n=new xs({color:"#3399CC",width:1.25});ko=[new Kh({image:new wg({fill:t,stroke:n,radius:5}),fill:t,stroke:n})]}return ko}function Ul(r){return r.getGeometry()}var ws=Kh,Rg={POINT:"point",LINE:"line"},yt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},Sg=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pg=function(r){Sg(e,r);function e(t){var n=r.call(this)||this;n.on,n.once,n.un,n.background_=t.background;var i=bt({},t);return typeof t.properties=="object"&&(delete i.properties,bt(i,t.properties)),i[yt.OPACITY]=t.opacity!==void 0?t.opacity:1,ht(typeof i[yt.OPACITY]=="number",64),i[yt.VISIBLE]=t.visible!==void 0?t.visible:!0,i[yt.Z_INDEX]=t.zIndex,i[yt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[yt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[yt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[yt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,n.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var n=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return n.opacity=Nt(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},e.prototype.getLayersArray=function(t){return Q()},e.prototype.getLayerStatesArray=function(t){return Q()},e.prototype.getExtent=function(){return this.get(yt.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(yt.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(yt.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(yt.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(yt.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(yt.OPACITY)},e.prototype.getSourceState=function(){return Q()},e.prototype.getVisible=function(){return this.get(yt.VISIBLE)},e.prototype.getZIndex=function(){return this.get(yt.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(yt.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(yt.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(yt.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(yt.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(yt.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){ht(typeof t=="number",64),this.set(yt.OPACITY,t)},e.prototype.setVisible=function(t){this.set(yt.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(yt.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),r.prototype.disposeInternal.call(this)},e}(Me),Vh=Pg,Un={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Lg=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mg=function(r){Lg(e,r);function e(t){var n=this,i=bt({},t);delete i.source,n=r.call(this,i)||this,n.on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,t.render&&(n.render=t.render),t.map&&n.setMap(t.map),n.addChangeListener(yt.SOURCE,n.handleSourcePropertyChange_);var o=t.source?t.source:null;return n.setSource(o),n}return e.prototype.getLayersArray=function(t){var n=t||[];return n.push(this),n},e.prototype.getLayerStatesArray=function(t){var n=t||[];return n.push(this.getLayerState()),n},e.prototype.getSource=function(){return this.get(yt.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Un.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(xt(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=ft(t,rt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(n){return n([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,n){var i=this.getRenderer();if(i.prepareFrame(t))return this.rendered=!0,i.renderFrame(t,n)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(yt.MAP,t)},e.prototype.getMapInternal=function(){return this.get(yt.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(xt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(xt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=ft(t,vn.PRECOMPOSE,function(n){var i=n,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);ht(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=ft(this,rt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(yt.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),r.prototype.disposeInternal.call(this)},e}(Vh);function to(r,e){if(!r.visible)return!1;var t=e.resolution;if(t<r.minResolution||t>=r.maxResolution)return!1;var n=e.zoom;return n>r.minZoom&&n<=r.maxZoom}var Oo=Mg;function Fg(r,e,t,n,i){Qh(r,e,t||0,n||r.length-1,i||Dg)}function Qh(r,e,t,n,i){for(;n>t;){if(n-t>600){var o=n-t+1,a=e-t+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1),h=Math.max(t,Math.floor(e-a*l/o+u)),f=Math.min(n,Math.floor(e+(o-a)*l/o+u));Qh(r,e,h,f,i)}var c=r[e],d=t,p=n;for(Fr(r,t,e),i(r[n],c)>0&&Fr(r,t,n);d<p;){for(Fr(r,d,p),d++,p--;i(r[d],c)<0;)d++;for(;i(r[p],c)>0;)p--}i(r[t],c)===0?Fr(r,t,p):(p++,Fr(r,p,n)),p<=e&&(t=p+1),e<=p&&(n=p-1)}}function Fr(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function Dg(r,e){return r<e?-1:r>e?1:0}class Jh{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!Li(e,t))return n;const i=this.toBBox,o=[];for(;t;){for(let a=0;a<t.children.length;a++){const s=t.children[a],l=t.leaf?i(s):s;Li(e,l)&&(t.leaf?n.push(s):Wo(e,l)?this._all(s,n):o.push(s))}t=o.pop()}return n}collides(e){let t=this.data;if(!Li(e,t))return!1;const n=[];for(;t;){for(let i=0;i<t.children.length;i++){const o=t.children[i],a=t.leaf?this.toBBox(o):o;if(Li(e,a)){if(t.leaf||Wo(e,a))return!0;n.push(o)}}t=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let n=0;n<e.length;n++)this.insert(e[n]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const n=this.data;this.data=t,t=n}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=rr([]),this}remove(e,t){if(!e)return this;let n=this.data;const i=this.toBBox(e),o=[],a=[];let s,l,u;for(;n||o.length;){if(n||(n=o.pop(),l=o[o.length-1],s=a.pop(),u=!0),n.leaf){const h=bg(e,n.children,t);if(h!==-1)return n.children.splice(h,1),o.push(n),this._condense(o),this}!u&&!n.leaf&&Wo(n,i)?(o.push(n),a.push(s),s=0,l=n,n=n.children[0]):l?(s++,n=l.children[s],u=!1):n=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,i){const o=n-t+1;let a=this._maxEntries,s;if(o<=a)return s=rr(e.slice(t,n+1)),Qn(s,this.toBBox),s;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),s=rr([]),s.leaf=!1,s.height=i;const l=Math.ceil(o/a),u=l*Math.ceil(Math.sqrt(a));Wl(e,t,n,u,this.compareMinX);for(let h=t;h<=n;h+=u){const f=Math.min(h+u-1,n);Wl(e,h,f,l,this.compareMinY);for(let c=h;c<=f;c+=l){const d=Math.min(c+l-1,f);s.children.push(this._build(e,c,d,i-1))}}return Qn(s,this.toBBox),s}_chooseSubtree(e,t,n,i){for(;i.push(t),!(t.leaf||i.length-1===n);){let o=1/0,a=1/0,s;for(let l=0;l<t.children.length;l++){const u=t.children[l],h=Uo(u),f=Bg(e,u)-h;f<a?(a=f,o=h<o?h:o,s=u):f===a&&h<o&&(o=h,s=u)}t=s||t.children[0]}return t}_insert(e,t,n){const i=n?e:this.toBBox(e),o=[],a=this._chooseSubtree(i,this.data,t,o);for(a.children.push(e),jr(a,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)}_split(e,t){const n=e[t],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);const a=this._chooseSplitIndex(n,o,i),s=rr(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,Qn(n,this.toBBox),Qn(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)}_splitRoot(e,t){this.data=rr([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Qn(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let i,o=1/0,a=1/0;for(let s=t;s<=n-t;s++){const l=Br(e,0,s,this.toBBox),u=Br(e,s,n,this.toBBox),h=jg(l,u),f=Uo(l)+Uo(u);h<o?(o=h,i=s,a=f<a?f:a):h===o&&f<a&&(a=f,i=s)}return i||n-t}_chooseSplitAxis(e,t,n){const i=e.leaf?this.compareMinX:Ng,o=e.leaf?this.compareMinY:Gg,a=this._allDistMargin(e,t,n,i),s=this._allDistMargin(e,t,n,o);a<s&&e.children.sort(i)}_allDistMargin(e,t,n,i){e.children.sort(i);const o=this.toBBox,a=Br(e,0,t,o),s=Br(e,n-t,n,o);let l=Pi(a)+Pi(s);for(let u=t;u<n-t;u++){const h=e.children[u];jr(a,e.leaf?o(h):h),l+=Pi(a)}for(let u=n-t-1;u>=t;u--){const h=e.children[u];jr(s,e.leaf?o(h):h),l+=Pi(s)}return l}_adjustParentBBoxes(e,t,n){for(let i=n;i>=0;i--)jr(t[i],e)}_condense(e){for(let t=e.length-1,n;t>=0;t--)e[t].children.length===0?t>0?(n=e[t-1].children,n.splice(n.indexOf(e[t]),1)):this.clear():Qn(e[t],this.toBBox)}}function bg(r,e,t){if(!t)return e.indexOf(r);for(let n=0;n<e.length;n++)if(t(r,e[n]))return n;return-1}function Qn(r,e){Br(r,0,r.children.length,e,r)}function Br(r,e,t,n,i){i||(i=rr(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=e;o<t;o++){const a=r.children[o];jr(i,r.leaf?n(a):a)}return i}function jr(r,e){return r.minX=Math.min(r.minX,e.minX),r.minY=Math.min(r.minY,e.minY),r.maxX=Math.max(r.maxX,e.maxX),r.maxY=Math.max(r.maxY,e.maxY),r}function Ng(r,e){return r.minX-e.minX}function Gg(r,e){return r.minY-e.minY}function Uo(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function Pi(r){return r.maxX-r.minX+(r.maxY-r.minY)}function Bg(r,e){return(Math.max(e.maxX,r.maxX)-Math.min(e.minX,r.minX))*(Math.max(e.maxY,r.maxY)-Math.min(e.minY,r.minY))}function jg(r,e){const t=Math.max(r.minX,e.minX),n=Math.max(r.minY,e.minY),i=Math.min(r.maxX,e.maxX),o=Math.min(r.maxY,e.maxY);return Math.max(0,i-t)*Math.max(0,o-n)}function Wo(r,e){return r.minX<=e.minX&&r.minY<=e.minY&&e.maxX<=r.maxX&&e.maxY<=r.maxY}function Li(r,e){return e.minX<=r.maxX&&e.minY<=r.maxY&&e.maxX>=r.minX&&e.maxY>=r.minY}function rr(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Wl(r,e,t,n,i){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=n)continue;const a=e+Math.ceil((t-e)/n/2)*n;Fg(r,a,e,t,i),o.push(e,a,a,t)}}var Yg=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zl={RENDER_ORDER:"renderOrder"},kg=function(r){Yg(e,r);function e(t){var n=this,i=t||{},o=bt({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,n=r.call(this,o)||this,n.declutter_=i.declutter!==void 0?i.declutter:!1,n.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,n.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,n}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return r.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(zl.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Jh(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(zl.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:Og,this.styleFunction_=t===null?void 0:Ig(this.style_),this.changed()},e}(Oo),Ug=kg,di={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Mi=[di.FILL],fn=[di.STROKE],Fn=[di.BEGIN_PATH],Xl=[di.CLOSE_PATH],$=di,Wg=function(){function r(){}return r.prototype.drawCustom=function(e,t,n,i){},r.prototype.drawGeometry=function(e){},r.prototype.setStyle=function(e){},r.prototype.drawCircle=function(e,t){},r.prototype.drawFeature=function(e,t){},r.prototype.drawGeometryCollection=function(e,t){},r.prototype.drawLineString=function(e,t){},r.prototype.drawMultiLineString=function(e,t){},r.prototype.drawMultiPoint=function(e,t){},r.prototype.drawMultiPolygon=function(e,t){},r.prototype.drawPoint=function(e,t){},r.prototype.drawPolygon=function(e,t){},r.prototype.drawText=function(e,t){},r.prototype.setFillStrokeStyle=function(e,t){},r.prototype.setImageStyle=function(e,t){},r.prototype.setTextStyle=function(e,t){},r}(),$h=Wg,zg=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xg=function(r){zg(e,r);function e(t,n,i,o){var a=r.call(this)||this;return a.tolerance=t,a.maxExtent=n,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=i,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return e.prototype.applyPixelRatio=function(t){var n=this.pixelRatio;return n==1?t:t.map(function(i){return i*n})},e.prototype.appendFlatPointCoordinates=function(t,n){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,l=0,u=t.length;l<u;l+=n)o[0]=t[l],o[1]=t[l+1],hi(i,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},e.prototype.appendFlatLineCoordinates=function(t,n,i,o,a,s){var l=this.coordinates,u=l.length,h=this.getBufferedMaxExtent();s&&(n+=o);var f=t[n],c=t[n+1],d=this.tmpCoordinate_,p=!0,v,_,m;for(v=n+o;v<i;v+=o)d[0]=t[v],d[1]=t[v+1],m=ya(h,d),m!==_?(p&&(l[u++]=f,l[u++]=c,p=!1),l[u++]=d[0],l[u++]=d[1]):m===Bt.INTERSECTING?(l[u++]=d[0],l[u++]=d[1],p=!1):p=!0,f=d[0],c=d[1],_=m;return(a&&p||v===n+o)&&(l[u++]=f,l[u++]=c),u},e.prototype.drawCustomCoordinates_=function(t,n,i,o,a){for(var s=0,l=i.length;s<l;++s){var u=i[s],h=this.appendFlatLineCoordinates(t,n,u,o,!1,!1);a.push(h),n=u}return n},e.prototype.drawCustom=function(t,n,i,o){this.beginGeometry(t,n);var a=t.getType(),s=t.getStride(),l=this.coordinates.length,u,h,f,c,d;switch(a){case Z.MULTI_POLYGON:u=t.getOrientedFlatCoordinates(),c=[];var p=t.getEndss();d=0;for(var v=0,_=p.length;v<_;++v){var m=[];d=this.drawCustomCoordinates_(u,d,p[v],s,m),c.push(m)}this.instructions.push([$.CUSTOM,l,c,t,i,wa]),this.hitDetectionInstructions.push([$.CUSTOM,l,c,t,o||i,wa]);break;case Z.POLYGON:case Z.MULTI_LINE_STRING:f=[],u=a==Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(u,0,t.getEnds(),s,f),this.instructions.push([$.CUSTOM,l,f,t,i,ti]),this.hitDetectionInstructions.push([$.CUSTOM,l,f,t,o||i,ti]);break;case Z.LINE_STRING:case Z.CIRCLE:u=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(u,0,u.length,s,!1,!1),this.instructions.push([$.CUSTOM,l,h,t,i,cn]),this.hitDetectionInstructions.push([$.CUSTOM,l,h,t,o||i,cn]);break;case Z.MULTI_POINT:u=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(u,s),h>l&&(this.instructions.push([$.CUSTOM,l,h,t,i,cn]),this.hitDetectionInstructions.push([$.CUSTOM,l,h,t,o||i,cn]));break;case Z.POINT:u=t.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),h=this.coordinates.length,this.instructions.push([$.CUSTOM,l,h,t,i]),this.hitDetectionInstructions.push([$.CUSTOM,l,h,t,o||i]);break}this.endGeometry(n)},e.prototype.beginGeometry=function(t,n){this.beginGeometryInstruction1_=[$.BEGIN_GEOMETRY,n,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[$.BEGIN_GEOMETRY,n,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var n,i=t.length,o,a,s=-1;for(n=0;n<i;++n)o=t[n],a=o[0],a==$.END_GEOMETRY?s=n:a==$.BEGIN_GEOMETRY&&(o[2]=n,Ep(this.hitDetectionInstructions,s,n),s=-1)},e.prototype.setFillStrokeStyle=function(t,n){var i=this.state;if(t){var o=t.getColor();i.fillStyle=Se(o||Xe)}else i.fillStyle=void 0;if(n){var a=n.getColor();i.strokeStyle=Se(a||ai);var s=n.getLineCap();i.lineCap=s!==void 0?s:Ji;var l=n.getLineDash();i.lineDash=l?l.slice():ri;var u=n.getLineDashOffset();i.lineDashOffset=u||ii;var h=n.getLineJoin();i.lineJoin=h!==void 0?h:mr;var f=n.getWidth();i.lineWidth=f!==void 0?f:li;var c=n.getMiterLimit();i.miterLimit=c!==void 0?c:oi,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var n=t.fillStyle,i=[$.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[$.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,n){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,n){var i=t.strokeStyle,o=t.lineCap,a=t.lineDash,s=t.lineDashOffset,l=t.lineJoin,u=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||a!=t.currentLineDash&&!Wn(t.currentLineDash,a)||t.currentLineDashOffset!=s||t.currentLineJoin!=l||t.currentLineWidth!=u||t.currentMiterLimit!=h)&&(i!==void 0&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=a,t.currentLineDashOffset=s,t.currentLineJoin=l,t.currentLineWidth=u,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[$.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=_h(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;ls(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}($h),pi=Xg,Hg=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zg=function(r){Hg(e,r);function e(t,n,i,o){var a=r.call(this,t,n,i,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterImageWithText_=void 0,a}return e.prototype.drawPoint=function(t,n){if(!!this.image_){this.beginGeometry(t,n);var i=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([$.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([$.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},e.prototype.drawMultiPoint=function(t,n){if(!!this.image_){this.beginGeometry(t,n);var i=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([$.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([$.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,r.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,n){var i=t.getAnchor(),o=t.getSize(),a=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),l=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=a,this.image_=s,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=l[0]*this.imagePixelRatio_,this.originY_=l[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=n},e}(pi),Kg=Zg,Vg=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qg=function(r){Vg(e,r);function e(t,n,i,o){return r.call(this,t,n,i,o)||this}return e.prototype.drawFlatCoordinates_=function(t,n,i,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(t,n,i,o,!1,!1),l=[$.MOVE_TO_LINE_TO,a,s];return this.instructions.push(l),this.hitDetectionInstructions.push(l),i},e.prototype.drawLineString=function(t,n){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ri,ii],Fn);var s=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(s,0,s.length,l),this.hitDetectionInstructions.push(fn),this.endGeometry(n)}},e.prototype.drawMultiLineString=function(t,n){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Fn);for(var s=t.getEnds(),l=t.getFlatCoordinates(),u=t.getStride(),h=0,f=0,c=s.length;f<c;++f)h=this.drawFlatCoordinates_(l,h,s[f],u);this.hitDetectionInstructions.push(fn),this.endGeometry(n)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(fn),this.reverseHitDetectionInstructions(),this.state=null,r.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(fn),t.lastStroke=this.coordinates.length),t.lastStroke=0,r.prototype.applyStroke.call(this,t),this.instructions.push(Fn)},e}(pi),Jg=Qg,$g=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qg=function(r){$g(e,r);function e(t,n,i,o){return r.call(this,t,n,i,o)||this}return e.prototype.drawFlatCoordinatess_=function(t,n,i,o){var a=this.state,s=a.fillStyle!==void 0,l=a.strokeStyle!==void 0,u=i.length;this.instructions.push(Fn),this.hitDetectionInstructions.push(Fn);for(var h=0;h<u;++h){var f=i[h],c=this.coordinates.length,d=this.appendFlatLineCoordinates(t,n,f,o,!0,!l),p=[$.MOVE_TO_LINE_TO,c,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),l&&(this.instructions.push(Xl),this.hitDetectionInstructions.push(Xl)),n=f}return s&&(this.instructions.push(Mi),this.hitDetectionInstructions.push(Mi)),l&&(this.instructions.push(fn),this.hitDetectionInstructions.push(fn)),n},e.prototype.drawCircle=function(t,n){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,n),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_FILL_STYLE,Xe]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getFlatCoordinates(),l=t.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);var h=[$.CIRCLE,u];this.instructions.push(Fn,h),this.hitDetectionInstructions.push(Fn,h),i.fillStyle!==void 0&&(this.instructions.push(Mi),this.hitDetectionInstructions.push(Mi)),i.strokeStyle!==void 0&&(this.instructions.push(fn),this.hitDetectionInstructions.push(fn)),this.endGeometry(n)}},e.prototype.drawPolygon=function(t,n){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,n),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_FILL_STYLE,Xe]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getEnds(),l=t.getOrientedFlatCoordinates(),u=t.getStride();this.drawFlatCoordinatess_(l,0,s,u),this.endGeometry(n)}},e.prototype.drawMultiPolygon=function(t,n){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,n),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_FILL_STYLE,Xe]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=t.getEndss(),l=t.getOrientedFlatCoordinates(),u=t.getStride(),h=0,f=0,c=s.length;f<c;++f)h=this.drawFlatCoordinatess_(l,h,s[f],u);this.endGeometry(n)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var n=this.coordinates,i=0,o=n.length;i<o;++i)n[i]=wn(n[i],t);return r.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,n=t.fillStyle;n!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(pi),Hl=qg;function t_(r,e,t,n,i){var o=t,a=t,s=0,l=0,u=t,h,f,c,d,p,v,_,m,T,E;for(f=t;f<n;f+=i){var A=e[f],x=e[f+1];p!==void 0&&(T=A-p,E=x-v,d=Math.sqrt(T*T+E*E),_!==void 0&&(l+=c,h=Math.acos((_*T+m*E)/(c*d)),h>r&&(l>s&&(s=l,o=u,a=f),l=0,u=f-i)),c=d,_=T,m=E),p=A,v=x}return l+=d,l>s?[u,f]:[o,a]}var e_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eo={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},n_=function(r){e_(e,r);function e(t,n,i,o){var a=r.call(this,t,n,i,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return e.prototype.finish=function(){var t=r.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,n){var i=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!i&&!o)){var s=this.coordinates,l=s.length,u=t.getType(),h=null,f=t.getStride();if(a.placement===Rg.LINE&&(u==Z.LINE_STRING||u==Z.MULTI_LINE_STRING||u==Z.POLYGON||u==Z.MULTI_POLYGON)){if(!ee(this.getBufferedMaxExtent(),t.getExtent()))return;var c=void 0;if(h=t.getFlatCoordinates(),u==Z.LINE_STRING)c=[h.length];else if(u==Z.MULTI_LINE_STRING)c=t.getEnds();else if(u==Z.POLYGON)c=t.getEnds().slice(0,1);else if(u==Z.MULTI_POLYGON){var d=t.getEndss();c=[];for(var p=0,v=d.length;p<v;++p)c.push(d[p][0])}this.beginGeometry(t,n);for(var _=a.textAlign,m=0,T=void 0,E=0,A=c.length;E<A;++E){if(_==null){var x=t_(a.maxAngle,h,m,c[E],f);m=x[0],T=x[1]}else T=c[E];for(var p=m;p<T;p+=f)s.push(h[p],h[p+1]);var I=s.length;m=c[E],this.drawChars_(l,I),l=I}this.endGeometry(n)}else{var M=a.overflow?null:[];switch(u){case Z.POINT:case Z.MULTI_POINT:h=t.getFlatCoordinates();break;case Z.LINE_STRING:h=t.getFlatMidpoint();break;case Z.CIRCLE:h=t.getCenter();break;case Z.MULTI_LINE_STRING:h=t.getFlatMidpoints(),f=2;break;case Z.POLYGON:h=t.getFlatInteriorPoint(),a.overflow||M.push(h[2]/this.resolution),f=3;break;case Z.MULTI_POLYGON:var w=t.getFlatInteriorPoints();h=[];for(var p=0,v=w.length;p<v;p+=3)a.overflow||M.push(w[p+2]/this.resolution),h.push(w[p],w[p+1]);if(h.length===0)return;f=2;break}var I=this.appendFlatPointCoordinates(h,f);if(I===l)return;if(M&&(I-l)/2!==h.length/f){var L=l/2;M=M.filter(function(X,et){var st=s[(L+et)*2]===h[et*f]&&s[(L+et)*2+1]===h[et*f+1];return st||--L,st})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,n);var N=a.padding;if(N!=Mn&&(a.scale[0]<0||a.scale[1]<0)){var Y=a.padding[0],H=a.padding[1],k=a.padding[2],tt=a.padding[3];a.scale[0]<0&&(H=-H,tt=-tt),a.scale[1]<0&&(Y=-Y,k=-k),N=[Y,H,k,tt]}var K=this.pixelRatio;this.instructions.push([$.DRAW_IMAGE,l,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,N==Mn?Mn:N.map(function(X){return X*K}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,M]);var U=1/K;this.hitDetectionInstructions.push([$.DRAW_IMAGE,l,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[U,U],NaN,this.declutterImageWithText_,N,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,M]),this.endGeometry(n)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:n.font,textAlign:n.textAlign||si,textBaseline:n.textBaseline||$i,scale:n.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,n){var i=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,l=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,h=eo[o.textBaseline],f=this.textOffsetY_*u,c=this.text_,d=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([$.DRAW_CHARS,t,n,h,o.overflow,l,o.maxAngle,u,f,a,d*u,c,s,1]),this.hitDetectionInstructions.push([$.DRAW_CHARS,t,n,h,o.overflow,l,o.maxAngle,1,f,a,d,c,s,1/u])},e.prototype.setTextStyle=function(t,n){var i,o,a;if(!t)this.text_="";else{var s=t.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Se(s.getColor()||Xe)):(o=null,this.textFillState_=o);var l=t.getStroke();if(!l)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var u=l.getLineDash(),h=l.getLineDashOffset(),f=l.getWidth(),c=l.getMiterLimit();a.lineCap=l.getLineCap()||Ji,a.lineDash=u?u.slice():ri,a.lineDashOffset=h===void 0?ii:h,a.lineJoin=l.getLineJoin()||mr,a.lineWidth=f===void 0?li:f,a.miterLimit=c===void 0?oi:c,a.strokeStyle=Se(l.getColor()||ai)}i=this.textState_;var d=t.getFont()||Hh;vg(d);var p=t.getScaleArray();i.overflow=t.getOverflow(),i.font=d,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||$i,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Mn,i.scale=p===void 0?[1,1]:p;var v=t.getOffsetX(),_=t.getOffsetY(),m=t.getRotateWithView(),T=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=v===void 0?0:v,this.textOffsetY_=_===void 0?0:_,this.textRotateWithView_=m===void 0?!1:m,this.textRotation_=T===void 0?0:T,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:vt(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+vt(o.fillStyle):""}this.declutterImageWithText_=n},e}(pi),r_=n_,i_={Circle:Hl,Default:pi,Image:Kg,LineString:Jg,Polygon:Hl,Text:r_},o_=function(){function r(e,t,n,i){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return r.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var n=this.buildersByZIndex_[t];for(var i in n){var o=n[i].finish();e[t][i]=o}}return e},r.prototype.getBuilder=function(e,t){var n=e!==void 0?e.toString():"0",i=this.buildersByZIndex_[n];i===void 0&&(i={},this.buildersByZIndex_[n]=i);var o=i[t];if(o===void 0){var a=i_[t];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o},r}(),Zl=o_,a_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),s_=function(r){a_(e,r);function e(t){var n=r.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=t,n.declutterExecutorGroup=null,n}return e.prototype.getFeatures=function(t){return Q()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return Q()},e.prototype.renderFrame=function(t,n){return Q()},e.prototype.loadedTileCallback=function(t,n,i){t[n]||(t[n]={}),t[n][i.tileCoord.toString()]=i},e.prototype.createLoadedTileFinder=function(t,n,i){return function(o,a){var s=this.loadedTileCallback.bind(this,i,o);return t.forEachLoadedTile(n,o,a,s)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,n,i,o,a){},e.prototype.getDataAtPixel=function(t,n,i){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var n=t.target;n.getState()===At.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var n=t.getState();return n!=At.LOADED&&n!=At.ERROR&&t.addEventListener(rt.CHANGE,this.boundHandleImageChange_),n==At.IDLE&&(t.load(),n=t.getState()),n==At.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Un.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,r.prototype.disposeInternal.call(this)},e}(ch),l_=s_,u_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),h_=function(r){u_(e,r);function e(t,n,i,o){var a=r.call(this,t)||this;return a.inversePixelTransform=n,a.frameState=i,a.context=o,a}return e}(Ve),qh=h_,c_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yr=null;function f_(){var r=document.createElement("canvas");r.width=1,r.height=1,Yr=r.getContext("2d")}var d_=function(r){c_(e,r);function e(t){var n=r.call(this,t)||this;return n.container=null,n.renderedResolution,n.tempTransform=Pe(),n.pixelTransform=Pe(),n.inversePixelTransform=Pe(),n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return e.prototype.getImageData=function(t,n,i){Yr||f_(),Yr.clearRect(0,0,1,1);var o;try{Yr.drawImage(t,n,i,1,1,0,0,1,1),o=Yr.getImageData(0,0,1,1).data}catch{return null}return o},e.prototype.getBackground=function(t){var n=this.getLayer(),i=n.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},e.prototype.useContainer=function(t,n,i,o){var a=this.getLayer().getClassName(),s,l;if(t&&t.className===a&&t.style.opacity===""&&i===1&&(!o||t.style.backgroundColor&&Wn(Qi(t.style.backgroundColor),Qi(o)))){var u=t.firstElementChild;u instanceof HTMLCanvasElement&&(l=u.getContext("2d"))}if(l&&l.canvas.style.transform===n?(this.container=t,this.context=l,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=a;var h=s.style;h.position="absolute",h.width="100%",h.height="100%",o&&(h.backgroundColor=o),l=ve();var u=l.canvas;s.appendChild(u),h=u.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=s,this.context=l}},e.prototype.clipUnrotated=function(t,n,i){var o=Xn(i),a=To(i),s=Eo(i),l=Ao(i);Dt(n.coordinateToPixelTransform,o),Dt(n.coordinateToPixelTransform,a),Dt(n.coordinateToPixelTransform,s),Dt(n.coordinateToPixelTransform,l);var u=this.inversePixelTransform;Dt(u,o),Dt(u,a),Dt(u,s),Dt(u,l),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,n,i){var o=this.getLayer();if(o.hasListener(t)){var a=new qh(t,this.inversePixelTransform,i,n);o.dispatchEvent(a)}},e.prototype.preRender=function(t,n){this.frameState=n,this.dispatchRenderEvent_(vn.PRERENDER,t,n)},e.prototype.postRender=function(t,n){this.dispatchRenderEvent_(vn.POSTRENDER,t,n)},e.prototype.getRenderTransform=function(t,n,i,o,a,s,l){var u=a/2,h=s/2,f=o/n,c=-f,d=-t[0]+l,p=-t[1];return Ze(this.tempTransform,u,h,f,c,-i,d,p)},e.prototype.getDataAtPixel=function(t,n,i){var o=Dt(this.inversePixelTransform,t.slice()),a=this.context,s=this.getLayer(),l=s.getExtent();if(l){var u=Dt(n.pixelToCoordinateTransform,t.slice());if(!hi(l,u))return null}var h=Math.round(o[0]),f=Math.round(o[1]),c=this.pixelContext_;if(!c){var d=document.createElement("canvas");d.width=1,d.height=1,c=d.getContext("2d"),this.pixelContext_=c}c.clearRect(0,0,1,1);var p;try{c.drawImage(a.canvas,h,f,1,1,0,0,1,1),p=c.getImageData(0,0,1,1).data}catch(v){return v.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):p}return p[3]===0?null:p},e.prototype.disposeInternal=function(){delete this.frameState,r.prototype.disposeInternal.call(this)},e}(l_),tc=d_,Ot={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function p_(r,e,t,n,i,o,a,s,l,u,h,f){var c=r[e],d=r[e+1],p=0,v=0,_=0,m=0;function T(){p=c,v=d,e+=n,c=r[e],d=r[e+1],m+=_,_=Math.sqrt((c-p)*(c-p)+(d-v)*(d-v))}do T();while(e<t-n&&m+_<o);for(var E=_===0?0:(o-m)/_,A=Ye(p,c,E),x=Ye(v,d,E),I=e-n,M=m,w=o+s*l(u,i,h);e<t-n&&m+_<w;)T();E=_===0?0:(w-m)/_;var L=Ye(p,c,E),N=Ye(v,d,E),Y;if(f){var H=[A,x,L,N];Rh(H,0,4,2,f,H,H),Y=H[0]>H[2]}else Y=A>L;var k=Math.PI,tt=[],K=I+n===e;e=I,_=0,m=M,c=r[e],d=r[e+1];var U;if(K){T(),U=Math.atan2(d-v,c-p),Y&&(U+=U>0?-k:k);var B=(L+A)/2,X=(N+x)/2;return tt[0]=[B,X,(w-o)/2,U,i],tt}for(var et=0,st=i.length;et<st;){T();var _t=Math.atan2(d-v,c-p);if(Y&&(_t+=_t>0?-k:k),U!==void 0){var P=_t-U;if(P+=P>k?-2*k:P<-k?2*k:0,Math.abs(P)>a)return null}U=_t;for(var pt=et,nt=0;et<st;++et){var Ct=Y?st-et-1:et,jt=s*l(u,i[Ct],h);if(e+n<t&&m+_<o+nt+jt/2)break;nt+=jt}if(et!==pt){var wt=Y?i.substring(st-pt,st-et):i.substring(pt,et);E=_===0?0:(o+nt/2-m)/_;var B=Ye(p,c,E),X=Ye(v,d,E);tt.push([B,X,nt/2,_t,wt]),o+=nt}}return tt}var Jn=de(),qe=[],be=[],Ne=[],tn=[];function Kl(r){return r[3].declutterBox}var v_=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Vl(r,e){return(e==="start"||e==="end")&&!v_.test(r)&&(e=e==="start"?"left":"right"),eo[e]}function g_(r,e,t){return t>0&&r.push(`
`,""),r.push(e,""),r}var __=function(){function r(e,t,n,i){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=Pe(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return r.prototype.createLabel=function(e,t,n,i){var o=e+t+n+i;if(this.labels_[o])return this.labels_[o];var a=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,l=this.textStates[t],u=this.pixelRatio,h=[l.scale[0]*u,l.scale[1]*u],f=Array.isArray(e),c=Vl(f?e[0]:e,l.textAlign||si),d=i&&a.lineWidth?a.lineWidth:0,p=f?e:e.split(`
`).reduce(g_,[]),v=_g(l,p),_=v.width,m=v.height,T=v.widths,E=v.heights,A=v.lineWidths,x=_+d,I=[],M=(x+2)*h[0],w=(m+d)*h[1],L={width:M<0?Math.floor(M):Math.ceil(M),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:I};if((h[0]!=1||h[1]!=1)&&I.push("scale",h),i){I.push("strokeStyle",a.strokeStyle),I.push("lineWidth",d),I.push("lineCap",a.lineCap),I.push("lineJoin",a.lineJoin),I.push("miterLimit",a.miterLimit);var N=mo?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;N.prototype.setLineDash&&(I.push("setLineDash",[a.lineDash]),I.push("lineDashOffset",a.lineDashOffset))}n&&I.push("fillStyle",s.fillStyle),I.push("textBaseline","middle"),I.push("textAlign","center");for(var Y=.5-c,H=c*x+Y*d,k=[],tt=[],K=0,U=0,B=0,X=0,et,st=0,_t=p.length;st<_t;st+=2){var P=p[st];if(P===`
`){U+=K,K=0,H=c*x+Y*d,++X;continue}var pt=p[st+1]||l.font;pt!==et&&(i&&k.push("font",pt),n&&tt.push("font",pt),et=pt),K=Math.max(K,E[B]);var nt=[P,H+Y*T[B]+c*(T[B]-A[X]),.5*(d+K)+U];H+=T[B],i&&k.push("strokeText",nt),n&&tt.push("fillText",nt),++B}return Array.prototype.push.apply(I,k),Array.prototype.push.apply(I,tt),this.labels_[o]=L,L},r.prototype.replayTextBackground_=function(e,t,n,i,o,a,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,t),a&&(this.alignFill_=a[2],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())},r.prototype.calculateImageOrLabelDimensions_=function(e,t,n,i,o,a,s,l,u,h,f,c,d,p,v,_){s*=c[0],l*=c[1];var m=n-s,T=i-l,E=o+u>e?e-u:o,A=a+h>t?t-h:a,x=p[3]+E*c[0]+p[1],I=p[0]+A*c[1]+p[2],M=m-p[3],w=T-p[0];(v||f!==0)&&(qe[0]=M,tn[0]=M,qe[1]=w,be[1]=w,be[0]=M+x,Ne[0]=be[0],Ne[1]=w+I,tn[1]=Ne[1]);var L;return f!==0?(L=Ze(Pe(),n,i,1,1,f,-n,-i),Dt(L,qe),Dt(L,be),Dt(L,Ne),Dt(L,tn),Le(Math.min(qe[0],be[0],Ne[0],tn[0]),Math.min(qe[1],be[1],Ne[1],tn[1]),Math.max(qe[0],be[0],Ne[0],tn[0]),Math.max(qe[1],be[1],Ne[1],tn[1]),Jn)):Le(Math.min(M,M+x),Math.min(w,w+I),Math.max(M,M+x),Math.max(w,w+I),Jn),d&&(m=Math.round(m),T=Math.round(T)),{drawImageX:m,drawImageY:T,drawImageW:E,drawImageH:A,originX:u,originY:h,declutterBox:{minX:Jn[0],minY:Jn[1],maxX:Jn[2],maxY:Jn[3],value:_},canvasTransform:L,scale:c}},r.prototype.replayImageOrLabel_=function(e,t,n,i,o,a,s){var l=!!(a||s),u=i.declutterBox,h=e.canvas,f=s?s[2]*i.scale[0]/2:0,c=u.minX-f<=h.width/t&&u.maxX+f>=0&&u.minY-f<=h.height/t&&u.maxY+f>=0;return c&&(l&&this.replayTextBackground_(e,qe,be,Ne,tn,a,s),yg(e,i.canvasTransform,o,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},r.prototype.fill_=function(e){if(this.alignFill_){var t=Dt(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},r.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},r.prototype.drawLabelWithPointPlacement_=function(e,t,n,i){var o=this.textStates[t],a=this.createLabel(e,t,i,n),s=this.strokeStates[n],l=this.pixelRatio,u=Vl(Array.isArray(e)?e[0]:e,o.textAlign||si),h=eo[o.textBaseline||$i],f=s&&s.lineWidth?s.lineWidth:0,c=a.width/l-2*o.scale[0],d=u*c+2*(.5-u)*f,p=h*a.height/l+2*(.5-h)*f;return{label:a,anchorX:d,anchorY:p}},r.prototype.execute_=function(e,t,n,i,o,a,s,l){var u;this.pixelCoordinates_&&Wn(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Bn(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),jp(this.renderedTransform_,n));for(var h=0,f=i.length,c=0,d,p,v,_,m,T,E,A,x,I,M,w,L=0,N=0,Y=null,H=null,k=this.coordinateCache_,tt=this.viewRotation_,K=Math.round(Math.atan2(-n[1],n[0])*1e12)/1e12,U={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:tt},B=this.instructions!=i||this.overlaps?0:200,X,et,st,_t;h<f;){var P=i[h],pt=P[0];switch(pt){case $.BEGIN_GEOMETRY:X=P[1],_t=P[3],X.getGeometry()?s!==void 0&&!ee(s,_t.getExtent())?h=P[2]+1:++h:h=P[2];break;case $.BEGIN_PATH:L>B&&(this.fill_(e),L=0),N>B&&(e.stroke(),N=0),!L&&!N&&(e.beginPath(),_=NaN,m=NaN),++h;break;case $.CIRCLE:c=P[1];var nt=u[c],Ct=u[c+1],jt=u[c+2],wt=u[c+3],Gt=jt-nt,zt=wt-Ct,ne=Math.sqrt(Gt*Gt+zt*zt);e.moveTo(nt+ne,Ct),e.arc(nt,Ct,ne,0,2*Math.PI,!0),++h;break;case $.CLOSE_PATH:e.closePath(),++h;break;case $.CUSTOM:c=P[1],d=P[2];var Jt=P[3],Qe=P[4],g=P.length==6?P[5]:void 0;U.geometry=Jt,U.feature=X,h in k||(k[h]=[]);var y=k[h];g?g(u,c,d,2,y):(y[0]=u[c],y[1]=u[c+1],y.length=2),Qe(y,U),++h;break;case $.DRAW_IMAGE:c=P[1],d=P[2],A=P[3],p=P[4],v=P[5];var C=P[6],R=P[7],O=P[8],D=P[9],G=P[10],F=P[11],b=P[12],S=P[13],W=P[14];if(!A&&P.length>=19){x=P[18],I=P[19],M=P[20],w=P[21];var j=this.drawLabelWithPointPlacement_(x,I,M,w);A=j.label,P[3]=A;var V=P[22];p=(j.anchorX-V)*this.pixelRatio,P[4]=p;var J=P[23];v=(j.anchorY-J)*this.pixelRatio,P[5]=v,C=A.height,P[6]=C,S=A.width,P[13]=S}var at=void 0;P.length>24&&(at=P[24]);var ut=void 0,lt=void 0,dt=void 0;P.length>16?(ut=P[15],lt=P[16],dt=P[17]):(ut=Mn,lt=!1,dt=!1),G&&K?F+=tt:!G&&!K&&(F-=tt);for(var Yt=0;c<d;c+=2)if(!(at&&at[Yt++]<S/this.pixelRatio)){var Pt=this.calculateImageOrLabelDimensions_(A.width,A.height,u[c],u[c+1],S,C,p,v,O,D,F,b,o,ut,lt||dt,X),mn=[e,t,A,Pt,R,lt?Y:null,dt?H:null],It=void 0,Fe=void 0;if(l&&W){var Lt=d-c;if(!W[Lt]){W[Lt]=mn;continue}if(It=W[Lt],delete W[Lt],Fe=Kl(It),l.collides(Fe))continue}l&&l.collides(Pt.declutterBox)||(It&&(l&&l.insert(Fe),this.replayImageOrLabel_.apply(this,It)),l&&l.insert(Pt.declutterBox),this.replayImageOrLabel_.apply(this,mn))}++h;break;case $.DRAW_CHARS:var re=P[1],Ir=P[2],Po=P[3],Sc=P[4];w=P[5];var Pc=P[6],Gs=P[7],Bs=P[8];M=P[9];var Lo=P[10];x=P[11],I=P[12];var js=[P[13],P[13]],Mo=this.textStates[I],Or=Mo.font,Rr=[Mo.scale[0]*Gs,Mo.scale[1]*Gs],Sr=void 0;Or in this.widths_?Sr=this.widths_[Or]:(Sr={},this.widths_[Or]=Sr);var Ys=Yh(u,re,Ir,2),ks=Math.abs(Rr[0])*kl(Or,x,Sr);if(Sc||ks<=Ys){var Lc=this.textStates[I].textAlign,Mc=(Ys-ks)*eo[Lc],Pr=p_(u,re,Ir,2,x,Mc,Pc,Math.abs(Rr[0]),kl,Or,Sr,K?0:this.viewRotation_);t:if(Pr){var Lr=[],Je=void 0,_i=void 0,yi=void 0,$t=void 0,se=void 0;if(M)for(Je=0,_i=Pr.length;Je<_i;++Je){se=Pr[Je],yi=se[4],$t=this.createLabel(yi,I,"",M),p=se[2]+(Rr[0]<0?-Lo:Lo),v=Po*$t.height+(.5-Po)*2*Lo*Rr[1]/Rr[0]-Bs;var Pt=this.calculateImageOrLabelDimensions_($t.width,$t.height,se[0],se[1],$t.width,$t.height,p,v,0,0,se[3],js,!1,Mn,!1,X);if(l&&l.collides(Pt.declutterBox))break t;Lr.push([e,t,$t,Pt,1,null,null])}if(w)for(Je=0,_i=Pr.length;Je<_i;++Je){se=Pr[Je],yi=se[4],$t=this.createLabel(yi,I,w,""),p=se[2],v=Po*$t.height-Bs;var Pt=this.calculateImageOrLabelDimensions_($t.width,$t.height,se[0],se[1],$t.width,$t.height,p,v,0,0,se[3],js,!1,Mn,!1,X);if(l&&l.collides(Pt.declutterBox))break t;Lr.push([e,t,$t,Pt,1,null,null])}l&&l.load(Lr.map(Kl));for(var Fo=0,Fc=Lr.length;Fo<Fc;++Fo)this.replayImageOrLabel_.apply(this,Lr[Fo])}}++h;break;case $.END_GEOMETRY:if(a!==void 0){X=P[1];var Us=a(X,_t);if(Us)return Us}++h;break;case $.FILL:B?L++:this.fill_(e),++h;break;case $.MOVE_TO_LINE_TO:for(c=P[1],d=P[2],et=u[c],st=u[c+1],T=et+.5|0,E=st+.5|0,(T!==_||E!==m)&&(e.moveTo(et,st),_=T,m=E),c+=2;c<d;c+=2)et=u[c],st=u[c+1],T=et+.5|0,E=st+.5|0,(c==d-2||T!==_||E!==m)&&(e.lineTo(et,st),_=T,m=E);++h;break;case $.SET_FILL_STYLE:Y=P,this.alignFill_=P[2],L&&(this.fill_(e),L=0,N&&(e.stroke(),N=0)),e.fillStyle=P[1],++h;break;case $.SET_STROKE_STYLE:H=P,N&&(e.stroke(),N=0),this.setStrokeStyle_(e,P),++h;break;case $.STROKE:B?N++:e.stroke(),++h;break;default:++h;break}}L&&this.fill_(e),N&&e.stroke()},r.prototype.execute=function(e,t,n,i,o,a){this.viewRotation_=i,this.execute_(e,t,n,this.instructions,o,void 0,void 0,a)},r.prototype.executeHitDetection=function(e,t,n,i,o){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,o)},r}(),y_=__,zo=[Ot.POLYGON,Ot.CIRCLE,Ot.LINE_STRING,Ot.IMAGE,Ot.TEXT,Ot.DEFAULT],m_=function(){function r(e,t,n,i,o,a){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Pe(),this.createExecutors_(o)}return r.prototype.clip=function(e,t){var n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()},r.prototype.createExecutors_=function(e){for(var t in e){var n=this.executorsByZIndex_[t];n===void 0&&(n={},this.executorsByZIndex_[t]=n);var i=e[t];for(var o in i){var a=i[o];n[o]=new y_(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},r.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],i=0,o=e.length;i<o;++i)if(e[i]in n)return!0;return!1},r.prototype.forEachFeatureAtCoordinate=function(e,t,n,i,o,a){i=Math.round(i);var s=i*2+1,l=Ze(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-n,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=ve(s,s));var h=this.hitDetectionContext_;h.canvas.width!==s||h.canvas.height!==s?(h.canvas.width=s,h.canvas.height=s):u||h.clearRect(0,0,s,s);var f;this.renderBuffer_!==void 0&&(f=de(),zr(f,e),ls(f,t*(this.renderBuffer_+i),f));var c=A_(i),d;function p(I,M){for(var w=h.getImageData(0,0,s,s).data,L=0,N=c.length;L<N;L++)if(w[c[L]]>0){if(!a||d!==Ot.IMAGE&&d!==Ot.TEXT||a.indexOf(I)!==-1){var Y=(c[L]-3)/4,H=i-Y%s,k=i-(Y/s|0),tt=o(I,M,H*H+k*k);if(tt)return tt}h.clearRect(0,0,s,s);break}}var v=Object.keys(this.executorsByZIndex_).map(Number);v.sort(jn);var _,m,T,E,A;for(_=v.length-1;_>=0;--_){var x=v[_].toString();for(T=this.executorsByZIndex_[x],m=zo.length-1;m>=0;--m)if(d=zo[m],E=T[d],E!==void 0&&(A=E.executeHitDetection(h,l,n,p,f),A))return A}},r.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var n=t[0],i=t[1],o=t[2],a=t[3],s=[n,i,n,a,o,a,o,i];return Bn(s,0,8,2,e,s),s},r.prototype.isEmpty=function(){return yr(this.executorsByZIndex_)},r.prototype.execute=function(e,t,n,i,o,a,s){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(jn),this.maxExtent_&&(e.save(),this.clip(e,n));var u=a||zo,h,f,c,d,p,v;for(s&&l.reverse(),h=0,f=l.length;h<f;++h){var _=l[h].toString();for(p=this.executorsByZIndex_[_],c=0,d=u.length;c<d;++c){var m=u[c];v=p[m],v!==void 0&&v.execute(e,t,n,i,o,s)}}this.maxExtent_&&e.restore()},r}(),Xo={};function A_(r){if(Xo[r]!==void 0)return Xo[r];for(var e=r*2+1,t=r*r,n=new Array(t+1),i=0;i<=r;++i)for(var o=0;o<=r;++o){var a=i*i+o*o;if(a>t)break;var s=n[a];s||(s=[],n[a]=s),s.push(((r+i)*e+(r+o))*4+3),i>0&&s.push(((r-i)*e+(r+o))*4+3),o>0&&(s.push(((r+i)*e+(r-o))*4+3),i>0&&s.push(((r-i)*e+(r-o))*4+3))}for(var l=[],i=0,u=n.length;i<u;++i)n[i]&&l.push.apply(l,n[i]);return Xo[r]=l,l}var Ql=m_,Ht={ANIMATING:0,INTERACTING:1},E_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T_=function(r){E_(e,r);function e(t,n,i,o,a,s,l){var u=r.call(this)||this;return u.context_=t,u.pixelRatio_=n,u.extent_=i,u.transform_=o,u.viewRotation_=a,u.squaredTolerance_=s,u.userTransform_=l,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=Pe(),u}return e.prototype.drawImages_=function(t,n,i,o){if(!!this.image_){var a=Bn(t,n,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.tmpLocalTransform_,u=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=u*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var f=0,c=a.length;f<c;f+=2){var d=a[f]-this.imageAnchorX_,p=a[f+1]-this.imageAnchorY_;if(h!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var v=d+this.imageAnchorX_,_=p+this.imageAnchorY_;Ze(l,v,_,1,1,h,-v,-_),s.setTransform.apply(s,l),s.translate(v,_),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=u)}},e.prototype.drawText_=function(t,n,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=Bn(t,n,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);n<i;n+=o){var u=a[n]+this.textOffsetX_,h=a[n+1]+this.textOffsetY_;if(l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var f=Ze(this.tmpLocalTransform_,u,h,1,1,l,-u,-h);s.setTransform.apply(s,f),s.translate(u,h),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,u,h),this.textFillState_&&s.fillText(this.text_,u,h)}}},e.prototype.moveToLineTo_=function(t,n,i,o,a){var s=this.context_,l=Bn(t,n,i,o,this.transform_,this.pixelCoordinates_);s.moveTo(l[0],l[1]);var u=l.length;a&&(u-=2);for(var h=2;h<u;h+=2)s.lineTo(l[h],l[h+1]);return a&&s.closePath(),i},e.prototype.drawRings_=function(t,n,i,o){for(var a=0,s=i.length;a<s;++a)n=this.moveToLineTo_(t,n,i[a],o,!0);return n},e.prototype.drawCircle=function(t){if(!!ee(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=Lv(t,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],o=n[3]-n[1],a=Math.sqrt(i*i+o*o),s=this.context_;s.beginPath(),s.arc(n[0],n[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var n=t.getType();switch(n){case Z.POINT:this.drawPoint(t);break;case Z.LINE_STRING:this.drawLineString(t);break;case Z.POLYGON:this.drawPolygon(t);break;case Z.MULTI_POINT:this.drawMultiPoint(t);break;case Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Z.CIRCLE:this.drawCircle(t);break}},e.prototype.drawFeature=function(t,n){var i=n.getGeometryFunction()(t);!i||!ee(this.extent_,i.getExtent())||(this.setStyle(n),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var n=t.getGeometriesArray(),i=0,o=n.length;i<o;++i)this.drawGeometry(n[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ee(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=t.getExtent();if(!!ee(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),l=t.getStride();i.beginPath();for(var u=0,h=s.length;u<h;++u)a=this.moveToLineTo_(o,a,s[u],l,!1);i.stroke()}if(this.text_!==""){var f=t.getFlatMidpoints();this.drawText_(f,0,f.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ee(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ee(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();n.beginPath();for(var l=0,u=a.length;l<u;++l){var h=a[l];o=this.drawRings_(i,o,h,s)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){var f=t.getFlatInteriorPoints();this.drawText_(f,0,f.length,2)}}},e.prototype.setContextFillState_=function(t){var n=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,n.lineCap=t.lineCap),n.setLineDash&&(Wn(i.lineDash,t.lineDash)||n.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var n=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:si;i?(i.font!=t.font&&(i.font=t.font,n.font=t.font),i.textAlign!=o&&(i.textAlign=o,n.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=o,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,n){var i=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:Se(o||Xe)}}if(!n)this.strokeState_=null;else{var a=n.getColor(),s=n.getLineCap(),l=n.getLineDash(),u=n.getLineDashOffset(),h=n.getLineJoin(),f=n.getWidth(),c=n.getMiterLimit(),d=l||ri;this.strokeState_={lineCap:s!==void 0?s:Ji,lineDash:this.pixelRatio_===1?d:d.map(function(p){return p*i.pixelRatio_}),lineDashOffset:(u||ii)*this.pixelRatio_,lineJoin:h!==void 0?h:mr,lineWidth:(f!==void 0?f:li)*this.pixelRatio_,miterLimit:c!==void 0?c:oi,strokeStyle:Se(a||ai)}}},e.prototype.setImageStyle=function(t){var n;if(!t||!(n=t.getSize())){this.image_=null;return}var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=n[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=n[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var n=t.getFill();if(!n)this.textFillState_=null;else{var i=n.getColor();this.textFillState_={fillStyle:Se(i||Xe)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),l=o.getLineDash(),u=o.getLineDashOffset(),h=o.getLineJoin(),f=o.getWidth(),c=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:Ji,lineDash:l||ri,lineDashOffset:u||ii,lineJoin:h!==void 0?h:mr,lineWidth:f!==void 0?f:li,miterLimit:c!==void 0?c:oi,strokeStyle:Se(a||ai)}}var d=t.getFont(),p=t.getOffsetX(),v=t.getOffsetY(),_=t.getRotateWithView(),m=t.getRotation(),T=t.getScaleArray(),E=t.getText(),A=t.getTextAlign(),x=t.getTextBaseline();this.textState_={font:d!==void 0?d:Hh,textAlign:A!==void 0?A:si,textBaseline:x!==void 0?x:$i},this.text_=E!==void 0?Array.isArray(E)?E.reduce(function(I,M,w){return I+=w%2?" ":M},""):E:"",this.textOffsetX_=p!==void 0?this.pixelRatio_*p:0,this.textOffsetY_=v!==void 0?this.pixelRatio_*v:0,this.textRotateWithView_=_!==void 0?_:!1,this.textRotation_=m!==void 0?m:0,this.textScale_=[this.pixelRatio_*T[0],this.pixelRatio_*T[1]]}},e}($h),x_=T_,ln={FRACTION:"fraction",PIXELS:"pixels"},ue={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},C_=function(){function r(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},r.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var n=this.cache_[t];(e++&3)===0&&!n.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},r.prototype.get=function(e,t,n){var i=Jl(e,t,n);return i in this.cache_?this.cache_[i]:null},r.prototype.set=function(e,t,n,i){var o=Jl(e,t,n);this.cache_[o]=i,++this.cacheSize_},r.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},r}();function Jl(r,e,t){var n=t?Uh(t):"null";return e+":"+r+":"+n}var no=new C_,w_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),I_=function(r){w_(e,r);function e(t,n,i,o){var a=r.call(this)||this;return a.extent=t,a.pixelRatio_=i,a.resolution=n,a.state=o,a}return e.prototype.changed=function(){this.dispatchEvent(rt.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Q()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Q()},e}(xr),O_=I_,R_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){R_(e,r);function e(t,n,i,o,a,s){var l=r.call(this,t,n,i,At.IDLE)||this;return l.src_=o,l.image_=new Image,a!==null&&(l.image_.crossOrigin=a),l.unlisten_=null,l.state=At.IDLE,l.imageLoadFunction_=s,l}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=At.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=xe(this.extent)/this.image_.height),this.state=At.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==At.IDLE||this.state==At.ERROR)&&(this.state=At.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Is(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=xe(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(O_);function Is(r,e,t){var n=r,i=!0,o=!1,a=!1,s=[Zi(n,rt.LOAD,function(){a=!0,o||e()})];return n.src&&Gp?(o=!0,n.decode().then(function(){i&&e()}).catch(function(l){i&&(a?e():t())})):s.push(Zi(n,rt.ERROR,t)),function(){i=!1,s.forEach(xt)}}var S_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dr=null,P_=function(r){S_(e,r);function e(t,n,i,o,a,s){var l=r.call(this)||this;return l.hitDetectionImage_=null,l.image_=t||new Image,o!==null&&(l.image_.crossOrigin=o),l.canvas_={},l.color_=s,l.unlisten_=null,l.imageState_=a,l.size_=i,l.src_=n,l.tainted_,l}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===At.LOADED){Dr||(Dr=ve(1,1)),Dr.drawImage(this.image_,0,0);try{Dr.getImageData(0,0,1,1),this.tainted_=!1}catch{Dr=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(rt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=At.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=At.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],n=this.size_[1],i=ve(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==At.IDLE){this.imageState_=At.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Is(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==At.LOADED)){var n=document.createElement("canvas");this.canvas_[t]=n,n.width=Math.ceil(this.image_.width*t),n.height=Math.ceil(this.image_.height*t);var i=n.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=Uh(this.color_),i.fillRect(0,0,n.width/t,n.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,n.width,n.height),a=o.data,s=this.color_[0]/255,l=this.color_[1]/255,u=this.color_[2]/255,h=this.color_[3],f=0,c=a.length;f<c;f+=4)a[f]*=s,a[f+1]*=l,a[f+2]*=u,a[f+3]*=h;i.putImageData(o,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(xr);function L_(r,e,t,n,i,o){var a=no.get(e,n,o);return a||(a=new P_(r,e,t,n,i,o),no.set(e,n,o,a)),a}var M_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),F_=function(r){M_(e,r);function e(t){var n=this,i=t||{},o=i.opacity!==void 0?i.opacity:1,a=i.rotation!==void 0?i.rotation:0,s=i.scale!==void 0?i.scale:1,l=i.rotateWithView!==void 0?i.rotateWithView:!1;n=r.call(this,{opacity:o,rotation:a,scale:s,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:l})||this,n.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:ue.TOP_LEFT,n.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:ln.FRACTION,n.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:ln.FRACTION,n.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var u=i.img!==void 0?i.img:null;n.imgSize_=i.imgSize;var h=i.src;ht(!(h!==void 0&&u),4),ht(!u||u&&n.imgSize_,5),(h===void 0||h.length===0)&&u&&(h=u.src||vt(u)),ht(h!==void 0&&h.length>0,6);var f=i.src!==void 0?At.IDLE:At.LOADED;return n.color_=i.color!==void 0?Qi(i.color):null,n.iconImage_=L_(u,h,n.imgSize_!==void 0?n.imgSize_:null,n.crossOrigin_,f,n.color_),n.offset_=i.offset!==void 0?i.offset:[0,0],n.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:ue.TOP_LEFT,n.origin_=null,n.size_=i.size!==void 0?i.size:null,n}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var n=this.getSize();if(this.anchorXUnits_==ln.FRACTION||this.anchorYUnits_==ln.FRACTION){if(!n)return null;t=this.anchor_.slice(),this.anchorXUnits_==ln.FRACTION&&(t[0]*=n[0]),this.anchorYUnits_==ln.FRACTION&&(t[1]*=n[1])}if(this.anchorOrigin_!=ue.TOP_LEFT){if(!n)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==ue.TOP_RIGHT||this.anchorOrigin_==ue.BOTTOM_RIGHT)&&(t[0]=-t[0]+n[0]),(this.anchorOrigin_==ue.BOTTOM_LEFT||this.anchorOrigin_==ue.BOTTOM_RIGHT)&&(t[1]=-t[1]+n[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=ue.TOP_LEFT){var n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),(this.offsetOrigin_==ue.TOP_RIGHT||this.offsetOrigin_==ue.BOTTOM_RIGHT)&&(t[0]=i[0]-n[0]-t[0]),(this.offsetOrigin_==ue.BOTTOM_LEFT||this.offsetOrigin_==ue.BOTTOM_RIGHT)&&(t[1]=i[1]-n[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(rt.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(rt.CHANGE,t)},e}(kh),ec=F_,Re=.5;function D_(r,e,t,n,i,o,a){var s=r[0]*Re,l=r[1]*Re,u=ve(s,l);u.imageSmoothingEnabled=!1;for(var h=u.canvas,f=new x_(u,Re,i,null,a),c=t.length,d=Math.floor((256*256*256-1)/c),p={},v=1;v<=c;++v){var _=t[v-1],m=_.getStyleFunction()||n;if(!!n){var T=m(_,o);if(!!T){Array.isArray(T)||(T=[T]);for(var E=v*d,A="#"+("000000"+E.toString(16)).slice(-6),x=0,I=T.length;x<I;++x){var M=T[x],w=M.getGeometryFunction()(_);if(!(!w||!ee(i,w.getExtent()))){var L=M.clone(),N=L.getFill();N&&N.setColor(A);var Y=L.getStroke();Y&&(Y.setColor(A),Y.setLineDash(null)),L.setText(void 0);var H=M.getImage();if(H&&H.getOpacity()!==0){var k=H.getImageSize();if(!k)continue;var tt=ve(k[0],k[1],void 0,{alpha:!1}),K=tt.canvas;tt.fillStyle=A,tt.fillRect(0,0,K.width,K.height),L.setImage(new ec({img:K,imgSize:k,anchor:H.getAnchor(),anchorXUnits:ln.PIXELS,anchorYUnits:ln.PIXELS,offset:H.getOrigin(),opacity:1,size:H.getSize(),scale:H.getScale(),rotation:H.getRotation(),rotateWithView:H.getRotateWithView()}))}var U=L.getZIndex()||0,B=p[U];B||(B={},p[U]=B,B[Z.POLYGON]=[],B[Z.CIRCLE]=[],B[Z.LINE_STRING]=[],B[Z.POINT]=[]),B[w.getType().replace("Multi","")].push(w,L)}}}}}for(var X=Object.keys(p).map(Number).sort(jn),v=0,et=X.length;v<et;++v){var B=p[X[v]];for(var st in B)for(var _t=B[st],x=0,I=_t.length;x<I;x+=2){f.setStyle(_t[x+1]);for(var P=0,pt=e.length;P<pt;++P)f.setTransform(e[P]),f.drawGeometry(_t[x])}}return u.getImageData(0,0,h.width,h.height)}function b_(r,e,t){var n=[];if(t){var i=Math.floor(Math.round(r[0])*Re),o=Math.floor(Math.round(r[1])*Re),a=(Nt(i,0,t.width-1)+Nt(o,0,t.height-1)*t.width)*4,s=t.data[a],l=t.data[a+1],u=t.data[a+2],h=u+256*(l+256*s),f=Math.floor((256*256*256-1)/e.length);h&&h%f===0&&n.push(e[h/f-1])}return n}var N_=.5,nc={Point:X_,LineString:U_,Polygon:Z_,MultiPoint:H_,MultiLineString:W_,MultiPolygon:z_,GeometryCollection:k_,Circle:j_};function G_(r,e){return parseInt(vt(r),10)-parseInt(vt(e),10)}function B_(r,e){var t=Ma(r,e);return t*t}function Ma(r,e){return N_*r/e}function j_(r,e,t,n,i){var o=t.getFill(),a=t.getStroke();if(o||a){var s=r.getBuilder(t.getZIndex(),Ot.CIRCLE);s.setFillStrokeStyle(o,a),s.drawCircle(e,n)}var l=t.getText();if(l&&l.getText()){var u=(i||r).getBuilder(t.getZIndex(),Ot.TEXT);u.setTextStyle(l),u.drawText(e,n)}}function $l(r,e,t,n,i,o,a){var s=!1,l=t.getImage();if(l){var u=l.getImageState();u==At.LOADED||u==At.ERROR?l.unlistenImageChange(i):(u==At.IDLE&&l.load(),u=l.getImageState(),l.listenImageChange(i),s=!0)}return Y_(r,e,t,n,o,a),s}function Y_(r,e,t,n,i,o){var a=t.getGeometryFunction()(e);if(!!a){var s=a.simplifyTransformed(n,i),l=t.getRenderer();if(l)rc(r,s,t,e);else{var u=nc[s.getType()];u(r,s,t,e,o)}}}function rc(r,e,t,n){if(e.getType()==Z.GEOMETRY_COLLECTION){for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)rc(r,i[o],t,n);return}var s=r.getBuilder(t.getZIndex(),Ot.DEFAULT);s.drawCustom(e,n,t.getRenderer(),t.getHitDetectionRenderer())}function k_(r,e,t,n,i){var o=e.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var l=nc[o[a].getType()];l(r,o[a],t,n,i)}}function U_(r,e,t,n,i){var o=t.getStroke();if(o){var a=r.getBuilder(t.getZIndex(),Ot.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawLineString(e,n)}var s=t.getText();if(s&&s.getText()){var l=(i||r).getBuilder(t.getZIndex(),Ot.TEXT);l.setTextStyle(s),l.drawText(e,n)}}function W_(r,e,t,n,i){var o=t.getStroke();if(o){var a=r.getBuilder(t.getZIndex(),Ot.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,n)}var s=t.getText();if(s&&s.getText()){var l=(i||r).getBuilder(t.getZIndex(),Ot.TEXT);l.setTextStyle(s),l.drawText(e,n)}}function z_(r,e,t,n,i){var o=t.getFill(),a=t.getStroke();if(a||o){var s=r.getBuilder(t.getZIndex(),Ot.POLYGON);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,n)}var l=t.getText();if(l&&l.getText()){var u=(i||r).getBuilder(t.getZIndex(),Ot.TEXT);u.setTextStyle(l),u.drawText(e,n)}}function X_(r,e,t,n,i){var o=t.getImage(),a=t.getText(),s;if(i&&(r=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=At.LOADED)return;var l=r.getBuilder(t.getZIndex(),Ot.IMAGE);l.setImageStyle(o,s),l.drawPoint(e,n)}if(a&&a.getText()){var u=r.getBuilder(t.getZIndex(),Ot.TEXT);u.setTextStyle(a,s),u.drawText(e,n)}}function H_(r,e,t,n,i){var o=t.getImage(),a=t.getText(),s;if(i&&(r=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=At.LOADED)return;var l=r.getBuilder(t.getZIndex(),Ot.IMAGE);l.setImageStyle(o,s),l.drawMultiPoint(e,n)}if(a&&a.getText()){var u=(i||r).getBuilder(t.getZIndex(),Ot.TEXT);u.setTextStyle(a,s),u.drawText(e,n)}}function Z_(r,e,t,n,i){var o=t.getFill(),a=t.getStroke();if(o||a){var s=r.getBuilder(t.getZIndex(),Ot.POLYGON);s.setFillStrokeStyle(o,a),s.drawPolygon(e,n)}var l=t.getText();if(l&&l.getText()){var u=(i||r).getBuilder(t.getZIndex(),Ot.TEXT);u.setTextStyle(l),u.drawText(e,n)}}var K_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),V_=function(r){K_(e,r);function e(t){var n=r.call(this,t)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=de(),n.wrappedRenderedExtent_=de(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return e.prototype.renderWorlds=function(t,n,i){var o=n.extent,a=n.viewState,s=a.center,l=a.resolution,u=a.projection,h=a.rotation,f=u.getExtent(),c=this.getLayer().getSource(),d=n.pixelRatio,p=n.viewHints,v=!(p[Ht.ANIMATING]||p[Ht.INTERACTING]),_=this.context,m=Math.round(n.size[0]*d),T=Math.round(n.size[1]*d),E=c.getWrapX()&&u.canWrapX(),A=E?St(f):null,x=E?Math.ceil((o[2]-f[2])/A)+1:1,I=E?Math.floor((o[0]-f[0])/A):0;do{var M=this.getRenderTransform(s,l,h,d,m,T,I*A);t.execute(_,1,M,h,v,void 0,i)}while(++I<x)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,n){var i=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];Yp(this.pixelTransform,1/i,1/i),ss(this.inversePixelTransform,this.pixelTransform);var a=gh(this.pixelTransform);this.useContainer(n,a,o.opacity,this.getBackground(t));var s=this.context,l=s.canvas,u=this.replayGroup_,h=this.declutterExecutorGroup;if((!u||u.isEmpty())&&(!h||h.isEmpty()))return null;var f=Math.round(t.size[0]*i),c=Math.round(t.size[1]*i);l.width!=f||l.height!=c?(l.width=f,l.height=c,l.style.transform!==a&&(l.style.transform=a)):this.containerReused||s.clearRect(0,0,f,c),this.preRender(s,t);var d=t.viewState,p=d.projection,v=!1,_=!0;if(o.extent&&this.clipping){var m=Pn(o.extent,p);_=ee(m,t.extent),v=_&&!ar(m,t.extent),v&&this.clipUnrotated(s,t,m)}_&&this.renderWorlds(u,t),v&&s.restore(),this.postRender(s,t);var T=Xh(o.opacity),E=this.container;return T!==E.style.opacity&&(E.style.opacity=T),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Dt(this.pixelTransform,i);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,l=this.renderedProjection_,u=this.wrappedRenderedExtent_,h=this.getLayer(),f=[],c=i[0]*Re,d=i[1]*Re;f.push(this.getRenderTransform(o,a,s,Re,c,d,0).slice());var p=h.getSource(),v=l.getExtent();if(p.getWrapX()&&l.canWrapX()&&!ar(v,u)){for(var _=u[0],m=St(v),T=0,E=void 0;_<v[0];)--T,E=m*T,f.push(this.getRenderTransform(o,a,s,Re,c,d,E).slice()),_+=m;for(T=0,_=u[2];_>v[2];)++T,E=m*T,f.push(this.getRenderTransform(o,a,s,Re,c,d,E).slice()),_-=m}this.hitDetectionImageData_=D_(i,f,this.renderedFeatures_,h.getStyleFunction(),u,a,s)}n(b_(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,n,i,o,a){var s=this;if(!!this.replayGroup_){var l=n.viewState.resolution,u=n.viewState.rotation,h=this.getLayer(),f={},c=function(v,_,m){var T=vt(v),E=f[T];if(E){if(E!==!0&&m<E.distanceSq){if(m===0)return f[T]=!0,a.splice(a.lastIndexOf(E),1),o(v,h,_);E.geometry=_,E.distanceSq=m}}else{if(m===0)return f[T]=!0,o(v,h,_);a.push(f[T]={feature:v,layer:h,geometry:_,distanceSq:m,callback:o})}},d,p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(function(v){return d=v.forEachFeatureAtCoordinate(t,l,u,i,c,v===s.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(function(_){return _.value}):null)}),d}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var n=this.getLayer(),i=n.getSource();if(!i)return!1;var o=t.viewHints[Ht.ANIMATING],a=t.viewHints[Ht.INTERACTING],s=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!l&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var u=t.extent,h=t.viewState,f=h.projection,c=h.resolution,d=t.pixelRatio,p=n.getRevision(),v=n.getRenderBuffer(),_=n.getRenderOrder();_===void 0&&(_=G_);var m=h.center.slice(),T=ls(u,v*c),E=T.slice(),A=[T.slice()],x=f.getExtent();if(i.getWrapX()&&f.canWrapX()&&!ar(x,t.extent)){var I=St(x),M=Math.max(St(T)/2,I);T[0]=x[0]-M,T[2]=x[2]+M,Ch(m,f);var w=Vp(A[0],f);w[0]<x[0]&&w[2]<x[2]?A.push([w[0]+I,w[1],w[2]+I,w[3]]):w[0]>x[0]&&w[2]>x[2]&&A.push([w[0]-I,w[1],w[2]-I,w[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==p&&this.renderedRenderOrder_==_&&ar(this.wrappedRenderedExtent_,T))return Wn(this.renderedExtent_,E)||(this.hitDetectionImageData_=null,this.renderedExtent_=E),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var L=new Zl(Ma(c,d),T,c,d),N;this.getLayer().getDeclutter()&&(N=new Zl(Ma(c,d),T,c,d));var Y=Oh(),H;if(Y){for(var k=0,tt=A.length;k<tt;++k){var K=A[k],U=Ca(K,f);i.loadFeatures(U,Tv(c,f),Y)}H=xo(Y,f)}else for(var k=0,tt=A.length;k<tt;++k)i.loadFeatures(A[k],c,f);var B=B_(c,d),X=function(pt){var nt,Ct=pt.getStyleFunction()||n.getStyleFunction();if(Ct&&(nt=Ct(pt,c)),nt){var jt=this.renderFeature(pt,B,nt,L,H,N);this.dirty_=this.dirty_||jt}}.bind(this),et=Ca(T,f),st=i.getFeaturesInExtent(et);_&&st.sort(_);for(var k=0,tt=st.length;k<tt;++k)X(st[k]);this.renderedFeatures_=st;var _t=L.finish(),P=new Ql(T,c,d,i.getOverlaps(),_t,n.getRenderBuffer());return N&&(this.declutterExecutorGroup=new Ql(T,c,d,i.getOverlaps(),N.finish(),n.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=p,this.renderedRenderOrder_=_,this.renderedExtent_=E,this.wrappedRenderedExtent_=T,this.renderedCenter_=m,this.renderedProjection_=f,this.replayGroup_=P,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,n,i,o,a,s){if(!i)return!1;var l=!1;if(Array.isArray(i))for(var u=0,h=i.length;u<h;++u)l=$l(o,t,i[u],n,this.boundHandleStyleImageChange_,a,s)||l;else l=$l(o,t,i,n,this.boundHandleStyleImageChange_,a,s);return l},e}(tc),Q_=V_,J_=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$_=function(r){J_(e,r);function e(t){return r.call(this,t)||this}return e.prototype.createRenderer=function(){return new Q_(this)},e}(Ug),Os=$_,q_=function(){function r(e){this.rbush_=new Jh(e),this.items_={}}return r.prototype.insert=function(e,t){var n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[vt(t)]=n},r.prototype.load=function(e,t){for(var n=new Array(t.length),i=0,o=t.length;i<o;i++){var a=e[i],s=t[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=l,this.items_[vt(s)]=l}this.rbush_.load(n)},r.prototype.remove=function(e){var t=vt(e),n=this.items_[t];return delete this.items_[t],this.rbush_.remove(n)!==null},r.prototype.update=function(e,t){var n=this.items_[vt(t)],i=[n.minX,n.minY,n.maxX,n.maxY];$r(i,e)||(this.remove(t),this.insert(e,t))},r.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},r.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},n=this.rbush_.search(t);return n.map(function(i){return i.value})},r.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},r.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},r.prototype.forEach_=function(e,t){for(var n,i=0,o=e.length;i<o;i++)if(n=t(e[i]),n)return n;return n},r.prototype.isEmpty=function(){return yr(this.items_)},r.prototype.clear=function(){this.rbush_.clear(),this.items_={}},r.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Le(t.minX,t.minY,t.maxX,t.maxY,e)},r.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},r}(),ql=q_,ty=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ey=function(r){ty(e,r);function e(t){var n=r.call(this)||this;n.projection=Ft(t.projection),n.attributions_=tu(t.attributions),n.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,n.loading=!1,n.state_=t.state!==void 0?t.state:Un.READY,n.wrapX_=t.wrapX!==void 0?t.wrapX:!1,n.interpolate_=!!t.interpolate,n.viewResolver=null,n.viewRejector=null;var i=n;return n.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),n}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Q()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=tu(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(Me);function tu(r){return r?Array.isArray(r)?function(e){return r}:typeof r=="function"?r:function(e){return[r]}:null}var ic=ey,ge={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function ny(r,e){return[[-1/0,-1/0,1/0,1/0]]}var ir={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},ry=!1;function iy(r,e,t,n,i,o,a){var s=new XMLHttpRequest;s.open("GET",typeof r=="function"?r(t,n,i):r,!0),e.getType()==ir.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=ry,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){var u=e.getType(),h=void 0;u==ir.JSON||u==ir.TEXT?h=s.responseText:u==ir.XML?(h=s.responseXML,h||(h=new DOMParser().parseFromString(s.responseText,"application/xml"))):u==ir.ARRAY_BUFFER&&(h=s.response),h?o(e.readFeatures(h,{extent:t,featureProjection:i}),e.readProjection(h)):a()}else a()},s.onerror=a,s.send()}function eu(r,e){return function(t,n,i,o,a){var s=this;iy(r,e,t,n,i,function(l,u){s.addFeatures(l),o!==void 0&&o(l)},a||Yn)}}var oc=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),en=function(r){oc(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.feature=n,o.features=i,o}return e}(Ve),oy=function(r){oc(e,r);function e(t){var n=this,i=t||{};n=r.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:Un.READY,wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,n.on,n.once,n.un,n.loader_=Yn,n.format_=i.format,n.overlaps_=i.overlaps===void 0?!0:i.overlaps,n.url_=i.url,i.loader!==void 0?n.loader_=i.loader:n.url_!==void 0&&(ht(n.format_,7),n.loader_=eu(n.url_,n.format_)),n.strategy_=i.strategy!==void 0?i.strategy:ny;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;n.featuresRtree_=o?new ql:null,n.loadedExtentsRtree_=new ql,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null;var a,s;return Array.isArray(i.features)?s=i.features:i.features&&(a=i.features,s=a.getArray()),!o&&a===void 0&&(a=new he(s)),s!==void 0&&n.addFeaturesInternal(s),a!==void 0&&n.bindFeaturesCollection_(a),n}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var n=vt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);var i=t.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new en(ge.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,n){this.featureChangeKeys_[t]=[ft(n,rt.CHANGE,this.handleFeatureChange_,this),ft(n,_r.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,n){var i=!0,o=n.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=n),i&&(ht(!(t in this.uidIndex_),30),this.uidIndex_[t]=n),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var n=[],i=[],o=[],a=0,s=t.length;a<s;a++){var l=t[a],u=vt(l);this.addToIndex_(u,l)&&i.push(l)}for(var a=0,h=i.length;a<h;a++){var l=i[a],u=vt(l);this.setupChangeEvents_(u,l);var f=l.getGeometry();if(f){var c=f.getExtent();n.push(c),o.push(l)}else this.nullGeometryFeatures_[u]=l}if(this.featuresRtree_&&this.featuresRtree_.load(n,o),this.hasListener(ge.ADDFEATURE))for(var a=0,d=i.length;a<d;a++)this.dispatchEvent(new en(ge.ADDFEATURE,i[a]))},e.prototype.bindFeaturesCollection_=function(t){var n=!1;this.addEventListener(ge.ADDFEATURE,function(i){n||(n=!0,t.push(i.feature),n=!1)}),this.addEventListener(ge.REMOVEFEATURE,function(i){n||(n=!0,t.remove(i.feature),n=!1)}),t.addEventListener(te.ADD,function(i){n||(n=!0,this.addFeature(i.element),n=!1)}.bind(this)),t.addEventListener(te.REMOVE,function(i){n||(n=!0,this.removeFeature(i.element),n=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var n in this.featureChangeKeys_){var i=this.featureChangeKeys_[n];i.forEach(xt)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=function(l){this.removeFeatureInternal(l)}.bind(this);this.featuresRtree_.forEach(o);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new en(ge.CLEAR);this.dispatchEvent(s),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,n){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(t))return n(o)})},e.prototype.forEachFeatureInExtent=function(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},e.prototype.forEachFeatureIntersectingExtent=function(t,n){return this.forEachFeatureInExtent(t,function(i){var o=i.getGeometry();if(o.intersectsExtent(t)){var a=n(i);if(a)return a}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),yr(this.nullGeometryFeatures_)||We(t,hh(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var n=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){n.push(i)}),n},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,n){var i=t[0],o=t[1],a=null,s=[NaN,NaN],l=1/0,u=[-1/0,-1/0,1/0,1/0],h=n||cr;return this.featuresRtree_.forEachInExtent(u,function(f){if(h(f)){var c=f.getGeometry(),d=l;if(l=c.closestPointXY(i,o,s,l),l<d){a=f;var p=Math.sqrt(l);u[0]=i-p,u[1]=o-p,u[2]=i+p,u[3]=o+p}}}),a},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var n=this.idIndex_[t.toString()];return n!==void 0?n:null},e.prototype.getFeatureByUid=function(t){var n=this.uidIndex_[t];return n!==void 0?n:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var n=t.target,i=vt(n),o=n.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{var a=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}var s=n.getId();if(s!==void 0){var l=s.toString();this.idIndex_[l]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[l]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new en(ge.CHANGEFEATURE,n))},e.prototype.hasFeature=function(t){var n=t.getId();return n!==void 0?n in this.idIndex_:vt(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&yr(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,n,i){for(var o=this.loadedExtentsRtree_,a=this.strategy_(t,n,i),s=function(f,c){var d=a[f],p=o.forEachInExtent(d,function(v){return ar(v.extent,d)});p||(++l.loadingExtentsCount_,l.dispatchEvent(new en(ge.FEATURESLOADSTART)),l.loader_.call(l,d,n,i,function(v){--this.loadingExtentsCount_,this.dispatchEvent(new en(ge.FEATURESLOADEND,void 0,v))}.bind(l),function(){--this.loadingExtentsCount_,this.dispatchEvent(new en(ge.FEATURESLOADERROR))}.bind(l)),o.insert(d,{extent:d.slice()}))},l=this,u=0,h=a.length;u<h;++u)s(u);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),r.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var n=this.loadedExtentsRtree_,i;n.forEachInExtent(t,function(o){if($r(o.extent,t))return i=o,!0}),i&&n.remove(i)},e.prototype.removeFeature=function(t){if(!!t){var n=vt(t);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var n=vt(t),i=this.featureChangeKeys_[n];if(!!i){i.forEach(xt),delete this.featureChangeKeys_[n];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[n],this.dispatchEvent(new en(ge.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var n=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],n=!0;break}return n},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){ht(this.format_,7),this.url_=t,this.setLoader(eu(t,this.format_))},e}(ic),Rs=oy,q={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function ac(r){return Math.pow(r,3)}function wr(r){return 1-ac(1-r)}function ay(r){return 3*r*r-2*r*r*r}function sy(r){return r}var ly=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uy=function(r){ly(e,r);function e(t,n,i){var o=r.call(this)||this,a=i||{};return o.tileCoord=t,o.state=n,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return e.prototype.changed=function(){this.dispatchEvent(rt.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==q.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,n=this;do{if(t.getState()==q.LOADED){t.interimTile=null;break}else t.getState()==q.LOADING?n=t:t.getState()==q.IDLE?n.interimTile=t.interimTile:n=t;t=n.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==q.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Q()},e.prototype.getAlpha=function(t,n){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=n,this.transitionStarts_[t]=i;else if(i===-1)return 1;var o=n-i+1e3/60;return o>=this.transition_?1:ac(o/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(xr),sc=uy,hy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cy=function(r){hy(e,r);function e(t,n,i,o,a,s){var l=r.call(this,t,n,s)||this;return l.crossOrigin_=o,l.src_=i,l.key=i,l.image_=new Image,o!==null&&(l.image_.crossOrigin=o),l.unlisten_=null,l.tileLoadFunction_=a,l}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=q.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=q.ERROR,this.unlistenImage_(),this.image_=fy(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=q.LOADED:this.state=q.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==q.ERROR&&(this.state=q.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==q.IDLE&&(this.state=q.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Is(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(sc);function fy(){var r=ve(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}var lc=cy,dy=function(){function r(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var n=t-3;n>0&&this.points_[n+2]>e;)n-=3;var i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;var o=this.points_[t]-this.points_[n],a=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_},r}(),py=dy,vy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gy=function(r){vy(e,r);function e(t){var n=r.call(this)||this;return n.map_=t,n}return e.prototype.dispatchRenderEvent=function(t,n){Q()},e.prototype.calculateMatrices2D=function(t){var n=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;Ze(i,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),ss(o,i)},e.prototype.forEachFeatureAtCoordinate=function(t,n,i,o,a,s,l,u){var h,f=n.viewState;function c(K,U,B,X){return a.call(s,U,K?B:null,X)}var d=f.projection,p=Ch(t.slice(),d),v=[[0,0]];if(d.canWrapX()&&o){var _=d.getExtent(),m=St(_);v.push([-m,0],[m,0])}for(var T=n.layerStatesArray,E=T.length,A=[],x=[],I=0;I<v.length;I++)for(var M=E-1;M>=0;--M){var w=T[M],L=w.layer;if(L.hasRenderer()&&to(w,f)&&l.call(u,L)){var N=L.getRenderer(),Y=L.getSource();if(N&&Y){var H=Y.getWrapX()?p:t,k=c.bind(null,w.managed);x[0]=H[0]+v[I][0],x[1]=H[1]+v[I][1],h=N.forEachFeatureAtCoordinate(x,n,i,k,A)}if(h)return h}}if(A.length!==0){var tt=1/A.length;return A.forEach(function(K,U){return K.distanceSq+=U*tt}),A.sort(function(K,U){return K.distanceSq-U.distanceSq}),A.some(function(K){return h=K.callback(K.feature,K.layer,K.geometry)}),h}},e.prototype.forEachLayerAtPixel=function(t,n,i,o,a){return Q()},e.prototype.hasFeatureAtCoordinate=function(t,n,i,o,a,s){var l=this.forEachFeatureAtCoordinate(t,n,i,o,cr,this,a,s);return l!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Q()},e.prototype.scheduleExpireIconCache=function(t){no.canExpireCache()&&t.postRenderFunctions.push(_y)},e}(is);function _y(r,e){no.expire()}var yy=gy,my=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ay=function(r){my(e,r);function e(t){var n=r.call(this,t)||this;n.fontChangeListenerKey_=ft(je,_r.PROPERTYCHANGE,t.redrawText.bind(t)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=Io+" ol-layers";var o=t.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return e.prototype.dispatchRenderEvent=function(t,n){var i=this.getMap();if(i.hasListener(t)){var o=new qh(t,void 0,n);i.dispatchEvent(o)}},e.prototype.disposeInternal=function(){xt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),r.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(vn.PRECOMPOSE,t);var n=t.layerStatesArray.sort(function(d,p){return d.zIndex-p.zIndex}),i=t.viewState;this.children_.length=0;for(var o=[],a=null,s=0,l=n.length;s<l;++s){var u=n[s];t.layerIndex=s;var h=u.layer,f=h.getSourceState();if(!to(u,i)||f!=Un.READY&&f!=Un.UNDEFINED){h.unrender();continue}var c=h.render(t,a);!c||(c!==a&&(this.children_.push(c),a=c),"getDeclutter"in h&&o.push(h))}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(t);fg(this.element_,this.children_),this.dispatchRenderEvent(vn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,n,i,o,a){for(var s=n.viewState,l=n.layerStatesArray,u=l.length,h=u-1;h>=0;--h){var f=l[h],c=f.layer;if(c.hasRenderer()&&to(f,s)&&a(c)){var d=c.getRenderer(),p=d.getDataAtPixel(t,n,i);if(p){var v=o(c,p);if(v)return v}}}},e}(yy),Ey=Ay,uc=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),un=function(r){uc(e,r);function e(t,n){var i=r.call(this,t)||this;return i.layer=n,i}return e}(Ve),Ho={LAYERS:"layers"},Ty=function(r){uc(e,r);function e(t){var n=this,i=t||{},o=bt({},i);delete o.layers;var a=i.layers;return n=r.call(this,o)||this,n.on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(Ho.LAYERS,n.handleLayersChanged_),a?Array.isArray(a)?a=new he(a.slice(),{unique:!0}):ht(typeof a.getArray=="function",43):a=new he(void 0,{unique:!0}),n.setLayers(a),n}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(xt),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(ft(t,te.ADD,this.handleLayersAdd_,this),ft(t,te.REMOVE,this.handleLayersRemove_,this));for(var n in this.listenerKeys_)this.listenerKeys_[n].forEach(xt);ui(this.listenerKeys_);for(var i=t.getArray(),o=0,a=i.length;o<a;o++){var s=i[o];this.registerLayerListeners_(s),this.dispatchEvent(new un("addlayer",s))}this.changed()},e.prototype.registerLayerListeners_=function(t){var n=[ft(t,_r.PROPERTYCHANGE,this.handleLayerChange_,this),ft(t,rt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&n.push(ft(t,"addlayer",this.handleLayerGroupAdd_,this),ft(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[vt(t)]=n},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new un("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new un("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new un("addlayer",n)),this.changed()},e.prototype.handleLayersRemove_=function(t){var n=t.element,i=vt(n);this.listenerKeys_[i].forEach(xt),delete this.listenerKeys_[i],this.dispatchEvent(new un("removelayer",n)),this.changed()},e.prototype.getLayers=function(){return this.get(Ho.LAYERS)},e.prototype.setLayers=function(t){var n=this.getLayers();if(n)for(var i=n.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new un("removelayer",i[o]));this.set(Ho.LAYERS,t)},e.prototype.getLayersArray=function(t){var n=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(n)}),n},e.prototype.getLayerStatesArray=function(t){var n=t!==void 0?t:[],i=n.length;this.getLayers().forEach(function(h){h.getLayerStatesArray(n)});var o=this.getLayerState(),a=o.zIndex;!t&&o.zIndex===void 0&&(a=0);for(var s=i,l=n.length;s<l;s++){var u=n[s];u.opacity*=o.opacity,u.visible=u.visible&&o.visible,u.maxResolution=Math.min(u.maxResolution,o.maxResolution),u.minResolution=Math.max(u.minResolution,o.minResolution),u.minZoom=Math.max(u.minZoom,o.minZoom),u.maxZoom=Math.min(u.maxZoom,o.maxZoom),o.extent!==void 0&&(u.extent!==void 0?u.extent=Xr(u.extent,o.extent):u.extent=o.extent),u.zIndex===void 0&&(u.zIndex=a)}return n},e.prototype.getSourceState=function(){return Un.READY},e}(Vh),Ro=Ty,xy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cy=function(r){xy(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.map=n,o.frameState=i!==void 0?i:null,o}return e}(Ve),or=Cy,wy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Iy=function(r){wy(e,r);function e(t,n,i,o,a){var s=r.call(this,t,n,a)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=o!==void 0?o:!1,s}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){r.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){r.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(or),on=Iy,Tt={SINGLECLICK:"singleclick",CLICK:rt.CLICK,DBLCLICK:rt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Fa={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Oy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ry=function(r){Oy(e,r);function e(t,n){var i=r.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n===void 0?1:n,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=ft(o,Fa.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=ft(o,Fa.POINTERMOVE,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(rt.TOUCHMOVE,i.boundHandleTouchMove_,vh?{passive:!1}:!1),i}return e.prototype.emulateClick_=function(t){var n=new on(Tt.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new on(Tt.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new on(Tt.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var n=t;n.type==Tt.POINTERUP||n.type==Tt.POINTERCANCEL?delete this.trackedTouches_[n.pointerId]:n.type==Tt.POINTERDOWN&&(this.trackedTouches_[n.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var n=new on(Tt.POINTERUP,this.map_,t);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(xt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var n=new on(Tt.POINTERDOWN,this.map_,t);this.dispatchEvent(n),this.down_={};for(var i in t){var o=t[i];this.down_[i]=typeof o=="function"?Yn:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ft(a,Tt.POINTERMOVE,this.handlePointerMove_,this),ft(a,Tt.POINTERUP,this.handlePointerUp_,this),ft(this.element_,Tt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(ft(this.element_.getRootNode(),Tt.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var n=new on(Tt.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(n)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new on(t.type,this.map_,t,n))},e.prototype.handleTouchMove_=function(t){var n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(xt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(rt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(xt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(xt),this.dragListenerKeys_.length=0,this.element_=null,r.prototype.disposeInternal.call(this)},e}(xr),Sy=Ry,an={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Xt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ro=1/0,Py=function(){function r(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return r.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ui(this.queuedElements_)},r.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,n=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},r.prototype.enqueue=function(e){ht(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=ro?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},r.prototype.getCount=function(){return this.elements_.length},r.prototype.getLeftChildIndex_=function(e){return e*2+1},r.prototype.getRightChildIndex_=function(e){return e*2+2},r.prototype.getParentIndex_=function(e){return e-1>>1},r.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},r.prototype.isEmpty=function(){return this.elements_.length===0},r.prototype.isKeyQueued=function(e){return e in this.queuedElements_},r.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},r.prototype.siftUp_=function(e){for(var t=this.elements_,n=this.priorities_,i=t.length,o=t[e],a=n[e],s=e;e<i>>1;){var l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),h=u<i&&n[u]<n[l]?u:l;t[e]=t[h],n[e]=n[h],e=h}t[e]=o,n[e]=a,this.siftDown_(s,e)},r.prototype.siftDown_=function(e,t){for(var n=this.elements_,i=this.priorities_,o=n[t],a=i[t];t>e;){var s=this.getParentIndex_(t);if(i[s]>a)n[t]=n[s],i[t]=i[s],t=s;else break}n[t]=o,i[t]=a},r.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,n=this.priorities_,i=0,o=t.length,a,s,l;for(s=0;s<o;++s)a=t[s],l=e(a),l==ro?delete this.queuedElements_[this.keyFunction_(a)]:(n[i]=l,t[i++]=a);t.length=i,n.length=i,this.heapify_()},r}(),Ly=Py,My=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fy=function(r){My(e,r);function e(t,n){var i=r.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return e.prototype.enqueue=function(t){var n=r.prototype.enqueue.call(this,t);if(n){var i=t[0];i.addEventListener(rt.CHANGE,this.boundHandleTileChange_)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var n=t.target,i=n.getState();if(i===q.LOADED||i===q.ERROR||i===q.EMPTY){n.removeEventListener(rt.CHANGE,this.boundHandleTileChange_);var o=n.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,n){for(var i=0,o,a,s;this.tilesLoading_<t&&i<n&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===q.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,a.load())},e}(Ly),Dy=Fy;function by(r,e,t,n,i){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return ro;var o=r.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}var _e={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Ny=42,Ss=256;function nu(r,e,t){return function(n,i,o,a,s){if(!!n){if(!i&&!e)return n;var l=e?0:o[0]*i,u=e?0:o[1]*i,h=s?s[0]:0,f=s?s[1]:0,c=r[0]+l/2+h,d=r[2]-l/2+h,p=r[1]+u/2+f,v=r[3]-u/2+f;c>d&&(c=(d+c)/2,d=c),p>v&&(p=(v+p)/2,v=p);var _=Nt(n[0],c,d),m=Nt(n[1],p,v);if(a&&t&&i){var T=30*i;_+=-T*Math.log(1+Math.max(0,c-n[0])/T)+T*Math.log(1+Math.max(0,n[0]-d)/T),m+=-T*Math.log(1+Math.max(0,p-n[1])/T)+T*Math.log(1+Math.max(0,n[1]-v)/T)}return[_,m]}}}function Gy(r){return r}function Ps(r,e,t,n){var i=St(e)/t[0],o=xe(e)/t[1];return n?Math.min(r,Math.max(i,o)):Math.min(r,Math.min(i,o))}function Ls(r,e,t){var n=Math.min(r,e),i=50;return n*=Math.log(1+i*Math.max(0,r/e-1))/i+1,t&&(n=Math.max(n,t),n/=Math.log(1+i*Math.max(0,t/r-1))/i+1),Nt(n,t/2,e*2)}function By(r,e,t,n){return function(i,o,a,s){if(i!==void 0){var l=r[0],u=r[r.length-1],h=t?Ps(l,t,a,n):l;if(s){var f=e!==void 0?e:!0;return f?Ls(i,h,u):Nt(i,u,h)}var c=Math.min(h,i),d=Math.floor(os(r,c,o));return r[d]>h&&d<r.length-1?r[d+1]:r[d]}else return}}function jy(r,e,t,n,i,o){return function(a,s,l,u){if(a!==void 0){var h=i?Ps(e,i,l,o):e,f=t!==void 0?t:0;if(u){var c=n!==void 0?n:!0;return c?Ls(a,h,f):Nt(a,f,h)}var d=1e-9,p=Math.ceil(Math.log(e/h)/Math.log(r)-d),v=-s*(.5-d)+.5,_=Math.min(h,a),m=Math.floor(Math.log(e/_)/Math.log(r)+v),T=Math.max(p,m),E=e/Math.pow(r,T);return Nt(E,f,h)}else return}}function ru(r,e,t,n,i){return function(o,a,s,l){if(o!==void 0){var u=n?Ps(r,n,s,i):r,h=t!==void 0?t:!0;return!h||!l?Nt(o,e,u):Ls(o,u,e)}else return}}function Ms(r){if(r!==void 0)return 0}function iu(r){if(r!==void 0)return r}function Yy(r){var e=2*Math.PI/r;return function(t,n){if(n)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function ky(r){var e=r||ki(5);return function(t,n){if(n)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}var Uy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zo=0,Wy=function(r){Uy(e,r);function e(t){var n=r.call(this)||this;n.on,n.once,n.un;var i=bt({},t);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=ds(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,i.projection&&gv(),i.center&&(i.center=Be(i.center,n.projection_)),i.extent&&(i.extent=Pn(i.extent,n.projection_)),n.applyOptions_(i),n}return e.prototype.applyOptions_=function(t){var n=bt({},t);for(var i in _e)delete n[i];this.setProperties(n,!0);var o=Xy(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var a=zy(t),s=o.constraint,l=Hy(t);this.constraints_={center:a,resolution:s,rotation:l},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var n=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var o=t||[0,0,0,0];n=n||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-n[3]+n[1]-o[1]),l=a/2*(o[0]-n[0]+n[2]-o[2]);this.setCenterInternal([i[0]+s,i[1]-l])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),bt({},n,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),i=0;i<n.length;++i){var o=arguments[i];o.center&&(o=bt({},o),o.center=Be(o.center,this.getProjection())),o.anchor&&(o=bt({},o),o.anchor=Be(o.anchor,this.getProjection())),n[i]=o}this.animateInternal.apply(this,n)},e.prototype.animateInternal=function(t){var n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);for(var o=0;o<n&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===n){i&&Fi(i,!0);return}for(var s=Date.now(),l=this.targetCenter_.slice(),u=this.targetResolution_,h=this.targetRotation_,f=[];o<n;++o){var c=arguments[o],d={start:s,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||ay,callback:i};if(c.center&&(d.sourceCenter=l,d.targetCenter=c.center.slice(),l=d.targetCenter),c.zoom!==void 0?(d.sourceResolution=u,d.targetResolution=this.getResolutionForZoom(c.zoom),u=d.targetResolution):c.resolution&&(d.sourceResolution=u,d.targetResolution=c.resolution,u=d.targetResolution),c.rotation!==void 0){d.sourceRotation=h;var p=fr(c.rotation-h+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=h+p,h=d.targetRotation}Zy(d)?d.complete=!0:s+=d.duration,f.push(d)}this.animations_.push(f),this.setHint(Ht.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Ht.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[Ht.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(Ht.ANIMATING,-this.hints_[Ht.ANIMATING]);for(var t,n=0,i=this.animations_.length;n<i;++n){var o=this.animations_[n];if(o[0].callback&&Fi(o[0].callback,!1),!t)for(var a=0,s=o.length;a<s;++a){var l=o[a];if(!l.complete){t=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),n=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,s=0,l=o.length;s<l;++s){var u=o[s];if(!u.complete){var h=t-u.start,f=u.duration>0?h/u.duration:1;f>=1?(u.complete=!0,f=1):a=!1;var c=u.easing(f);if(u.sourceCenter){var d=u.sourceCenter[0],p=u.sourceCenter[1],v=u.targetCenter[0],_=u.targetCenter[1];this.nextCenter_=u.targetCenter;var m=d+c*(v-d),T=p+c*(_-p);this.targetCenter_=[m,T]}if(u.sourceResolution&&u.targetResolution){var E=c===1?u.targetResolution:u.sourceResolution+c*(u.targetResolution-u.sourceResolution);if(u.anchor){var A=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(E,0,A,!0);this.targetCenter_=this.calculateCenterZoom(x,u.anchor)}this.nextResolution_=u.targetResolution,this.targetResolution_=E,this.applyTargetState_(!0)}if(u.sourceRotation!==void 0&&u.targetRotation!==void 0){var I=c===1?fr(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+c*(u.targetRotation-u.sourceRotation);if(u.anchor){var M=this.constraints_.rotation(I,!0);this.targetCenter_=this.calculateCenterRotate(M,u.anchor)}this.nextRotation_=u.targetRotation,this.targetRotation_=I}if(this.applyTargetState_(!0),n=!0,!u.complete)break}}if(a){this.animations_[i]=null,this.setHint(Ht.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var w=o[0].callback;w&&Fi(w,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,n){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-n[0],o[1]-n[1]],cs(i,t-this.getRotation()),fv(i,n)),i},e.prototype.calculateCenterZoom=function(t,n){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=n[0]-t*(n[0]-o[0])/a,l=n[1]-t*(n[1]-o[1])/a;i=[s,l]}return i},e.prototype.getViewportSize_=function(t){var n=this.viewportSize_;if(t){var i=n[0],o=n[1];return[Math.abs(i*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return n},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&xa(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(_e.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var n=this.calculateExtentInternal(t);return Ca(n,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var n=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();ht(i,1);var o=this.getResolution();ht(o!==void 0,2);var a=this.getRotation();return ht(a!==void 0,3),Aa(i,o,a,n)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(_e.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,n){return this.getResolutionForExtentInternal(Pn(t,this.getProjection()),n)},e.prototype.getResolutionForExtentInternal=function(t,n){var i=n||this.getViewportSizeMinusPadding_(),o=St(t)/i[0],a=xe(t)/i[1];return Math.max(o,a)},e.prototype.getResolutionForValueFunction=function(t){var n=t||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(n);return function(s){var l=i/Math.pow(n,s*a);return l}},e.prototype.getRotation=function(){return this.get(_e.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var n=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/n;return function(s){var l=Math.log(i/s)/n/a;return l}},e.prototype.getViewportSizeMinusPadding_=function(t){var n=this.getViewportSize_(t),i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n},e.prototype.getState=function(){var t=this.getProjection(),n=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=Ko(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],n,i)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t},e.prototype.getZoomForResolution=function(t){var n=this.minZoom_||0,i,o;if(this.resolutions_){var a=os(this.resolutions_,t,1);n=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return n+Math.log(i/t)/Math.log(o)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=Nt(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Nt(t-n,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,n){var i;if(ht(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){ht(!hs(t),25);var o=Pn(t,this.getProjection());i=bl(o)}else if(t.getType()===Z.CIRCLE){var o=Pn(t.getExtent(),this.getProjection());i=bl(o),i.rotate(this.getRotation(),kn(o))}else{var a=Oh();a?i=t.clone().transform(a,this.getProjection()):i=t}this.fitInternal(i,n)},e.prototype.rotatedExtentForGeometry=function(t){for(var n=this.getRotation(),i=Math.cos(n),o=Math.sin(-n),a=t.getFlatCoordinates(),s=t.getStride(),l=1/0,u=1/0,h=-1/0,f=-1/0,c=0,d=a.length;c<d;c+=s){var p=a[c]*i-a[c+1]*o,v=a[c]*o+a[c+1]*i;l=Math.min(l,p),u=Math.min(u,v),h=Math.max(h,p),f=Math.max(f,v)}return[l,u,h,f]},e.prototype.fitInternal=function(t,n){var i=n||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],s=i.nearest!==void 0?i.nearest:!1,l;i.minResolution!==void 0?l=i.minResolution:i.maxZoom!==void 0?l=this.getResolutionForZoom(i.maxZoom):l=0;var u=this.rotatedExtentForGeometry(t),h=this.getResolutionForExtentInternal(u,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);h=isNaN(h)?l:Math.max(h,l),h=this.getConstrainedResolution(h,s?0:1);var f=this.getRotation(),c=Math.sin(f),d=Math.cos(f),p=kn(u);p[0]+=(a[1]-a[3])/2*h,p[1]+=(a[0]-a[2])/2*h;var v=p[0]*d-p[1]*c,_=p[1]*d+p[0]*c,m=this.getConstrainedCenter([v,_],h),T=i.callback?i.callback:Yn;i.duration!==void 0?this.animateInternal({resolution:h,center:m,duration:i.duration,easing:i.easing},T):(this.targetResolution_=h,this.targetCenter_=m,this.applyTargetState_(!1,!0),Fi(T,!0))},e.prototype.centerOn=function(t,n,i){this.centerOnInternal(Be(t,this.getProjection()),n,i)},e.prototype.centerOnInternal=function(t,n,i){this.setCenterInternal(Ko(t,n,i,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,n,i,o){var a,s=this.padding_;if(s&&t){var l=this.getViewportSizeMinusPadding_(-i),u=Ko(t,o,[l[0]/2+s[3],l[1]/2+s[0]],n,i);a=[t[0]-u[0],t[1]-u[1]]}return a},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var n=xa(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])},e.prototype.adjustResolution=function(t,n){var i=n&&Be(n,this.getProjection());this.adjustResolutionInternal(t,i)},e.prototype.adjustResolutionInternal=function(t,n){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*t,0,o,i);n&&(this.targetCenter_=this.calculateCenterZoom(a,n)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)},e.prototype.adjustRotation=function(t,n){n&&(n=Be(n,this.getProjection())),this.adjustRotationInternal(t,n)},e.prototype.adjustRotationInternal=function(t,n){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,i);n&&(this.targetCenter_=this.calculateCenterRotate(o,n)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&Be(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,n){var i=this.getAnimating()||this.getInteracting()||n,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,i),l=this.constraints_.center(this.targetCenter_,s,a,i,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(_e.ROTATION)!==o&&this.set(_e.ROTATION,o),this.get(_e.RESOLUTION)!==s&&(this.set(_e.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(_e.CENTER)||!Vi(this.get(_e.CENTER),l))&&this.set(_e.CENTER,l),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,n,i){var o=t!==void 0?t:200,a=n||0,s=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(s),u=this.constraints_.resolution(this.targetResolution_,a,l),h=this.constraints_.center(this.targetCenter_,u,l,!1,this.calculateCenterShift(this.targetCenter_,u,s,l));if(o===0&&!this.cancelAnchor_){this.targetResolution_=u,this.targetRotation_=s,this.targetCenter_=h,this.applyTargetState_();return}var f=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==u||this.getRotation()!==s||!this.getCenterInternal()||!Vi(this.getCenterInternal(),h))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:h,resolution:u,duration:o,easing:wr,anchor:f}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Ht.INTERACTING,1)},e.prototype.endInteraction=function(t,n,i){var o=i&&Be(i,this.getProjection());this.endInteractionInternal(t,n,o)},e.prototype.endInteractionInternal=function(t,n,i){this.setHint(Ht.INTERACTING,-1),this.resolveConstraints(t,n,i)},e.prototype.getConstrainedCenter=function(t,n){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),i)},e.prototype.getConstrainedZoom=function(t,n){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,n))},e.prototype.getConstrainedResolution=function(t,n){var i=n||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,o)},e}(Me);function Fi(r,e){setTimeout(function(){r(e)},0)}function zy(r){if(r.extent!==void 0){var e=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return nu(r.extent,r.constrainOnlyCenter,e)}var t=ds(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&t.isGlobal()){var n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,nu(n,!1,!1)}return Gy}function Xy(r){var e,t,n,i=28,o=2,a=r.minZoom!==void 0?r.minZoom:Zo,s=r.maxZoom!==void 0?r.maxZoom:i,l=r.zoomFactor!==void 0?r.zoomFactor:o,u=r.multiWorld!==void 0?r.multiWorld:!1,h=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,f=r.showFullExtent!==void 0?r.showFullExtent:!1,c=ds(r.projection,"EPSG:3857"),d=c.getExtent(),p=r.constrainOnlyCenter,v=r.extent;if(!u&&!v&&c.isGlobal()&&(p=!1,v=d),r.resolutions!==void 0){var _=r.resolutions;t=_[a],n=_[s]!==void 0?_[s]:_[_.length-1],r.constrainResolution?e=By(_,h,!p&&v,f):e=ru(t,n,h,!p&&v,f)}else{var m=d?Math.max(St(d),xe(d)):360*fe[ze.DEGREES]/c.getMetersPerUnit(),T=m/Ss/Math.pow(o,Zo),E=T/Math.pow(o,i-Zo);t=r.maxResolution,t!==void 0?a=0:t=T/Math.pow(l,a),n=r.minResolution,n===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?n=t/Math.pow(l,s):n=T/Math.pow(l,s):n=E),s=a+Math.floor(Math.log(t/n)/Math.log(l)),n=t/Math.pow(l,s-a),r.constrainResolution?e=jy(l,t,n,h,!p&&v,f):e=ru(t,n,h,!p&&v,f)}return{constraint:e,maxResolution:t,minResolution:n,minZoom:a,zoomFactor:l}}function Hy(r){var e=r.enableRotation!==void 0?r.enableRotation:!0;if(e){var t=r.constrainRotation;return t===void 0||t===!0?ky():t===!1?iu:typeof t=="number"?Yy(t):iu}else return Ms}function Zy(r){return!(r.sourceCenter&&r.targetCenter&&!Vi(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function Ko(r,e,t,n,i){var o=Math.cos(-i),a=Math.sin(-i),s=r[0]*o-r[1]*a,l=r[1]*o+r[0]*a;s+=(e[0]/2-t[0])*n,l+=(t[1]-e[1]/2)*n,a=-a;var u=s*o-l*a,h=l*o+s*a;return[u,h]}var hn=Wy,Ky=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();function hc(r){if(r instanceof Oo){r.setMapInternal(null);return}r instanceof Ro&&r.getLayers().forEach(hc)}function cc(r,e){if(r instanceof Oo){r.setMapInternal(e);return}if(r instanceof Ro)for(var t=r.getLayers().getArray(),n=0,i=t.length;n<i;++n)cc(t[n],e)}var Vy=function(r){Ky(e,r);function e(t){var n=r.call(this)||this;n.on,n.once,n.un;var i=Qy(t);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,n.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:ph,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=Pe(),n.pixelToCoordinateTransform_=Pe(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=t.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=i.controls||new he,n.interactions=i.interactions||new he,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new Dy(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(Xt.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener(Xt.VIEW,n.handleViewChanged_),n.addChangeListener(Xt.SIZE,n.handleSizeChanged_),n.addChangeListener(Xt.TARGET,n.handleTargetChanged_),n.setProperties(i.values);var o=n;return t.view&&!(t.view instanceof hn)&&t.view.then(function(a){o.setView(new hn(a))}),n.controls.addEventListener(te.ADD,function(a){a.element.setMap(this)}.bind(n)),n.controls.addEventListener(te.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.interactions.addEventListener(te.ADD,function(a){a.element.setMap(this)}.bind(n)),n.interactions.addEventListener(te.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(te.ADD,function(a){this.addOverlayInternal_(a.element)}.bind(n)),n.overlays_.addEventListener(te.REMOVE,function(a){var s=a.element,l=s.getId();l!==void 0&&delete this.overlayIdIndex_[l.toString()],a.element.setMap(null)}.bind(n)),n.controls.forEach(function(a){a.setMap(this)}.bind(n)),n.interactions.forEach(function(a){a.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var n=this.getLayerGroup().getLayers();n.push(t)},e.prototype.handleLayerAdd_=function(t){cc(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),r.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,n,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:cr,l=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,l,n,null,s,null)}},e.prototype.getFeaturesAtPixel=function(t,n){var i=[];return this.forEachFeatureAtPixel(t,function(o){i.push(o)},n),i},e.prototype.getAllLayers=function(){var t=[];function n(i){i.forEach(function(o){o instanceof Ro?n(o.getLayers()):t.push(o)})}return n(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,n,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||cr;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,a,n,s)}},e.prototype.hasFeatureAtPixel=function(t,n){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};var o=n.layerFilter!==void 0?n.layerFilter:cr,a=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,s,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var n=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-n.left,i.clientY-n.top]},e.prototype.getTarget=function(){return this.get(Xt.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return xa(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var n=this.frameState_;return n?Dt(n.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Xt.LAYERGROUP)},e.prototype.setLayers=function(t){var n=this.getLayerGroup();if(t instanceof he){n.setLayers(t);return}var i=n.getLayers();i.clear(),i.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),n=0,i=t.length;n<i;++n){var o=t[n];if(!!o.visible){var a=o.layer.getRenderer();if(a&&!a.ready)return!0;var s=o.layer.getSource();if(s&&s.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var n=Be(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},e.prototype.getPixelFromCoordinateInternal=function(t){var n=this.frameState_;return n?Dt(n.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Xt.SIZE)},e.prototype.getView=function(){return this.get(Xt.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,n,i,o){return by(this.frameState_,t,n,i,o)},e.prototype.handleBrowserEvent=function(t,n){var i=n||t.type,o=new on(i,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var n=t.originalEvent,i=n.type;if(i===Fa.POINTERDOWN||i===rt.WHEEL||i===rt.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=n.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var l=this.getInteractions().getArray().slice(),u=l.length-1;u>=0;u--){var h=l[u];if(!(h.getMap()!==this||!h.getActive()||!this.getTargetElement())){var f=h.handleEvent(t);if(!f||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var a=t.viewHints;if(a[Ht.ANIMATING]||a[Ht.INTERACTING]){var s=Date.now()-t.time>8;i=s?0:8,o=s?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(vn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(vn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new or(an.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new or(an.LOADSTART,this,t))));for(var l=this.postRenderFunctions_,u=0,h=l.length;u<h;++u)l[u](this,t);l.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,n=this.targetChangeHandlerKeys_.length;t<n;++t)xt(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(rt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(rt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Sa(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Sy(this,this.moveTolerance_);for(var o in Tt)this.mapBrowserEventHandler_.addEventListener(Tt[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(rt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(rt.WHEEL,this.boundHandleBrowserEvent_,vh?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[ft(s,rt.KEYDOWN,this.handleBrowserEvent,this),ft(s,rt.KEYPRESS,this.handleBrowserEvent,this),ft(a,rt.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(xt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(xt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=ft(t,_r.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ft(t,rt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(xt),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new un("addlayer",t)),this.layerGroupPropertyListenerKeys_=[ft(t,_r.PROPERTYCHANGE,this.render,this),ft(t,rt.CHANGE,this.render,this),ft(t,"addlayer",this.handleLayerAdd_,this),ft(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),n=0,i=t.length;n<i;++n){var o=t[n].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var n=this.getLayerGroup().getLayers();return n.remove(t)},e.prototype.handleLayerRemove_=function(t){hc(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var n=this,i=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(i!==void 0&&Nl(i)&&o&&o.isDef()){var l=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Aa(u.center,u.resolution,u.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:u,viewHints:l,wantedTiles:{},mapId:vt(this),renderTargets:{}},u.nextCenter&&u.nextResolution){var h=isNaN(u.nextRotation)?u.rotation:u.nextRotation;s.nextExtent=Aa(u.nextCenter,u.nextResolution,h,i)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var f=!this.previousExtent_||!hs(this.previousExtent_)&&!$r(s.extent,this.previousExtent_);f&&(this.dispatchEvent(new or(an.MOVESTART,this,a)),this.previousExtent_=ci(this.previousExtent_))}var c=this.previousExtent_&&!s.viewHints[Ht.ANIMATING]&&!s.viewHints[Ht.INTERACTING]&&!$r(s.extent,this.previousExtent_);c&&(this.dispatchEvent(new or(an.MOVEEND,this,s)),_h(s.extent,this.previousExtent_))}this.dispatchEvent(new or(an.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(an.LOADSTART)||this.hasListener(an.LOADEND)||this.hasListener(vn.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var n=this.getLayerGroup();n&&this.handleLayerRemove_(new un("removelayer",n)),this.set(Xt.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Xt.SIZE,t)},e.prototype.setTarget=function(t){this.set(Xt.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof hn){this.set(Xt.VIEW,t);return}this.set(Xt.VIEW,new hn);var n=this;t.then(function(i){n.setView(new hn(i))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),n=void 0;if(t){var i=getComputedStyle(t),o=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(n=[o,a],!Nl(n)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(n),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var n=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(n)}},e}(Me);function Qy(r){var e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);var t={},n=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new Ro({layers:r.layers});t[Xt.LAYERGROUP]=n,t[Xt.TARGET]=r.target,t[Xt.VIEW]=r.view instanceof hn?r.view:new hn;var i;r.controls!==void 0&&(Array.isArray(r.controls)?i=new he(r.controls.slice()):(ht(typeof r.controls.getArray=="function",47),i=r.controls));var o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new he(r.interactions.slice()):(ht(typeof r.interactions.getArray=="function",48),o=r.interactions));var a;return r.overlays!==void 0?Array.isArray(r.overlays)?a=new he(r.overlays.slice()):(ht(typeof r.overlays.getArray=="function",49),a=r.overlays):a=new he,{controls:i,interactions:o,keyboardEventTarget:e,overlays:a,values:t}}var Jy=Vy,$y=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qy=function(r){$y(e,r);function e(t){var n=r.call(this)||this,i=t.element;return i&&!t.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],t.render&&(n.render=t.render),t.target&&n.setTarget(t.target),n}return e.prototype.disposeInternal=function(){Sa(this.element),r.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Sa(this.element);for(var n=0,i=this.listenerKeys.length;n<i;++n)xt(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){var o=this.target_?this.target_:t.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==Yn&&this.listenerKeys.push(ft(t,an.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(Me),Fs=qy,tm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),em=function(r){tm(e,r);function e(t){var n=this,i=t||{};n=r.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,n.ulElement_=document.createElement("ul"),n.collapsed_=i.collapsed!==void 0?i.collapsed:!0,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=i.collapsible!==void 0,n.collapsible_=i.collapsible!==void 0?i.collapsible:!0,n.collapsible_||(n.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",s=i.expandClassName!==void 0?i.expandClassName:o+"-expand",l=i.collapseLabel!==void 0?i.collapseLabel:"\u203A",u=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof l=="string"?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=l,n.collapseLabel_.className=u):n.collapseLabel_=l;var h=i.label!==void 0?i.label:"i";typeof h=="string"?(n.label_=document.createElement("span"),n.label_.textContent=h,n.label_.className=s):n.label_=h;var f=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=a,n.toggleButton_.appendChild(f),n.toggleButton_.addEventListener(rt.CLICK,n.handleClick_.bind(n),!1);var c=o+" "+Io+" "+Cs+(n.collapsed_&&n.collapsible_?" "+jl:"")+(n.collapsible_?"":" ol-uncollapsible"),d=n.element;return d.className=c,d.appendChild(n.toggleButton_),d.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return e.prototype.collectSourceAttributions_=function(t){for(var n={},i=[],o=!0,a=t.layerStatesArray,s=0,l=a.length;s<l;++s){var u=a[s];if(!!to(u,t.viewState)){var h=u.layer.getSource();if(!!h){var f=h.getAttributions();if(!!f){var c=f(t);if(!!c)if(o=o&&h.getAttributionsCollapsible()!==!1,Array.isArray(c))for(var d=0,p=c.length;d<p;++d)c[d]in n||(i.push(c[d]),n[c[d]]=!0);else c in n||(i.push(c),n[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var n=this.collectSourceAttributions_(t),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Wn(n,this.renderedAttributions_)){cg(this.ulElement_);for(var o=0,a=n.length;o<a;++o){var s=document.createElement("li");s.innerHTML=n[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(jl),this.collapsed_?Bl(this.collapseLabel_,this.label_):Bl(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Fs),nm=em,rm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),im=function(r){rm(e,r);function e(t){var n=this,i=t||{};n=r.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"\u21E7",s=i.compassClassName!==void 0?i.compassClassName:"ol-compass";n.label_=null,typeof a=="string"?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=a):(n.label_=a,n.label_.classList.add(s));var l=i.tipLabel?i.tipLabel:"Reset rotation",u=document.createElement("button");u.className=o+"-reset",u.setAttribute("type","button"),u.title=l,u.appendChild(n.label_),u.addEventListener(rt.CLICK,n.handleClick_.bind(n),!1);var h=o+" "+Io+" "+Cs,f=n.element;return f.className=h,f.appendChild(u),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=i.duration!==void 0?i.duration:250,n.autoHide_=i.autoHide!==void 0?i.autoHide:!0,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Si),n}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),n=t.getView();if(!!n){var i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:wr}):n.setRotation(0))}},e.prototype.render=function(t){var n=t.frameState;if(!!n){var i=n.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(Si);!a&&i===0?this.element.classList.add(Si):a&&i!==0&&this.element.classList.remove(Si)}this.label_.style.transform=o}this.rotation_=i}},e}(Fs),om=im,am=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sm=function(r){am(e,r);function e(t){var n=this,i=t||{};n=r.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,s=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",l=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",u=i.zoomInLabel!==void 0?i.zoomInLabel:"+",h=i.zoomOutLabel!==void 0?i.zoomOutLabel:"\u2013",f=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",c=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=f,d.appendChild(typeof u=="string"?document.createTextNode(u):u),d.addEventListener(rt.CLICK,n.handleClick_.bind(n,a),!1);var p=document.createElement("button");p.className=l,p.setAttribute("type","button"),p.title=c,p.appendChild(typeof h=="string"?document.createTextNode(h):h),p.addEventListener(rt.CLICK,n.handleClick_.bind(n,-a),!1);var v=o+" "+Io+" "+Cs,_=n.element;return _.className=v,_.appendChild(d),_.appendChild(p),n.duration_=i.duration!==void 0?i.duration:250,n}return e.prototype.handleClick_=function(t,n){n.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var n=this.getMap(),i=n.getView();if(!!i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:wr})):i.setZoom(a)}}},e}(Fs),lm=sm;function um(r){var e=r||{},t=new he,n=e.zoom!==void 0?e.zoom:!0;n&&t.push(new lm(e.zoomOptions));var i=e.rotate!==void 0?e.rotate:!0;i&&t.push(new om(e.rotateOptions));var o=e.attribution!==void 0?e.attribution:!0;return o&&t.push(new nm(e.attributionOptions)),t}var ou={ACTIVE:"active"},hm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cm=function(r){hm(e,r);function e(t){var n=r.call(this)||this;return n.on,n.once,n.un,t&&t.handleEvent&&(n.handleEvent=t.handleEvent),n.map_=null,n.setActive(!0),n}return e.prototype.getActive=function(){return this.get(ou.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(ou.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(Me);function fm(r,e,t){var n=r.getCenterInternal();if(n){var i=[n[0]+e[0],n[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:sy,center:r.getConstrainedCenter(i)})}}function Ds(r,e,t,n){var i=r.getZoom();if(i!==void 0){var o=r.getConstrainedZoom(i+e),a=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:a,anchor:t,duration:n!==void 0?n:250,easing:wr})}}var vi=cm,dm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pm=function(r){dm(e,r);function e(t){var n=r.call(this)||this,i=t||{};return n.delta_=i.delta?i.delta:1,n.duration_=i.duration!==void 0?i.duration:250,n}return e.prototype.handleEvent=function(t){var n=!1;if(t.type==Tt.DBLCLICK){var i=t.originalEvent,o=t.map,a=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,l=o.getView();Ds(l,s,a,this.duration_),i.preventDefault(),n=!0}return!n},e}(vi),vm=pm,gm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_m=function(r){gm(e,r);function e(t){var n=this,i=t||{};return n=r.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Tt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Tt.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Tt.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,n=this.stopDown(o)}else t.type==Tt.POINTERMOVE&&this.handleMoveEvent(t);return!n},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(ym(t)){var n=t.originalEvent,i=n.pointerId.toString();t.type==Tt.POINTERUP?delete this.trackedPointers_[i]:t.type==Tt.POINTERDOWN?this.trackedPointers_[i]=n:i in this.trackedPointers_&&(this.trackedPointers_[i]=n),this.targetPointers=hh(this.trackedPointers_)}},e}(vi);function bs(r){for(var e=r.length,t=0,n=0,i=0;i<e;i++)t+=r[i].clientX,n+=r[i].clientY;return[t/e,n/e]}function ym(r){var e=r.type;return e===Tt.POINTERDOWN||e===Tt.POINTERDRAG||e===Tt.POINTERUP}var gi=_m;function Da(r){var e=arguments;return function(t){for(var n=!0,i=0,o=e.length;i<o&&(n=n&&e[i](t),!!n);++i);return n}}var mm=function(r){var e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Am=function(r){var e=r.map.getTargetElement(),t=r.map.getOwnerDocument().activeElement;return e.contains(t)},fc=function(r){return r.map.getTargetElement().hasAttribute("tabindex")?Am(r):!0},Em=cr,dc=function(r){var e=r.originalEvent;return e.button==0&&!(bp&&Np&&e.ctrlKey)},pc=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Tm=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},vc=function(r){var e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},Vo=function(r){var e=r.originalEvent;return ht(e!==void 0,56),e.pointerType=="mouse"},xm=function(r){var e=r.originalEvent;return ht(e!==void 0,56),e.isPrimary&&e.button===0},Cm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wm=function(r){Cm(e,r);function e(t){var n=r.call(this,{stopDown:_o})||this,i=t||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var o=i.condition?i.condition:Da(pc,xm);return n.condition_=i.onFocusOnly?Da(fc,o):o,n.noKinetic_=!1,n}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=bs(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=t.map,s=a.getView();dv(o,s.getResolution()),cs(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var n=t.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=i.getCenterInternal(),l=n.getPixelFromCoordinateInternal(s),u=n.getCoordinateFromPixelInternal([l[0]-o*Math.cos(a),l[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(u),duration:500,easing:wr})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var n=t.map,i=n.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(gi),Im=wm,Om=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rm=function(r){Om(e,r);function e(t){var n=this,i=t||{};return n=r.call(this,{stopDown:_o})||this,n.condition_=i.condition?i.condition:mm,n.lastAngle_=void 0,n.duration_=i.duration!==void 0?i.duration:250,n}return e.prototype.handleDragEvent=function(t){if(!!Vo(t)){var n=t.map,i=n.getView();if(i.getConstraints().rotation!==Ms){var o=n.getSize(),a=t.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var l=s-this.lastAngle_;i.adjustRotationInternal(-l)}this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){if(!Vo(t))return!0;var n=t.map,i=n.getView();return i.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Vo(t))return!1;if(dc(t)&&this.condition_(t)){var n=t.map;return n.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(gi),Sm=Rm,Pm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lm=function(r){Pm(e,r);function e(t){var n=r.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+t,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,n=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],n[0])+i,o.top=Math.min(t[1],n[1])+i,o.width=Math.abs(n[0]-t[0])+i,o.height=Math.abs(n[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,n=this.endPixel_,i=[t,[t[0],n[1]],n,[n[0],t[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new ni([o])},e.prototype.getGeometry=function(){return this.geometry_},e}(is),Mm=Lm,gc=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Di={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Qo=function(r){gc(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return e}(Ve),Fm=function(r){gc(e,r);function e(t){var n=r.call(this)||this;n.on,n.once,n.un;var i=t||{};return n.box_=new Mm(i.className||"ol-dragbox"),n.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:dc,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return e.prototype.defaultBoxEndCondition=function(t,n,i){var o=i[0]-n[0],a=i[1]-n[1];return o*o+a*a>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Qo(Di.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new Qo(n?Di.BOXEND:Di.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Qo(Di.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(gi),Dm=Fm,bm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nm=function(r){bm(e,r);function e(t){var n=this,i=t||{},o=i.condition?i.condition:Tm;return n=r.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,n.duration_=i.duration!==void 0?i.duration:200,n.out_=i.out!==void 0?i.out:!1,n}return e.prototype.onBoxEnd=function(t){var n=this.getMap(),i=n.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),s=i.getResolutionForExtentInternal(a),l=i.getResolution()/s;o=o.clone(),o.scale(l*l)}i.fitInternal(o,{duration:this.duration_,easing:wr})},e}(Dm),Gm=Nm,xn={LEFT:37,UP:38,RIGHT:39,DOWN:40},Bm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jm=function(r){Bm(e,r);function e(t){var n=r.call(this)||this,i=t||{};return n.defaultCondition_=function(o){return pc(o)&&vc(o)},n.condition_=i.condition!==void 0?i.condition:n.defaultCondition_,n.duration_=i.duration!==void 0?i.duration:100,n.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,n}return e.prototype.handleEvent=function(t){var n=!1;if(t.type==rt.KEYDOWN){var i=t.originalEvent,o=i.keyCode;if(this.condition_(t)&&(o==xn.DOWN||o==xn.LEFT||o==xn.RIGHT||o==xn.UP)){var a=t.map,s=a.getView(),l=s.getResolution()*this.pixelDelta_,u=0,h=0;o==xn.DOWN?h=-l:o==xn.LEFT?u=-l:o==xn.RIGHT?u=l:h=l;var f=[u,h];cs(f,s.getRotation()),fm(s,f,this.duration_),i.preventDefault(),n=!0}}return!n},e}(vi),Ym=jm,km=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Um=function(r){km(e,r);function e(t){var n=r.call(this)||this,i=t||{};return n.condition_=i.condition?i.condition:vc,n.delta_=i.delta?i.delta:1,n.duration_=i.duration!==void 0?i.duration:100,n}return e.prototype.handleEvent=function(t){var n=!1;if(t.type==rt.KEYDOWN||t.type==rt.KEYPRESS){var i=t.originalEvent,o=i.charCode;if(this.condition_(t)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var a=t.map,s=o=="+".charCodeAt(0)?this.delta_:-this.delta_,l=a.getView();Ds(l,s,void 0,this.duration_),i.preventDefault(),n=!0}}return!n},e}(vi),Wm=Um,zm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jo={TRACKPAD:"trackpad",WHEEL:"wheel"},Xm=function(r){zm(e,r);function e(t){var n=this,i=t||{};n=r.call(this,i)||this,n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,n.duration_=i.duration!==void 0?i.duration:250,n.timeout_=i.timeout!==void 0?i.timeout:80,n.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,n.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:Em;return n.condition_=i.onFocusOnly?Da(fc,o):o,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var n=t.type;if(n!==rt.WHEEL)return!0;var i=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var a;if(t.type==rt.WHEEL&&(a=o.deltaY,Fp&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=ph),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?Jo.TRACKPAD:Jo.WHEEL);var l=i.getView();if(this.mode_===Jo.TRACKPAD&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var u=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),u),!1},e.prototype.handleWheelZoom_=function(t){var n=t.getView();n.getAnimating()&&n.cancelAnimations();var i=-Nt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Ds(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(vi),Hm=Xm,Zm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Km=function(r){Zm(e,r);function e(t){var n=this,i=t||{},o=i;return o.stopDown||(o.stopDown=_o),n=r.call(this,o)||this,n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=i.threshold!==void 0?i.threshold:.3,n.duration_=i.duration!==void 0?i.duration:250,n}return e.prototype.handleDragEvent=function(t){var n=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=s}this.lastAngle_=a;var l=t.map,u=l.getView();if(u.getConstraints().rotation!==Ms){var h=l.getViewport().getBoundingClientRect(),f=bs(this.targetPointers);f[0]-=h.left,f[1]-=h.top,this.anchor_=l.getCoordinateFromPixelInternal(f),this.rotating_&&(l.render(),u.adjustRotationInternal(n,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var n=t.map,i=n.getView();return i.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},e}(gi),Vm=Km,Qm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jm=function(r){Qm(e,r);function e(t){var n=this,i=t||{},o=i;return o.stopDown||(o.stopDown=_o),n=r.call(this,o)||this,n.anchor_=null,n.duration_=i.duration!==void 0?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return e.prototype.handleDragEvent=function(t){var n=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,s=i.clientY-o.clientY,l=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(n=this.lastDistance_/l),this.lastDistance_=l;var u=t.map,h=u.getView();n!=1&&(this.lastScaleDelta_=n);var f=u.getViewport().getBoundingClientRect(),c=bs(this.targetPointers);c[0]-=f.left,c[1]-=f.top,this.anchor_=u.getCoordinateFromPixelInternal(c),u.render(),h.adjustResolutionInternal(n,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var n=t.map,i=n.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},e}(gi),$m=Jm,qm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tA=function(r){qm(e,r);function e(t,n,i){var o=r.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,n);else if(n!==void 0&&i)o.setFlatCoordinates(n,t),o.ends_=i;else{for(var a=o.getLayout(),s=t,l=[],u=[],h=0,f=s.length;h<f;++h){var c=s[h];h===0&&(a=c.getLayout()),We(l,c.getFlatCoordinates()),u.push(l.length)}o.setFlatCoordinates(a,l),o.ends_=u}return o}return e.prototype.appendLineString=function(t){this.flatCoordinates?We(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,n,i,o){return o<zn(this.getExtent(),t,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gs(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ys(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,n,i,o))},e.prototype.getCoordinateAtM=function(t,n,i){if(this.layout!=Mt.XYM&&this.layout!=Mt.XYZM||this.flatCoordinates.length===0)return null;var o=n!==void 0?n:!1,a=i!==void 0?i:!1;return tg(this.flatCoordinates,0,this.ends_,this.stride,t,o,a)},e.prototype.getCoordinates=function(){return ti(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Ra(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,n=this.ends_,i=this.layout,o=[],a=0,s=0,l=n.length;s<l;++s){var u=n[s],h=new Ra(t.slice(a,u),i);o.push(h),a=u}return o},e.prototype.getFlatMidpoints=function(){for(var t=[],n=this.flatCoordinates,i=0,o=this.ends_,a=this.stride,s=0,l=o.length;s<l;++s){var u=o[s],h=jh(n,i,u,a,.5);We(t,h),i=u}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Nv(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,Mt.XY,i)},e.prototype.getType=function(){return Z.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Zv(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=ms(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},e}(Hn),eA=tA,nA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rA=function(r){nA(e,r);function e(t,n){var i=r.call(this)||this;return n&&!Array.isArray(t[0])?i.setFlatCoordinates(n,t):i.setCoordinates(t,n),i}return e.prototype.appendPoint=function(t){this.flatCoordinates?We(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,n,i,o){if(o<zn(this.getExtent(),t,n))return o;for(var a=this.flatCoordinates,s=this.stride,l=0,u=a.length;l<u;l+=s){var h=Gn(t,n,a[l],a[l+1]);if(h<o){o=h;for(var f=0;f<s;++f)i[f]=a[l+f];i.length=s}}return o},e.prototype.getCoordinates=function(){return cn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||n<=t?null:new ei(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,n=this.layout,i=this.stride,o=[],a=0,s=t.length;a<s;a+=i){var l=new ei(t.slice(a,a+i),n);o.push(l)}return o},e.prototype.getType=function(){return Z.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var n=this.flatCoordinates,i=this.stride,o=0,a=n.length;o<a;o+=i){var s=n[o],l=n[o+1];if(us(t,s,l))return!0}return!1},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Co(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Hn),_c=rA;function iA(r,e,t,n){for(var i=[],o=de(),a=0,s=t.length;a<s;++a){var l=t[a];o=yh(r,e,l[0],n),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return i}var oA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aA=function(r){oA(e,r);function e(t,n,i){var o=r.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var a=o.getLayout(),s=t,l=[],u=[],h=0,f=s.length;h<f;++h){var c=s[h];h===0&&(a=c.getLayout());for(var d=l.length,p=c.getEnds(),v=0,_=p.length;v<_;++v)p[v]+=d;We(l,c.getFlatCoordinates()),u.push(p)}n=a,t=l,i=u}return n!==void 0&&i?(o.setFlatCoordinates(n,t),o.endss_=i):o.setCoordinates(t,n),o}return e.prototype.appendPolygon=function(t){var n;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),n=t.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;We(this.flatCoordinates,t.getFlatCoordinates()),n=t.getEnds().slice();for(var o=0,a=n.length;o<a;++o)n[o]+=i}this.endss_.push(n),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();var o=new e(this.flatCoordinates.slice(),this.layout,n);return o.applyProperties(this),o},e.prototype.closestPointXY=function(t,n,i,o){return o<zn(this.getExtent(),t,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Mv(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fv(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,n,i,o))},e.prototype.containsXY=function(t,n){return Xv(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,n)},e.prototype.getArea=function(){return jv(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Dl(n,0,this.endss_,this.stride,t)):n=this.flatCoordinates,wa(n,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=iA(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Hv(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new _c(this.getFlatInteriorPoints().slice(),Mt.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Jv(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Dl(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Bv(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,Mt.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var n;if(t===0)n=0;else{var i=this.endss_[t-1];n=i[i.length-1]}var o=this.endss_[t].slice(),a=o[o.length-1];if(n!==0)for(var s=0,l=o.length;s<l;++s)o[s]-=n;return new ni(this.flatCoordinates.slice(n,a),this.layout,o)},e.prototype.getPolygons=function(){for(var t=this.layout,n=this.flatCoordinates,i=this.endss_,o=[],a=0,s=0,l=i.length;s<l;++s){var u=i[s].slice(),h=u[u.length-1];if(a!==0)for(var f=0,c=u.length;f<c;++f)u[f]-=a;var d=new ni(n.slice(a,h),t,u);o.push(d),a=h}return o},e.prototype.getType=function(){return Z.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Vv(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=bv(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},e}(Hn),sA=aA;function lA(r){var e=r||{},t=new he,n=new py(-.005,.05,100),i=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;i&&t.push(new Sm);var o=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;o&&t.push(new vm({delta:e.zoomDelta,duration:e.zoomDuration}));var a=e.dragPan!==void 0?e.dragPan:!0;a&&t.push(new Im({onFocusOnly:e.onFocusOnly,kinetic:n}));var s=e.pinchRotate!==void 0?e.pinchRotate:!0;s&&t.push(new Vm);var l=e.pinchZoom!==void 0?e.pinchZoom:!0;l&&t.push(new $m({duration:e.zoomDuration}));var u=e.keyboard!==void 0?e.keyboard:!0;u&&(t.push(new Ym),t.push(new Wm({delta:e.zoomDelta,duration:e.zoomDuration})));var h=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;h&&t.push(new Hm({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var f=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return f&&t.push(new Gm({duration:e.zoomDuration})),t}var uA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hA=function(r){uA(e,r);function e(t){return t=bt({},t),t.controls||(t.controls=um()),t.interactions||(t.interactions=lA({onFocusOnly:!0})),r.call(this,t)||this}return e.prototype.createRenderer=function(){return new Ey(this)},e}(Jy),cA=hA,fA=function(){function r(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return r.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},r.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},r.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},r.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},r.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},r.prototype.get=function(e,t){var n=this.entries_[e];return ht(n!==void 0,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},r.prototype.remove=function(e){var t=this.entries_[e];return ht(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},r.prototype.getCount=function(){return this.count_},r.prototype.getKeys=function(){var e=new Array(this.count_),t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.key_;return e},r.prototype.getValues=function(){var e=new Array(this.count_),t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.value_;return e},r.prototype.peekLast=function(){return this.oldest_.value_},r.prototype.peekLastKey=function(){return this.oldest_.key_},r.prototype.peekFirstKey=function(){return this.newest_.key_},r.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},r.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},r.prototype.set=function(e,t){ht(!(e in this.entries_),16);var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_},r.prototype.setSize=function(e){this.highWaterMark=e},r}(),dA=fA;function au(r,e,t,n){return n!==void 0?(n[0]=r,n[1]=e,n[2]=t,n):[r,e,t]}function So(r,e,t){return r+"/"+e+"/"+t}function yc(r){return So(r[0],r[1],r[2])}function pA(r){return r.split("/").map(Number)}function vA(r){return(r[1]<<r[0])+r[2]}function gA(r,e){var t=r[0],n=r[1],i=r[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var o=e.getFullTileRange(t);return o?o.containsXY(n,i):!0}var _A=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yA=function(r){_A(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var n=this.peekLast();if(n.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),n=pA(t),i=n[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(yc(o.tileCoord)),o.release())}.bind(this))}},e}(dA),mc=yA,Ac=function(){function r(e,t,n,i){this.minX=e,this.maxX=t,this.minY=n,this.maxY=i}return r.prototype.contains=function(e){return this.containsXY(e[1],e[2])},r.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},r.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},r.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},r.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},r}();function $n(r,e,t,n,i){return i!==void 0?(i.minX=r,i.maxX=e,i.minY=t,i.maxY=n,i):new Ac(r,e,t,n)}var Ec=Ac,bi={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},mA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AA=function(r){mA(e,r);function e(t){var n=this,i=t||{},o=bt({},i);return delete o.preload,delete o.useInterimTilesOnError,n=r.call(this,o)||this,n.on,n.once,n.un,n.setPreload(i.preload!==void 0?i.preload:0),n.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),n}return e.prototype.getPreload=function(){return this.get(bi.PRELOAD)},e.prototype.setPreload=function(t){this.set(bi.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(bi.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(bi.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return r.prototype.getData.call(this,t)},e}(Oo),EA=AA,TA=.5,Ge=!0,xA=10,su=.25,CA=function(){function r(e,t,n,i,o,a){this.sourceProj_=e,this.targetProj_=t;var s={},l=qr(this.targetProj_,this.sourceProj_);this.transformInv_=function(E){var A=E[0]+"/"+E[1];return s[A]||(s[A]=l(E)),s[A]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&St(i)==St(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?St(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?St(this.targetProj_.getExtent()):null;var u=Xn(n),h=To(n),f=Eo(n),c=Ao(n),d=this.transformInv_(u),p=this.transformInv_(h),v=this.transformInv_(f),_=this.transformInv_(c),m=xA+(a?Math.max(0,Math.ceil($p(ma(n)/(a*a*256*256)))):0);if(this.addQuad_(u,h,f,c,d,p,v,_,m),this.wrapsXInSource_){var T=1/0;this.triangles_.forEach(function(E,A,x){T=Math.min(T,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(function(E){if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-T>this.sourceWorldWidth_/2){var A=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];A[0][0]-T>this.sourceWorldWidth_/2&&(A[0][0]-=this.sourceWorldWidth_),A[1][0]-T>this.sourceWorldWidth_/2&&(A[1][0]-=this.sourceWorldWidth_),A[2][0]-T>this.sourceWorldWidth_/2&&(A[2][0]-=this.sourceWorldWidth_);var x=Math.min(A[0][0],A[1][0],A[2][0]),I=Math.max(A[0][0],A[1][0],A[2][0]);I-x<this.sourceWorldWidth_/2&&(E.source=A)}}.bind(this))}s={}}return r.prototype.addTriangle_=function(e,t,n,i,o,a){this.triangles_.push({source:[i,o,a],target:[e,t,n]})},r.prototype.addQuad_=function(e,t,n,i,o,a,s,l,u){var h=xl([o,a,s,l]),f=this.sourceWorldWidth_?St(h)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&f>.5&&f<1,p=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=xl([e,t,n,i]),_=St(v)/this.targetWorldWidth_;p=_>su||p}!d&&this.sourceProj_.isGlobal()&&f&&(p=f>su||p)}if(!(!p&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!ee(h,this.maxSourceExtent_))){var m=0;if(!p&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)p=!0;else if(m=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(u>0){if(!p){var T=[(e[0]+n[0])/2,(e[1]+n[1])/2],E=this.transformInv_(T),A=void 0;if(d){var x=(fr(o[0],c)+fr(s[0],c))/2;A=x-fr(E[0],c)}else A=(o[0]+s[0])/2-E[0];var I=(o[1]+s[1])/2-E[1],M=A*A+I*I;p=M>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){var w=[(t[0]+n[0])/2,(t[1]+n[1])/2],L=this.transformInv_(w),N=[(i[0]+e[0])/2,(i[1]+e[1])/2],Y=this.transformInv_(N);this.addQuad_(e,t,w,N,o,a,L,Y,u-1),this.addQuad_(N,w,n,i,Y,L,s,l,u-1)}else{var H=[(e[0]+t[0])/2,(e[1]+t[1])/2],k=this.transformInv_(H),tt=[(n[0]+i[0])/2,(n[1]+i[1])/2],K=this.transformInv_(tt);this.addQuad_(e,H,tt,i,o,k,K,l,u-1),this.addQuad_(H,t,n,tt,k,a,s,K,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(m&11)==0&&this.addTriangle_(e,n,i,o,s,l),(m&14)==0&&this.addTriangle_(e,n,t,o,s,a),m&&((m&13)==0&&this.addTriangle_(t,i,e,a,l,o),(m&7)==0&&this.addTriangle_(t,i,n,a,l,s))}},r.prototype.calculateSourceExtent=function(){var e=de();return this.triangles_.forEach(function(t,n,i){var o=t.source;zr(e,o[0]),zr(e,o[1]),zr(e,o[2])}),e},r.prototype.getTriangles=function(){return this.triangles_},r}(),wA=CA,ba={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},IA={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},$o;function lu(r,e,t,n,i){r.beginPath(),r.moveTo(0,0),r.lineTo(e,t),r.lineTo(n,i),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(e,n)+1,Math.max(t,i)),r.restore()}function qo(r,e){return Math.abs(r[e*4]-210)>2||Math.abs(r[e*4+3]-.75*255)>2}function OA(){if($o===void 0){var r=document.createElement("canvas").getContext("2d");r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",lu(r,4,5,4,0),lu(r,4,5,0,5);var e=r.getImageData(0,0,3,3).data;$o=qo(e,0)||qo(e,4)||qo(e,8)}return $o}function uu(r,e,t,n){var i=ps(t,e,r),o=Rl(e,n,t),a=e.getMetersPerUnit();a!==void 0&&(o*=a);var s=r.getMetersPerUnit();s!==void 0&&(o/=s);var l=r.getExtent();if(!l||hi(l,i)){var u=Rl(r,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o}function RA(r,e,t,n){var i=kn(t),o=uu(r,e,i,n);return(!isFinite(o)||o<=0)&&Eh(t,function(a){return o=uu(r,e,a,n),isFinite(o)&&o>0}),o}function SA(r,e,t,n,i,o,a,s,l,u,h,f){var c=ve(Math.round(t*r),Math.round(t*e));if(f||bt(c,ba),l.length===0)return c.canvas;c.scale(t,t);function d(A){return Math.round(A*t)/t}c.globalCompositeOperation="lighter";var p=de();l.forEach(function(A,x,I){mh(p,A.extent)});var v=St(p),_=xe(p),m=ve(Math.round(t*v/n),Math.round(t*_/n));f||bt(m,ba);var T=t/n;l.forEach(function(A,x,I){var M=A.extent[0]-p[0],w=-(A.extent[3]-p[3]),L=St(A.extent),N=xe(A.extent);A.image.width>0&&A.image.height>0&&m.drawImage(A.image,u,u,A.image.width-2*u,A.image.height-2*u,M*T,w*T,L*T,N*T)});var E=Xn(a);return s.getTriangles().forEach(function(A,x,I){var M=A.source,w=A.target,L=M[0][0],N=M[0][1],Y=M[1][0],H=M[1][1],k=M[2][0],tt=M[2][1],K=d((w[0][0]-E[0])/o),U=d(-(w[0][1]-E[1])/o),B=d((w[1][0]-E[0])/o),X=d(-(w[1][1]-E[1])/o),et=d((w[2][0]-E[0])/o),st=d(-(w[2][1]-E[1])/o),_t=L,P=N;L=0,N=0,Y-=_t,H-=P,k-=_t,tt-=P;var pt=[[Y,H,0,0,B-K],[k,tt,0,0,et-K],[0,0,Y,H,X-U],[0,0,k,tt,st-U]],nt=tv(pt);if(!!nt){if(c.save(),c.beginPath(),OA()||!f){c.moveTo(B,X);for(var Ct=4,jt=K-B,wt=U-X,Gt=0;Gt<Ct;Gt++)c.lineTo(B+d((Gt+1)*jt/Ct),X+d(Gt*wt/(Ct-1))),Gt!=Ct-1&&c.lineTo(B+d((Gt+1)*jt/Ct),X+d((Gt+1)*wt/(Ct-1)));c.lineTo(et,st)}else c.moveTo(B,X),c.lineTo(K,U),c.lineTo(et,st);c.clip(),c.transform(nt[0],nt[2],nt[1],nt[3],K,U),c.translate(p[0]-_t,p[3]-P),c.scale(n/t,-n/t),c.drawImage(m.canvas,0,0),c.restore()}}),h&&(c.save(),c.globalCompositeOperation="source-over",c.strokeStyle="black",c.lineWidth=1,s.getTriangles().forEach(function(A,x,I){var M=A.target,w=(M[0][0]-E[0])/o,L=-(M[0][1]-E[1])/o,N=(M[1][0]-E[0])/o,Y=-(M[1][1]-E[1])/o,H=(M[2][0]-E[0])/o,k=-(M[2][1]-E[1])/o;c.beginPath(),c.moveTo(N,Y),c.lineTo(w,L),c.lineTo(H,k),c.closePath(),c.stroke()}),c.restore()),c.canvas}var PA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LA=function(r){PA(e,r);function e(t,n,i,o,a,s,l,u,h,f,c,d){var p=r.call(this,a,q.IDLE,{interpolate:!!d})||this;p.renderEdges_=c!==void 0?c:!1,p.pixelRatio_=l,p.gutter_=u,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=o,p.wrappedTileCoord_=s||a,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var v=o.getTileCoordExtent(p.wrappedTileCoord_),_=p.targetTileGrid_.getExtent(),m=p.sourceTileGrid_.getExtent(),T=_?Xr(v,_):v;if(ma(T)===0)return p.state=q.EMPTY,p;var E=t.getExtent();E&&(m?m=Xr(m,E):m=E);var A=o.getResolution(p.wrappedTileCoord_[0]),x=RA(t,i,T,A);if(!isFinite(x)||x<=0)return p.state=q.EMPTY,p;var I=f!==void 0?f:TA;if(p.triangulation_=new wA(t,i,T,m,x*I,A),p.triangulation_.getTriangles().length===0)return p.state=q.EMPTY,p;p.sourceZ_=n.getZForResolution(x);var M=p.triangulation_.calculateSourceExtent();if(m&&(t.canWrapX()?(M[1]=Nt(M[1],m[1],m[3]),M[3]=Nt(M[3],m[1],m[3])):M=Xr(M,m)),!ma(M))p.state=q.EMPTY;else{for(var w=n.getTileRangeForExtentAndZ(M,p.sourceZ_),L=w.minX;L<=w.maxX;L++)for(var N=w.minY;N<=w.maxY;N++){var Y=h(p.sourceZ_,L,N,l);Y&&p.sourceTiles_.push(Y)}p.sourceTiles_.length===0&&(p.state=q.EMPTY)}return p}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(h,f,c){h&&h.getState()==q.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(h.tileCoord),image:h.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=q.ERROR;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(n),l=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=SA(o,a,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),s,u,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=q.LOADED}this.changed()},e.prototype.load=function(){if(this.state==q.IDLE){this.state=q.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,o){var a=n.getState();if(a==q.IDLE||a==q.LOADING){t++;var s=ft(n,rt.CHANGE,function(l){var u=n.getState();(u==q.LOADED||u==q.ERROR||u==q.EMPTY)&&(xt(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,i,o){var a=n.getState();a==q.IDLE&&n.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(xt),this.sourcesListenerKeys_=null},e}(sc),Tc=LA,MA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FA=function(r){MA(e,r);function e(t){var n=r.call(this,t)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=de(),n.tmpTileRange_=new Ec(0,0,0,0),n}return e.prototype.isDrawableTile=function(t){var n=this.getLayer(),i=t.getState(),o=n.getUseInterimTilesOnError();return i==q.LOADED||i==q.EMPTY||i==q.ERROR&&!o},e.prototype.getTile=function(t,n,i,o){var a=o.pixelRatio,s=o.viewState.projection,l=this.getLayer(),u=l.getSource(),h=u.getTile(t,n,i,a,s);return h.getState()==q.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):h.setState(q.LOADED)),this.isDrawableTile(h)||(h=h.getInterimTile()),h},e.prototype.getData=function(t){var n=this.frameState;if(!n)return null;var i=this.getLayer(),o=Dt(n.pixelToCoordinateTransform,t.slice()),a=i.getExtent();if(a&&!hi(a,o))return null;for(var s=n.pixelRatio,l=n.viewState.projection,u=n.viewState,h=i.getRenderSource(),f=h.getTileGridForProjection(u.projection),c=h.getTilePixelRatio(n.pixelRatio),d=f.getZForResolution(u.resolution);d>=f.getMinZoom();--d){var p=f.getTileCoordForCoordAndZ(o,d),v=h.getTile(d,p[1],p[2],s,l);if(!(v instanceof lc||v instanceof Tc))return null;if(v.getState()===q.LOADED){var _=f.getOrigin(d),m=me(f.getTileSize(d)),T=f.getResolution(d),E=Math.floor(c*((o[0]-_[0])/T-p[1]*m[0])),A=Math.floor(c*((_[1]-o[1])/T-p[2]*m[1]));return this.getImageData(v.getImage(),E,A)}}return null},e.prototype.loadedTileCallback=function(t,n,i){return this.isDrawableTile(i)?r.prototype.loadedTileCallback.call(this,t,n,i):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,n){var i=t.layerStatesArray[t.layerIndex],o=t.viewState,a=o.projection,s=o.resolution,l=o.center,u=o.rotation,h=t.pixelRatio,f=this.getLayer(),c=f.getSource(),d=c.getRevision(),p=c.getTileGridForProjection(a),v=p.getZForResolution(s,c.zDirection),_=p.getResolution(v),m=t.extent,T=i.extent&&Pn(i.extent,a);T&&(m=Xr(m,Pn(i.extent,a)));var E=c.getTilePixelRatio(h),A=Math.round(t.size[0]*E),x=Math.round(t.size[1]*E);if(u){var I=Math.round(Math.sqrt(A*A+x*x));A=I,x=I}var M=_*A/2/E,w=_*x/2/E,L=[l[0]-M,l[1]-w,l[0]+M,l[1]+w],N=p.getTileRangeForExtentAndZ(m,v),Y={};Y[v]={};var H=this.createLoadedTileFinder(c,a,Y),k=this.tmpExtent,tt=this.tmpTileRange_;this.newTiles_=!1;for(var K=N.minX;K<=N.maxX;++K)for(var U=N.minY;U<=N.maxY;++U){var B=this.getTile(v,K,U,t);if(this.isDrawableTile(B)){var X=vt(this);if(B.getState()==q.LOADED){Y[v][B.tileCoord.toString()]=B;var et=B.inTransition(X);!this.newTiles_&&(et||this.renderedTiles.indexOf(B)===-1)&&(this.newTiles_=!0)}if(B.getAlpha(X,t.time)===1)continue}var st=p.getTileCoordChildTileRange(B.tileCoord,tt,k),_t=!1;st&&(_t=H(v+1,st)),_t||p.forEachTileCoordParentTileRange(B.tileCoord,H,tt,k)}var P=_/s;Ze(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/E,1/E,u,-A/2,-x/2);var pt=gh(this.pixelTransform);this.useContainer(n,pt,i.opacity,this.getBackground(t));var nt=this.context,Ct=nt.canvas;ss(this.inversePixelTransform,this.pixelTransform),Ze(this.tempTransform,A/2,x/2,P,P,0,-A/2,-x/2),Ct.width!=A||Ct.height!=x?(Ct.width=A,Ct.height=x):this.containerReused||nt.clearRect(0,0,A,x),T&&this.clipUnrotated(nt,t,T),c.getInterpolate()||bt(nt,ba),this.preRender(nt,t),this.renderedTiles.length=0;var jt=Object.keys(Y).map(Number);jt.sort(jn);var wt,Gt,zt;i.opacity===1&&(!this.containerReused||c.getOpaque(t.viewState.projection))?jt=jt.reverse():(wt=[],Gt=[]);for(var ne=jt.length-1;ne>=0;--ne){var Jt=jt[ne],Qe=c.getTilePixelSize(Jt,h,a),g=p.getResolution(Jt),y=g/_,C=Qe[0]*y*P,R=Qe[1]*y*P,O=p.getTileCoordForCoordAndZ(Xn(L),Jt),D=p.getTileCoordExtent(O),G=Dt(this.tempTransform,[E*(D[0]-L[0])/_,E*(L[3]-D[3])/_]),F=E*c.getGutterForProjection(a),b=Y[Jt];for(var S in b){var B=b[S],W=B.tileCoord,j=O[1]-W[1],V=Math.round(G[0]-(j-1)*C),J=O[2]-W[2],at=Math.round(G[1]-(J-1)*R),K=Math.round(G[0]-j*C),U=Math.round(G[1]-J*R),ut=V-K,lt=at-U,dt=v===Jt,et=dt&&B.getAlpha(vt(this),t.time)!==1,Yt=!1;if(!et)if(wt){zt=[K,U,K+ut,U,K+ut,U+lt,K,U+lt];for(var Pt=0,mn=wt.length;Pt<mn;++Pt)if(v!==Jt&&Jt<Gt[Pt]){var It=wt[Pt];ee([K,U,K+ut,U+lt],[It[0],It[3],It[4],It[7]])&&(Yt||(nt.save(),Yt=!0),nt.beginPath(),nt.moveTo(zt[0],zt[1]),nt.lineTo(zt[2],zt[3]),nt.lineTo(zt[4],zt[5]),nt.lineTo(zt[6],zt[7]),nt.moveTo(It[6],It[7]),nt.lineTo(It[4],It[5]),nt.lineTo(It[2],It[3]),nt.lineTo(It[0],It[1]),nt.clip())}wt.push(zt),Gt.push(Jt)}else nt.clearRect(K,U,ut,lt);this.drawTileImage(B,t,K,U,ut,lt,F,dt),wt&&!et?(Yt&&nt.restore(),this.renderedTiles.unshift(B)):this.renderedTiles.push(B),this.updateUsedTiles(t.usedTiles,c,B)}}this.renderedRevision=d,this.renderedResolution=_,this.extentChanged=!this.renderedExtent_||!$r(this.renderedExtent_,L),this.renderedExtent_=L,this.renderedPixelRatio=h,this.renderedProjection=a,this.manageTilePyramid(t,c,p,h,a,m,v,f.getPreload()),this.scheduleExpireCache(t,c),this.postRender(nt,t),i.extent&&nt.restore(),bt(nt,IA),pt!==Ct.style.transform&&(Ct.style.transform=pt);var Fe=Xh(i.opacity),Lt=this.container;return Fe!==Lt.style.opacity&&(Lt.style.opacity=Fe),this.container},e.prototype.drawTileImage=function(t,n,i,o,a,s,l,u){var h=this.getTileImage(t);if(!!h){var f=vt(this),c=u?t.getAlpha(f,n.time):1,d=c!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,i,o,a,s),d&&this.context.restore(),c!==1?n.animate=!0:u&&t.endTransition(f)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,n){if(n.canExpireCache()){var i=function(o,a,s){var l=vt(o);l in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[l])}.bind(null,n);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,n,i){var o=vt(n);o in t||(t[o]={}),t[o][i.getKey()]=!0},e.prototype.manageTilePyramid=function(t,n,i,o,a,s,l,u,h){var f=vt(n);f in t.wantedTiles||(t.wantedTiles[f]={});var c=t.wantedTiles[f],d=t.tileQueue,p=i.getMinZoom(),v=0,_,m,T,E,A,x;for(x=p;x<=l;++x)for(m=i.getTileRangeForExtentAndZ(s,x,m),T=i.getResolution(x),E=m.minX;E<=m.maxX;++E)for(A=m.minY;A<=m.maxY;++A)l-x<=u?(++v,_=n.getTile(x,E,A,o,a),_.getState()==q.IDLE&&(c[_.getKey()]=!0,d.isKeyQueued(_.getKey())||d.enqueue([_,f,i.getTileCoordCenter(_.tileCoord),T])),h!==void 0&&h(_)):n.useTile(x,E,A,a);n.updateCacheSize(v,a)},e}(tc),DA=FA,bA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NA=function(r){bA(e,r);function e(t){return r.call(this,t)||this}return e.prototype.createRenderer=function(){return new DA(this)},e}(EA),GA=NA,ta={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},BA=[0,0,0],nn=5,jA=function(){function r(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ht(Tp(this.resolutions_,function(a,s){return s-a},!0),17);var t;if(!e.origins){for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(!t)t=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ht(this.origins_.length==this.resolutions_.length,20));var o=e.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Xn(o)),ht(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ht(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Ss,ht(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(a,s){var l=new Ec(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var u=this.getTileRangeForExtentAndZ(o,s);l.minX=Math.max(u.minX,l.minX),l.maxX=Math.min(u.maxX,l.maxX),l.minY=Math.max(u.minY,l.minY),l.maxY=Math.min(u.maxY,l.maxY)}return l},this):o&&this.calculateTileRanges_(o)}return r.prototype.forEachTileCoord=function(e,t,n){for(var i=this.getTileRangeForExtentAndZ(e,t),o=i.minX,a=i.maxX;o<=a;++o)for(var s=i.minY,l=i.maxY;s<=l;++s)n([t,o,s])},r.prototype.forEachTileCoordParentTileRange=function(e,t,n,i){var o,a,s,l=null,u=e[0]-1;for(this.zoomFactor_===2?(a=e[1],s=e[2]):l=this.getTileCoordExtent(e,i);u>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=$n(a,a,s,s,n)):o=this.getTileRangeForExtentAndZ(l,u,n),t(u,o))return!0;--u}return!1},r.prototype.getExtent=function(){return this.extent_},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.getMinZoom=function(){return this.minZoom},r.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},r.prototype.getResolution=function(e){return this.resolutions_[e]},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getTileCoordChildTileRange=function(e,t,n){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var i=e[1]*2,o=e[2]*2;return $n(i,i+1,o,o+1,t)}var a=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null},r.prototype.getTileRangeForTileCoordAndZ=function(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;var i=e[0],o=e[1],a=e[2];if(t===i)return $n(o,a,o,a,n);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,t-i),l=Math.floor(o*s),u=Math.floor(a*s);if(t<i)return $n(l,l,u,u,n);var h=Math.floor(s*(o+1))-1,f=Math.floor(s*(a+1))-1;return $n(l,h,u,f,n)}var c=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,t,n)},r.prototype.getTileRangeExtent=function(e,t,n){var i=this.getOrigin(e),o=this.getResolution(e),a=me(this.getTileSize(e),this.tmpSize_),s=i[0]+t.minX*a[0]*o,l=i[0]+(t.maxX+1)*a[0]*o,u=i[1]+t.minY*a[1]*o,h=i[1]+(t.maxY+1)*a[1]*o;return Le(s,u,l,h,n)},r.prototype.getTileRangeForExtentAndZ=function(e,t,n){var i=BA;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,i),$n(o,i[1],a,i[2],n)},r.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=me(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]},r.prototype.getTileCoordExtent=function(e,t){var n=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=me(this.getTileSize(e[0]),this.tmpSize_),a=n[0]+e[1]*o[0]*i,s=n[1]-(e[2]+1)*o[1]*i,l=a+o[0]*i,u=s+o[1]*i;return Le(a,s,l,u,t)},r.prototype.getTileCoordForCoordAndResolution=function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)},r.prototype.getTileCoordForXYAndResolution_=function(e,t,n,i,o){var a=this.getZForResolution(n),s=n/this.getResolution(a),l=this.getOrigin(a),u=me(this.getTileSize(a),this.tmpSize_),h=s*(e-l[0])/n/u[0],f=s*(l[1]-t)/n/u[1];return i?(h=Oi(h,nn)-1,f=Oi(f,nn)-1):(h=Ii(h,nn),f=Ii(f,nn)),au(a,h,f,o)},r.prototype.getTileCoordForXYAndZ_=function(e,t,n,i,o){var a=this.getOrigin(n),s=this.getResolution(n),l=me(this.getTileSize(n),this.tmpSize_),u=(e-a[0])/s/l[0],h=(a[1]-t)/s/l[1];return i?(u=Oi(u,nn)-1,h=Oi(h,nn)-1):(u=Ii(u,nn),h=Ii(h,nn)),au(n,u,h,o)},r.prototype.getTileCoordForCoordAndZ=function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)},r.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},r.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},r.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},r.prototype.getZForResolution=function(e,t){var n=os(this.resolutions_,e,t||0);return Nt(n,this.minZoom,this.maxZoom)},r.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,n=new Array(t),i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n},r}(),xc=jA;function Cc(r){var e=r.getDefaultTileGrid();return e||(e=WA(r),r.setDefaultTileGrid(e)),e}function YA(r,e,t){var n=e[0],i=r.getTileCoordCenter(e),o=Ns(t);if(hi(o,i))return e;var a=St(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,r.getTileCoordForCoordAndZ(i,n)}function kA(r,e,t,n){var i=n!==void 0?n:Gr.TOP_LEFT,o=wc(r,e,t);return new xc({extent:r,origin:Xp(r,i),resolutions:o,tileSize:t})}function UA(r){var e=r||{},t=e.extent||Ft("EPSG:3857").getExtent(),n={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:wc(t,e.maxZoom,e.tileSize,e.maxResolution)};return new xc(n)}function wc(r,e,t,n){for(var i=e!==void 0?e:Ny,o=xe(r),a=St(r),s=me(t!==void 0?t:Ss),l=n>0?n:Math.max(a/s[0],o/s[1]),u=i+1,h=new Array(u),f=0;f<u;++f)h[f]=l/Math.pow(2,f);return h}function WA(r,e,t,n){var i=Ns(r);return kA(i,e,t,n)}function Ns(r){r=Ft(r);var e=r.getExtent();if(!e){var t=180*fe[ze.DEGREES]/r.getMetersPerUnit();e=Le(-t,-t,t,t)}return e}var Ic=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zA=function(r){Ic(e,r);function e(t){var n=r.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;n.on,n.once,n.un,n.opaque_=t.opaque!==void 0?t.opaque:!1,n.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,n.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256];return n.tileGrid&&me(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),i),n.tileCache=new mc(t.cacheSize||0),n.tmpSize=[0,0],n.key_=t.key||"",n.tileOptions={transition:t.transition,interpolate:t.interpolate},n.zDirection=t.zDirection?t.zDirection:0,n}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,n){var i=this.getTileCacheForProjection(t);i&&i.expireCache(n)},e.prototype.forEachLoadedTile=function(t,n,i,o){var a=this.getTileCacheForProjection(t);if(!a)return!1;for(var s=!0,l,u,h,f=i.minX;f<=i.maxX;++f)for(var c=i.minY;c<=i.maxY;++c)u=So(n,f,c),h=!1,a.containsKey(u)&&(l=a.get(u),h=l.getState()===q.LOADED,h&&(h=o(l)!==!1)),h||(s=!1);return s},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,n,i,o,a){return Q()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Cc(t)},e.prototype.getTileCacheForProjection=function(t){return ht(Rn(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,n,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(n),s=me(o.getTileSize(t),this.tmpSize);return a==1?s:ig(s,a,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,n){var i=n!==void 0?n:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=YA(o,t,i)),gA(t,o)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),r.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,n){var i=this.getTileCacheForProjection(n);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,n,i,o){},e}(ic),XA=function(r){Ic(e,r);function e(t,n){var i=r.call(this,t)||this;return i.tile=n,i}return e}(Ve),HA=zA;function ZA(r,e){var t=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,l){if(a)return r.replace(t,a[0].toString()).replace(n,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var u=a[0],h=e.getFullTileRange(u);ht(h,55);var f=h.getHeight()-a[2]-1;return f.toString()})}}function KA(r,e){for(var t=r.length,n=new Array(t),i=0;i<t;++i)n[i]=ZA(r[i],e);return VA(n)}function VA(r){return r.length===1?r[0]:function(e,t,n){if(e){var i=vA(e),o=fr(i,r.length);return r[o](e,t,n)}else return}}function QA(r){var e=[],t=/\{([a-z])-([a-z])\}/.exec(r);if(t){var n=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o=void 0;for(o=n;o<=i;++o)e.push(r.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){for(var a=parseInt(t[2],10),s=parseInt(t[1],10);s<=a;s++)e.push(r.replace(t[0],s.toString()));return e}return e.push(r),e}var JA=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$A=function(r){JA(e,r);function e(t){var n=r.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===e.prototype.tileUrlFunction,n.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(n.tileUrlFunction=t.tileUrlFunction),n.urls=null,t.urls?n.setUrls(t.urls):t.url&&n.setUrl(t.url),n.tileLoadingKeys_={},n}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var n=t.target,i=vt(n),o=n.getState(),a;o==q.LOADING?(this.tileLoadingKeys_[i]=!0,a=ta.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==q.ERROR?ta.TILELOADERROR:o==q.LOADED?ta.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new XA(a,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,n){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof n!="undefined"?this.setKey(n):this.changed()},e.prototype.setUrl=function(t){var n=QA(t);this.urls=n,this.setUrls(n)},e.prototype.setUrls=function(t){this.urls=t;var n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(KA(t,this.tileGrid),n):this.setKey(n)},e.prototype.tileUrlFunction=function(t,n,i){},e.prototype.useTile=function(t,n,i){var o=So(t,n,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},e}(HA),qA=$A,t0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),e0=function(r){t0(e,r);function e(t){var n=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),n=r.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:n0,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,n.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,n.tileClass=t.tileClass!==void 0?t.tileClass:lc,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return e.prototype.canExpireCache=function(){if(!Ge)return r.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,n){if(!Ge){r.prototype.expireCache.call(this,t,n);return}var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?n:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?n:{})}},e.prototype.getGutterForProjection=function(t){return Ge&&this.getProjection()&&t&&!Rn(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=r.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return Ge&&this.getProjection()&&t&&!Rn(this.getProjection(),t)?!1:r.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){if(!Ge)return r.prototype.getTileGridForProjection.call(this,t);var n=this.getProjection();if(this.tileGrid&&(!n||Rn(n,t)))return this.tileGrid;var i=vt(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Cc(t)),this.tileGridForProjection[i]},e.prototype.getTileCacheForProjection=function(t){if(!Ge)return r.prototype.getTileCacheForProjection.call(this,t);var n=this.getProjection();if(!n||Rn(n,t))return this.tileCache;var i=vt(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new mc(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},e.prototype.createTile_=function(t,n,i,o,a,s){var l=[t,n,i],u=this.getTileCoordForTileUrlFunction(l,a),h=u?this.tileUrlFunction(u,o,a):void 0,f=new this.tileClass(l,h!==void 0?q.IDLE:q.EMPTY,h!==void 0?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,f.addEventListener(rt.CHANGE,this.handleTileChange.bind(this)),f},e.prototype.getTile=function(t,n,i,o,a){var s=this.getProjection();if(!Ge||!s||!a||Rn(s,a))return this.getTileInternal(t,n,i,o,s||a);var l=this.getTileCacheForProjection(a),u=[t,n,i],h=void 0,f=yc(u);l.containsKey(f)&&(h=l.get(f));var c=this.getKey();if(h&&h.key==c)return h;var d=this.getTileGridForProjection(s),p=this.getTileGridForProjection(a),v=this.getTileCoordForTileUrlFunction(u,a),_=new Tc(s,d,a,p,u,v,this.getTilePixelRatio(o),this.getGutter(),function(m,T,E,A){return this.getTileInternal(m,T,E,A,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return _.key=c,h?(_.interimTile=h,_.refreshInterimChain(),l.replace(f,_)):l.set(f,_),_},e.prototype.getTileInternal=function(t,n,i,o,a){var s=null,l=So(t,n,i),u=this.getKey();if(!this.tileCache.containsKey(l))s=this.createTile_(t,n,i,o,a,u),this.tileCache.set(l,s);else if(s=this.tileCache.get(l),s.key!=u){var h=s;s=this.createTile_(t,n,i,o,a,u),h.getState()==q.IDLE?s.interimTile=h.interimTile:s.interimTile=h,s.refreshInterimChain(),this.tileCache.replace(l,s)}return s},e.prototype.setRenderReprojectionEdges=function(t){if(!(!Ge||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,n){if(Ge){var i=Ft(t);if(i){var o=vt(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=n)}}},e}(qA);function n0(r,e){r.getImage().src=e}var r0=e0,i0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),o0=function(r){i0(e,r);function e(t){var n=t||{},i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;n.interpolate!==void 0&&(i=n.interpolate);var o=n.projection!==void 0?n.projection:"EPSG:3857",a=n.tileGrid!==void 0?n.tileGrid:UA({extent:Ns(o),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return r.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:i,opaque:n.opaque,projection:o,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return e}(r0),Oc=o0,a0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),s0='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',l0=function(r){a0(e,r);function e(t){var n=t||{},i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;n.interpolate!==void 0&&(i=n.interpolate);var o;n.attributions!==void 0?o=n.attributions:o=[s0];var a=n.crossOrigin!==void 0?n.crossOrigin:"anonymous",s=n.url!==void 0?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return r.call(this,{attributions:o,attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:a,interpolate:i,maxZoom:n.maxZoom!==void 0?n.maxZoom:19,opaque:n.opaque!==void 0?n.opaque:!0,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:s,wrapX:n.wrapX,zDirection:n.zDirection})||this}return e}(Oc),u0=l0,h0=function(){function r(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return r.prototype.getReadOptions=function(e,t){var n;if(t){var i=t.dataProjection?Ft(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()===ze.TILE_PIXELS&&(i=Ft(i),i.setWorldExtent(t.extent)),n={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(n)},r.prototype.adaptOptions=function(e){return bt({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},r.prototype.getType=function(){return Q()},r.prototype.readFeature=function(e,t){return Q()},r.prototype.readFeatures=function(e,t){return Q()},r.prototype.readGeometry=function(e,t){return Q()},r.prototype.readProjection=function(e){return Q()},r.prototype.writeFeature=function(e,t){return Q()},r.prototype.writeFeatures=function(e,t){return Q()},r.prototype.writeGeometry=function(e,t){return Q()},r}();function Rc(r,e,t){var n=t?Ft(t.featureProjection):null,i=t?Ft(t.dataProjection):null,o;if(n&&i&&!Rn(n,i)?o=(e?r.clone():r).transform(e?n:i,e?i:n):o=r,e&&t&&t.decimals!==void 0){var a=Math.pow(10,t.decimals),s=function(l){for(var u=0,h=l.length;u<h;++u)l[u]=Math.round(l[u]*a)/a;return l};o===r&&(o=r.clone()),o.applyTransform(s)}return o}var c0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),f0=function(r){c0(e,r);function e(){return r.call(this)||this}return e.prototype.getType=function(){return ir.JSON},e.prototype.readFeature=function(t,n){return this.readFeatureFromObject(Ni(t),this.getReadOptions(t,n))},e.prototype.readFeatures=function(t,n){return this.readFeaturesFromObject(Ni(t),this.getReadOptions(t,n))},e.prototype.readFeatureFromObject=function(t,n){return Q()},e.prototype.readFeaturesFromObject=function(t,n){return Q()},e.prototype.readGeometry=function(t,n){return this.readGeometryFromObject(Ni(t),this.getReadOptions(t,n))},e.prototype.readGeometryFromObject=function(t,n){return Q()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(Ni(t))},e.prototype.readProjectionFromObject=function(t){return Q()},e.prototype.writeFeature=function(t,n){return JSON.stringify(this.writeFeatureObject(t,n))},e.prototype.writeFeatureObject=function(t,n){return Q()},e.prototype.writeFeatures=function(t,n){return JSON.stringify(this.writeFeaturesObject(t,n))},e.prototype.writeFeaturesObject=function(t,n){return Q()},e.prototype.writeGeometry=function(t,n){return JSON.stringify(this.writeGeometryObject(t,n))},e.prototype.writeGeometryObject=function(t,n){return Q()},e}(h0);function Ni(r){if(typeof r=="string"){var e=JSON.parse(r);return e||null}else return r!==null?r:null}var d0=f0,p0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),v0=function(r){p0(e,r);function e(t){var n=r.call(this)||this;return n.geometries_=t||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(xt),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(!!this.geometries_)for(var t=0,n=this.geometries_.length;t<n;++t)this.changeEventsKeys_.push(ft(this.geometries_[t],rt.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,n,i,o){if(o<zn(this.getExtent(),t,n))return o;for(var a=this.geometries_,s=0,l=a.length;s<l;++s)o=a[s].closestPointXY(t,n,i,o);return o},e.prototype.containsXY=function(t,n){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)if(i[o].containsXY(t,n))return!0;return!1},e.prototype.computeExtent=function(t){ci(t);for(var n=this.geometries_,i=0,o=n.length;i<o;++i)mh(t,n[i].getExtent());return t},e.prototype.getGeometries=function(){return hu(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],n=this.geometries_,i=0,o=n.length;i<o;++i)n[i].getType()===this.getType()?t=t.concat(n[i].getGeometriesArrayRecursive()):t.push(n[i]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],i=this.geometries_,o=!1,a=0,s=i.length;a<s;++a){var l=i[a],u=l.getSimplifiedGeometry(t);n.push(u),u!==l&&(o=!0)}if(o){var h=new e(null);return h.setGeometriesArray(n),h}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return Z.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var n=this.geometries_,i=0,o=n.length;i<o;++i)if(n[i].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return this.geometries_.length===0},e.prototype.rotate=function(t,n){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].rotate(t,n);this.changed()},e.prototype.scale=function(t,n,i){var o=i;o||(o=kn(this.getExtent()));for(var a=this.geometries_,s=0,l=a.length;s<l;++s)a[s].scale(t,n,o);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(hu(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var n=this.geometries_,i=0,o=n.length;i<o;++i)n[i].applyTransform(t);this.changed()},e.prototype.translate=function(t,n){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].translate(t,n);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),r.prototype.disposeInternal.call(this)},e}(Sh);function hu(r){for(var e=[],t=0,n=r.length;t<n;++t)e.push(r[t].clone());return e}var g0=v0,_0=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),y0=function(r){_0(e,r);function e(t){var n=this,i=t||{};return n=r.call(this)||this,n.dataProjection=Ft(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(n.defaultFeatureProjection=Ft(i.featureProjection)),n.geometryName_=i.geometryName,n.extractGeometryName_=i.extractGeometryName,n.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],n}return e.prototype.readFeatureFromObject=function(t,n){var i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};var o=Na(i.geometry,n),a=new as;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&a.setGeometryName(i.geometry_name),a.setGeometry(o),"id"in i&&a.setId(i.id),i.properties&&a.setProperties(i.properties,!0),a},e.prototype.readFeaturesFromObject=function(t,n){var i=t,o=null;if(i.type==="FeatureCollection"){var a=t;o=[];for(var s=a.features,l=0,u=s.length;l<u;++l)o.push(this.readFeatureFromObject(s[l],n))}else o=[this.readFeatureFromObject(t,n)];return o},e.prototype.readGeometryFromObject=function(t,n){return Na(t,n)},e.prototype.readProjectionFromObject=function(t){var n=t.crs,i;return n?n.type=="name"?i=Ft(n.properties.name):n.type==="EPSG"?i=Ft("EPSG:"+n.properties.code):ht(!1,36):i=this.dataProjection,i},e.prototype.writeFeatureObject=function(t,n){n=this.adaptOptions(n);var i={type:"Feature",geometry:null,properties:null},o=t.getId();if(o!==void 0&&(i.id=o),!t.hasProperties())return i;var a=t.getProperties(),s=t.getGeometry();return s&&(i.geometry=Ga(s,n),delete a[t.getGeometryName()]),yr(a)||(i.properties=a),i},e.prototype.writeFeaturesObject=function(t,n){n=this.adaptOptions(n);for(var i=[],o=0,a=t.length;o<a;++o)i.push(this.writeFeatureObject(t[o],n));return{type:"FeatureCollection",features:i}},e.prototype.writeGeometryObject=function(t,n){return Ga(t,this.adaptOptions(n))},e}(d0);function Na(r,e){if(!r)return null;var t;switch(r.type){case Z.POINT:{t=A0(r);break}case Z.LINE_STRING:{t=E0(r);break}case Z.POLYGON:{t=w0(r);break}case Z.MULTI_POINT:{t=x0(r);break}case Z.MULTI_LINE_STRING:{t=T0(r);break}case Z.MULTI_POLYGON:{t=C0(r);break}case Z.GEOMETRY_COLLECTION:{t=m0(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return Rc(t,!1,e)}function m0(r,e){var t=r.geometries.map(function(n){return Na(n,e)});return new g0(t)}function A0(r){return new ei(r.coordinates)}function E0(r){return new Ra(r.coordinates)}function T0(r){return new eA(r.coordinates)}function x0(r){return new _c(r.coordinates)}function C0(r){return new sA(r.coordinates)}function w0(r){return new ni(r.coordinates)}function Ga(r,e){r=Rc(r,!0,e);var t=r.getType(),n;switch(t){case Z.POINT:{n=L0(r);break}case Z.LINE_STRING:{n=O0(r);break}case Z.POLYGON:{n=M0(r,e);break}case Z.MULTI_POINT:{n=S0(r);break}case Z.MULTI_LINE_STRING:{n=R0(r);break}case Z.MULTI_POLYGON:{n=P0(r,e);break}case Z.GEOMETRY_COLLECTION:{n=I0(r,e);break}case Z.CIRCLE:{n={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return n}function I0(r,e){var t=r.getGeometriesArray().map(function(n){var i=bt({},e);return delete i.featureProjection,Ga(n,i)});return{type:"GeometryCollection",geometries:t}}function O0(r,e){return{type:"LineString",coordinates:r.getCoordinates()}}function R0(r,e){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function S0(r,e){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function P0(r,e){var t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(t)}}function L0(r,e){return{type:"Point",coordinates:r.getCoordinates()}}function M0(r,e){var t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(t)}}var F0=y0;Ev();const cu=(r,e,t)=>{var i,o,a,s;const n={target:r,layers:[new GA({source:e?new Oc({url:e}):new u0})],view:new hn({center:(i=t==null?void 0:t.center)!=null?i:[0,0],projection:(o=t==null?void 0:t.projection)!=null?o:"EPSG:4326",zoom:7,minZoom:Math.max(2,(a=t==null?void 0:t.minZoom)!=null?a:0),maxZoom:Math.min(20,(s=t==null?void 0:t.maxZoom)!=null?s:20)}),controls:[]};return new cA(n)},D0=(r,e)=>{var t,n,i,o;return(e==null?void 0:e.strokeType)==="dashed"&&!(e!=null&&e.dashArray)&&console.warn('[OlController] The "style.StrokeType" will not function as "style.dashArray" is in invalid format.'),new Os({source:new Rs({url:r,format:new F0}),style:new ws({stroke:new xs({color:(t=e==null?void 0:e.stroke)!=null?t:"#777",width:(n=e==null?void 0:e.strokeWidth)!=null?n:2,lineDash:(e==null?void 0:e.strokeType)==="dashed"?(i=e==null?void 0:e.dashArray)!=null?i:[0,0]:[0,0]}),fill:new Ts({color:(o=e==null?void 0:e.fill)!=null?o:"transparent"})})})},b0=(r,e)=>{(e==null?void 0:e.strokeType)==="dashed"&&!(e!=null&&e.dashArray)&&console.warn('[OlController] The "style.StrokeType" will not function as "style.dashArray" is in invalid format.');const t=new Rs,n=new Os({source:t});return r.forEach(i=>{var s,l,u,h,f,c,d,p,v,_,m;const o=new as({type:"polygon",geometry:new ni([i.path]),self:i});let a=[0,0];((s=i.style)==null?void 0:s.strokeType)==="dashed"&&!!i.style.dashArray?a=i.style.dashArray:!((l=i.style)!=null&&l.strokeType)&&(e==null?void 0:e.strokeType)==="dashed"&&!!e.dashArray&&(a=e.dashArray),o.setStyle(new ws({stroke:new xs({color:(f=(h=(u=i.style)==null?void 0:u.stroke)!=null?h:e==null?void 0:e.stroke)!=null?f:"#777",width:(p=(d=(c=i.style)==null?void 0:c.strokeWidth)!=null?d:e==null?void 0:e.strokeWidth)!=null?p:2,lineDash:a}),fill:new Ts({color:(m=(_=(v=i.style)==null?void 0:v.fill)!=null?_:e==null?void 0:e.fill)!=null?m:"transparent"})})),t.addFeature(o)}),n},N0=(r,e)=>{const t=new Rs,n=new Os({source:t});return r.forEach(i=>{var a;const o=new as({type:"point",geometry:new ei(i.anchor),self:i});o.setStyle(new ws({image:new ec({anchor:[.5,.5],scale:.5,anchorXUnits:"fraction",anchorYUnits:"fraction",src:(a=i.icon)!=null?a:e})})),t.addFeature(o)}),n};var pr,Qt,ie;class G0{constructor(e,t,n){mi(this,pr,void 0);mi(this,Qt,null);mi(this,ie,new Map);Mr(this,pr,e),Mr(this,Qt,cu(e,t,n))}get dom(){return Rt(this,pr)}get instantiated(){return Rt(this,Qt)!==null}get layers(){return[...Rt(this,ie).keys()]}render(e,t){Rt(this,Qt)!==null&&(console.warn('[OlController] There is a map instance on the target dom, calling the method "render" will overwrite the old map instance. If that`s what you`re doing, ignore this warning.'),this.dispose()),Mr(this,Qt,cu(Rt(this,pr),e,t))}addPolygonLayer(e,t,n){if(!Rt(this,Qt))console.warn("[OlController] The map instance has already disposed.");else if(Rt(this,ie).has(e)&&console.warn(`[OlController] A layer named "${e}" already exists, the old layer will be replaced by the new layer. If that's what you're doing, ignore this warning.`),typeof t=="string"){const i=D0(t,n);Rt(this,ie).set(e,i),Rt(this,Qt).addLayer(i),console.log(i)}else{const i=b0(t,n);Rt(this,ie).set(e,i),Rt(this,Qt).addLayer(i)}}addPointLayer(e,t,n){if(!Rt(this,Qt))console.warn("[OlController] The map instance has already disposed.");else{Rt(this,ie).has(e)&&console.warn(`[OlController] A layer named "${e}" already exists, the old layer will be replaced by the new layer. If that's what you're doing, ignore this warning.`);const i=N0(t,n);Rt(this,ie).set(e,i),Rt(this,Qt).addLayer(i)}}removeLayer(e){var t;(t=Rt(this,ie).get(e))==null||t.dispose(),Rt(this,ie).delete(e)}animateTo(e,t=1500){var n;(n=Rt(this,Qt))==null||n.getView().animate({center:e,duration:t})}clear(){Rt(this,ie).forEach(e=>{e.dispose()}),Rt(this,ie).clear()}dispose(){var e;this.clear(),(e=Rt(this,Qt))==null||e.dispose(),Mr(this,Qt,null)}}pr=new WeakMap,Qt=new WeakMap,ie=new WeakMap;var B0=(r,e)=>{const t=r.__vccOpts||r;for(const[n,i]of e)t[n]=i;return t};const Et=r=>(bf("data-v-73e04baa"),r=r(),Nf(),r),j0={class:"home"},Y0={class:"panel-view"},k0=Et(()=>z("i",{class:"iconfont icon-reset_basic"},null,-1)),U0=Et(()=>z("span",null,"\u8F7D\u5165\u9ED8\u8BA4",-1)),W0=[k0,U0],z0=Et(()=>z("i",{class:"iconfont icon-ditu"},null,-1)),X0=Et(()=>z("span",null,"\u53C2\u6570\u7ED8\u5236",-1)),H0=[z0,X0],Z0={class:"block"},K0=Et(()=>z("span",null,"Url of map tile",-1)),V0=Et(()=>z("i",{class:"iconfont icon-15qingkong-1"},null,-1)),Q0=Et(()=>z("span",null,"\u6E05\u9664",-1)),J0=[V0,Q0],$0={class:"block"},q0=Et(()=>z("span",null,"Center",-1)),tE=Et(()=>z("i",{class:"iconfont icon-jujiao"},null,-1)),eE=Et(()=>z("span",null,"\u805A\u7126",-1)),nE=[tE,eE],rE={class:"two-ipt"},iE=Et(()=>z("span",{class:"label"},"lon:",-1)),oE=Et(()=>z("span",{class:"label"},"lat:",-1)),aE={class:"block"},sE=Et(()=>z("span",null,"Point",-1)),lE=Et(()=>z("i",{class:"iconfont icon-dianping"},null,-1)),uE=Et(()=>z("span",null,"\u6DFB\u52A0\u70B9\u4F4D",-1)),hE=[lE,uE],cE={class:"two-ipt"},fE=Et(()=>z("span",{class:"label"},"lon:",-1)),dE=Et(()=>z("span",{class:"label"},"lat:",-1)),pE={class:"block"},vE=Et(()=>z("span",null,"Polygon",-1)),gE=Et(()=>z("i",{class:"iconfont icon-huizhi-01"},null,-1)),_E=Et(()=>z("span",null,"\u6DFB\u52A0\u533A\u57DF",-1)),yE=[gE,_E],mE={class:"ipt-and-file"},AE=Et(()=>z("span",{class:"label"},"url:",-1)),EE=Et(()=>z("i",{class:"iconfont icon-json"},null,-1)),TE=Et(()=>z("span",null,"\u9009\u62E9\u6587\u4EF6",-1)),xE=[EE,TE],CE={class:"block"},wE=Et(()=>z("div",{class:"label"},[z("span",null,"Overview")],-1)),IE={class:"line"},OE=Et(()=>z("span",{class:"key"},"Polygon",-1)),RE={class:"val"},SE={class:"line"},PE=Et(()=>z("span",{class:"key"},"Point",-1)),LE={class:"val"},ME={class:"map-view"},FE=Vf({__name:"Home",setup(r){const e={url:"",panel_center_longitude:"116.3",panel_center_latitude:"39.9",panel_point_longitude:"",panel_point_latitude:"",panel_polygon_url:""},t=De(e.url),n=De(e.panel_center_longitude),i=De(e.panel_center_latitude),o=De(e.panel_point_longitude),a=De(e.panel_point_latitude),s=De(e.panel_polygon_url),l=()=>{t.value=e.url,n.value=e.panel_center_longitude,i.value=e.panel_center_latitude,o.value=e.panel_point_longitude,a.value=e.panel_point_latitude,s.value=e.panel_polygon_url},u=()=>{l(),p()},h=De(null),f=Tf(null),c=De(0),d=De(0),p=()=>{var A,x,I;h.value&&((A=f.value)==null||A.dispose(),f.value=new G0(h.value,t.value,{center:[parseFloat((x=n.value)!=null?x:"116.3"),parseFloat((I=i.value)!=null?I:"39.9")]}))},v=()=>{var A,x;(A=f.value)!=null&&A.instantiated?!n.value||!i.value?alert("\u65E0\u6548\u70B9\u4F4D\u503C"):(x=f.value)==null||x.animateTo([parseFloat(n.value),parseFloat(i.value)]):alert("\u8BF7\u5148\u6E32\u67D3\u5730\u56FE")},_=()=>{var A,x;(A=f.value)!=null&&A.instantiated?!o.value||!a.value?alert("\u65E0\u6548\u70B9\u4F4D\u503C"):((x=f.value)==null||x.addPointLayer("points"+c.value,[{anchor:[parseFloat(o.value),parseFloat(a.value)]}],"./wujiaoxing.png"),c.value+=1):alert("\u8BF7\u5148\u6E32\u67D3\u5730\u56FE")},m=()=>{var A,x;(A=f.value)!=null&&A.instantiated?s.value?((x=f.value)==null||x.addPolygonLayer("polygon"+d.value,s.value),d.value+=1):alert("\u65E0\u6548url"):alert("\u8BF7\u5148\u6E32\u67D3\u5730\u56FE")},T=()=>{var A;if(!((A=f.value)!=null&&A.instantiated))alert("\u8BF7\u5148\u6E32\u67D3\u5730\u56FE");else{const x=document.createElement("input");x.type="file",x.click(),x.onchange=()=>{var M;const I=(M=x.files)==null?void 0:M[0];if(!I)alert("\u65E0\u53EF\u7528\u6587\u4EF6");else{const w=I.name.toLowerCase();if(!w.endsWith(".json")&&!w.endsWith(".geojson"))alert("\u9519\u8BEF\u683C\u5F0F");else{const L=new FileReader;L.onload=()=>{var N;(N=f.value)==null||N.addPolygonLayer("polygon"+d.value,L.result),d.value+=1},L.onerror=N=>{console.log(N),alert("\u8BFB\u53D6\u6587\u4EF6\u51FA\u9519, \u67E5\u770B\u63A7\u5236\u53F0\u4EE5\u83B7\u5F97\u66F4\u591A\u4FE1\u606F.")},L.readAsDataURL(x.files[0])}}}}},E=()=>{var A;(A=f.value)==null||A.clear(),c.value=0,d.value=0};return ts(()=>{var A;(A=f.value)==null||A.dispose()}),(A,x)=>(Cd(),Od("div",j0,[z("div",Y0,[z("div",{class:"title-banner"},[z("div",{class:"btn",title:"\u4F7F\u7528\u5185\u7F6E\u9ED8\u8BA4\u53C2\u6570\u7ED8\u5236\u5730\u56FE",onClick:u},W0),z("div",{class:"btn",title:"\u4F7F\u7528\u5F53\u524D\u9762\u677F\u53C2\u6570\u7ED8\u5236\u5730\u56FE",onClick:p},H0)]),z("div",Z0,[z("div",{class:"label"},[K0,z("div",{class:"btn",title:"\u6E05\u9664\u5E95\u56FE\u5916\u7684\u5168\u90E8\u9644\u52A0\u5C42",onClick:E},J0)]),Zn(z("input",{class:"val",type:"text","onUpdate:modelValue":x[0]||(x[0]=I=>t.value=I),placeholder:"use default OSM if empty."},null,512),[[Kn,t.value]])]),z("div",$0,[z("div",{class:"label"},[q0,z("div",{class:"btn",title:"\u5C06\u70B9\u4F4D\u79FB\u52A8\u5230\u89C6\u56FE\u4E2D\u592E",onClick:v},nE)]),z("div",rE,[iE,Zn(z("input",{class:"val",type:"text","onUpdate:modelValue":x[1]||(x[1]=I=>n.value=I),placeholder:"default: 116.3."},null,512),[[Kn,n.value]]),oE,Zn(z("input",{class:"val",type:"text","onUpdate:modelValue":x[2]||(x[2]=I=>i.value=I),placeholder:"default: 39.9."},null,512),[[Kn,i.value]])])]),z("div",aE,[z("div",{class:"label"},[sE,z("div",{class:"btn",title:"\u5728\u5730\u56FE\u4E0A\u76EE\u6807\u70B9\u4F4D\u6DFB\u52A0\u56FE\u6807",onClick:_},hE)]),z("div",cE,[fE,Zn(z("input",{class:"val",type:"text","onUpdate:modelValue":x[3]||(x[3]=I=>o.value=I),placeholder:"longitude"},null,512),[[Kn,o.value]]),dE,Zn(z("input",{class:"val",type:"text","onUpdate:modelValue":x[4]||(x[4]=I=>a.value=I),placeholder:"latitude"},null,512),[[Kn,a.value]])])]),z("div",pE,[z("div",{class:"label"},[vE,z("div",{class:"btn",title:"\u4F7F\u7528url\u5B9A\u4F4DgetJson\u7ED8\u5236\u533A\u57DF",onClick:m},yE)]),z("div",mE,[AE,Zn(z("input",{class:"val",type:"text","onUpdate:modelValue":x[5]||(x[5]=I=>s.value=I),placeholder:"Url of GeoJson file."},null,512),[[Kn,s.value]]),z("div",{class:"btn",title:"\u9009\u62E9\u672C\u5730\u6587\u4EF6\u7ED8\u5236\u533A\u57DF(\u652F\u6301: .json, .geojson)",onClick:T},xE)])]),z("div",CE,[wE,z("div",IE,[OE,z("span",RE,zs(d.value),1)]),z("div",SE,[PE,z("span",LE,zs(c.value),1)])])]),z("div",ME,[z("div",{id:"ol-container",ref_key:"container",ref:h},null,512)])]))}});var DE=B0(FE,[["__scopeId","data-v-73e04baa"]]);fp(DE).mount("#app");
